// ==UserScript==
// @name            GTweaks V2
// @namespace       Grifmin-GTweaks-V2
// @match           *://*shellshock.io/*
// @run-at          document-start
// @version         1.10.2026
// @author          Grifmin
// @description     A work in progress. (if you get this somehow, just know its not complete)
// @unwrap
// ==/UserScript==
"use strict";(()=>{var Q=Object.freeze,Y=Object.defineProperty;var tt=(e,t)=>{for(var n in t)Y(e,n,{get:t[n],enumerable:!0})};var p=(e,t)=>Q(Y(e,"raw",{value:Q(t||e.slice())}));var g={success:"background: #006700 ;padding:.125em .375em;border-radius:.1875em;margin-right:.3125em;",warn:"background: #ff6d00 ;padding:.125em .375em;border-radius:.1875em;margin-right:.3125em;",fail:"background: #FF0000 ;padding:.125em .375em;border-radius:.1875em;margin-right:.3125em;",info:"background: #413C26 ;padding:.125em .375em;border-radius:.1875em;margin-right:.3125em;",number:"color: #7E64FF ; padding:.125em .375em;border-radius:.1875em;margin-right:.3125em;"},{log:hn,warn:nt,error:it,info:ot,debug:rt}=console;function v(e,...t){ot("%cG-Tweaks: %c".concat(e),g.success,"",...t)}function S(e,...t){it("%cG-Tweaks Error: %c".concat(e),g.fail,"",...t)}function T(e,...t){nt("%cG-Tweaks Warn: %c".concat(e),g.warn,"",...t)}function D(e,...t){rt("%cG-Tweaks Debug: %c".concat(e),g.warn,"",...t)}var ee={aliases:{"star wars":{tags:["Eggwalker","Eggwalker2"],negate:[1127,1135,1319]},mario:{tags:["Kart"]},"among us":{tags:["AmongEgg"]}}};var{aliases:te}=ee;function ne(e,t,n){return t.filter(i=>(n.isCaseSensitive?i.name:i.name.toLowerCase()).includes(e))}function at(e,t,n){let i=Number(e);return t.filter(r=>r.id==i)}function ct(e,t,n){return t.filter(i=>(n.isCaseSensitive?i.item_data.meshName:i.item_data.meshName?.toLowerCase())?.includes(e))}function dt(e,t){let n=[];if(t.tags){let{tags:i}=t,r=e.filter(o=>o.item_data.tags?.some(s=>i.includes(s)));n=n.concat(r)}else if(t.ids){let{ids:i}=t,r=e.filter(o=>i.includes(o.id));n=n.concat(r)}else if(t.names){let{names:i}=t,r=i.map(o=>ne(o,e,{isCaseSensitive:!0})).flat();n=n.concat(r)}if(t.negate){let{negate:i}=t;n=n.filter(r=>!i.includes(r.id))}return n}function lt(e,t,n){let i=[],r=d=>d.replace(/\s/g,""),o=Object.keys(te).map(r);if(!o.some(d=>d.includes(e)))return v("".concat(e," not in"),o),[];let s=([d,l])=>[r(d),l],a=Object.entries(te).map(s);for(let[d,l]of a){if(!d.includes(e))continue;let h=dt(t,l);i=i.concat(h)}return i}function mt(e,t,n){return t.filter(i=>i.item_data.tags?.some(r=>(n.isCaseSensitive?r:r.toLowerCase()).includes(e)))}var ut=[ct,ne,lt,at,mt],N=class{items;options;constructor(t,n){Object.assign(this,{items:t,options:n})}search(t){t=this.options.isCaseSensitive?t:t.toLowerCase();let n=ut.map(r=>r(t,this.items,this.options)).flat(),i=[...new Set(n)];return Object.entries(i).map(([r,o])=>({item:o}))}},pt="\nThis extension provides an alternative searching method for the inventory. \nCompletely optional though. \nFeel free to request improvements for the alternative search extension!\n".trim(),W,P;function gt(){Object.defineProperty(window,"Fuse",{get(){return P?N:W},set(e){W=e},configurable:!0})}var ie=b({uniqueIdentifier:"Grifmin-AlternativeSearch",defaultSettings:{enabled:!1},author:"Grifmin",description:pt,version:"1.0",name:"Alternative Search",init(){W=window.Fuse,P=this.settings.enabled,gt()},config(){return[{type:"Toggle",label:"Enable",value:this.settings.enabled}]},onOptionsChange(e){if(D("".concat(this.name," - "),e,this.settings),e.label=="Enable"&&e.type=="Toggle"){let t=e.value;D("".concat(this.name," - updating state from ").concat(this.settings.enabled," to ").concat(e.value)),this.settings.enabled=t,P=t}return P},isEnabled(){return this.settings.enabled}});var G={},I={get sourcemappings(){return G},src:"",Getter:()=>{throw new Error("Getter not defined yet.")},getMappings(e=G){function t(r){try{return I.Getter(r)}catch{return}}let n=Object.entries(e).map(([r,o])=>[r,t(o)]);return Object.fromEntries(n)}};function R(e){Object.assign(G,e)}function oe(e){try{Object.defineProperty(window,"ModLoader",{get:()=>e,configurable:!0})}catch(t){S("Error when attempting to define ModLoader on window",t)}}function re(){if("ModLoader"in window){let e=window.ModLoader,t=Object.entries(I).filter(([o,s])=>!e[o]),n=Object.fromEntries(t),i=Object.assign(n,window.ModLoader),r=new Error("ModLoader already defined on window object",{cause:window.ModLoader});return oe(i),S("%cWarning: ",g.warn,r)}oe(I)}var H={};tt(H,{AdblockMod:()=>ht,AntiAFKKick:()=>Mt,ChallengesReRoll:()=>yt,ChickenWinnerTryPlay:()=>bt,ExcessiveLogsPatch:()=>vt,StripObfuscatedCode:()=>wt,addChatRewrite:()=>xt,exitSpectateModePatch:()=>Tt,onChatKeyDownRewrite:()=>$t,setRespawnTimerMod:()=>St});async function $(e,t=250,n=45e3){let i=Date.now(),r;return new Promise((o,s)=>{r=setInterval(()=>{if(Date.now()-i>=n)return clearInterval(r),s("Timed out, waited for - ".concat(n,"ms"));e()&&(clearInterval(r),o())},t)})}var k=class extends Error{};function ae(e,t,...n){function i(o){return o==null?"":o.replace(/\$/gm,"\\$").replace(".","\\.")}let r=t.map((o,s)=>o+i(n[s])).join("");return new RegExp(r,e)}var ft=(e,...t)=>ae("",e,...t),se="gmidusvy",f=new Proxy(ft,{get(e,t){if(t=="name")return e;if(!t.split("").every(i=>se.includes(i)))throw new k('"'.concat(t,'" includes invalid characters. valid characters: ').concat(se));return(i,...r)=>ae(t,i,...r)}});function c(e,t,n){let i=e.exec(t);if(!i)throw new k(n??"Error pattern matching with ".concat(e),{cause:e});return i}var ce,de,ht={name:"Anti Adblock",description:"Has multiple little patches to assist with getting around adblocking measures.",version:"10.12.25",modify:function(e){f.gm(ce||(ce=p(["testing"])));let t=c(/get productBlockAds\(\)\s?{return ([\.A-z0-9_$]+)}/gm,e,"Failed to grab productBlockAds"),[,n]=t,i=f.gm(de||(de=p(["(","=)"])),n),r=/(console\.log\(`Mouse button \$\{\w\.button\} (?:up|down), Pointer Lock: \$\{!!document\.pointerLockElement\}`\))/gm;return e=e.replace(i,"$1true||$2").replace(r,"void 69 /*$1*/").replace(/(hideAds=)([A-z0-9_!]+)/gm,"$1true||$2").replace(/adBlockerDetected\(\){.*?}/gm,"adBlockerDetected(){}"),e}},yt={name:"Challenges Re-Roll bypass",description:"Bypasses the challenges re-roll from checking the vip (isUpgraded) status of the user.",version:"8.30.25",modify:function(e){let t=/(isUpgraded\(\))(\?[\w_$]+\([\w_$]+,this\.rerollVipSuccess\.bind\(this)/gm;return e.replace(t,"$1||true$2")}},bt={name:"Chicken Winner Play bypass",description:"Bypasses the chicken winner `chwTryPlay` function from checking the vip (isUpgraded) status of the user.",version:"10.12.25",modify:function(e){let t=/[\.A-z0-0_$]+\.isUpgraded\(\)(\?\([A-z09-9_$]+\("chwTryPlay\(\) VIP\. No ads for you!)/gm;return e.replace(t,"true$1")}},wt={name:"Strip Obfuscated Code",description:"This strips out the randomly obfuscated code that is in the game files",version:"10.12.25",modify:function(e){let t=/(var ([\w_$]+),([\w_$]+),([\w_$]+)=\[(?:"[\w=]+",){5}"[\w]+"\].*?};)/gm;e=e.replace(t,"/*$1*/");let n=/(new\(window\[.*?\].*?}\);)/gm;return e=e.replace(n,"/*$1*/"),e}},vt={name:"Excessive Logs Patch",description:"Reduces some of the (in my opinion) excessive and annoyingh logging",version:"10.12.25",modify:function(e){return e=e.replace(/(setTimeout)(\(\(\(\)=>\([\w$_]+=null,console\.log\("%cSTOP!)/gm,"void/*$1*/ $2").replace(/(console\.log\("ACTIVE ZONE IS NOW.*?\))/gm,"void 0/*$1*/").replace(/(console\.log\("action",[\w$_]+\.name\|\|[\w$_]+\),)/gm,"/*$1*/"),e}},le,me,ue,pe,ge,fe,he,ye,xt={name:"addChat rewrite",description:"\n	a re written version of the addChat function.\n	Display filtered messages, patches potential RCE bug (yes i reported it back in 1.15.2024)\n	",version:"10.31.25",modify:function(e){let t=/function ([\w$_]+)\(((?:[\w$_]+),?){5}\){const [\w$_]+=[\w$_]+\.querySelectorAll\("\.chat-item/gm,[,n]=c(t,e),i=f.gm(le||(le=p(["(function ","\\(([\\w_$]+),([\\w_$]+),([\\w_$]+),([\\w_$]+),([\\w_$]+)\\){.*?})function"],["(function ","\\\\(([\\\\w_$]+),([\\\\w_$]+),([\\\\w_$]+),([\\\\w_$]+),([\\\\w_$]+)\\\\){.*?})function"])),n),r=c(i,e,"Unable to grab addChat function name"),[,o,s,a,d,l,h]=r,[,m,x]=c(f.gm(me||(me=p(["([A-z0-9_$]+)=([A-z0-9_$]+)\\[","]"],["([A-z0-9_$]+)=([A-z0-9_$]+)\\\\[","]"])),d),o,"unable to get player, playerlist"),[,y]=c(/([A-z0-9_$]+)\.querySelectorAll\("\.chat-item"\)/,o),[,,w]=c(/([A-z0-9_$]+)\.length>0&&!([A-z0-9_$]+)\(\1\)/,o),[,E]=c(f.gm(ue||(ue=p(["([A-z0-9_$]+)\\(",".social\\)"],["([A-z0-9_$]+)\\\\(","\\.social\\\\)"])),m),o),[,M]=c(f.gm(pe||(pe=p(["([A-z0-9_$]+)\\.text\\[","\\.team\\]"],["([A-z0-9_$]+)\\\\.text\\\\[","\\\\.team\\\\]"])),m),o),[,_]=c(f.gm(ge||(ge=p(["","===([A-z0-9_$]+)\\|\\|"],["","===([A-z0-9_$]+)\\\\|\\\\|"])),d),o),[,O]=c(/[\w$_]+&([\w$_\.]+|)&&\([\w$_]+\.classList\.add\(/gm,o,"Chatflags.pinned"),[,B]=c(/[\w$_]+&([\w$_\.]+)&&\(.\.style\.color=[\w$_]+\.text/gm,o,"Chatflags.team"),[,L]=c(/([A-z0-9_$]+)\.scrollTop=\1\.scrollHeight/,o),[,q]=c(/"clickme"\),([A-z0-9_$]+)\(([A-z0-9_$]+),([A-z0-9_$]+),([A-z0-9_$]+)\)/,o),[,A]=c(f.gm(fe||(fe=p(["([A-z0-9_$]+)\\.innerHTML=",",","="],["([A-z0-9_$]+)\\\\.innerHTML=",",","="])),s,s),o),[,X]=c(f.gm(he||(he=p(["=","\\.([\\w_$]+)"],["=","\\\\.([\\\\w_$]+)"])),m),o),[,Z]=c(f.gm(ye||(ye=p(["[\\w$_]+!=([\\w$_]+).",""],["[\\\\w$_]+!=([\\\\w$_]+)\\.",""])),X),o);R({addChat:n,me:Z,isBadWord:w,teamColors:M,chatOutEl:y,players:x,meId:_});let et="function ".concat(n," (message, flags, playerId, custom_click_callback, formatter) {\n        let chatItems = ").concat(y,'.querySelectorAll(".chat-item");\n        if (!message) {\n            /* this is scuffed, but this is accurate to the vanilla function...*/\n            if (!flags & ').concat(O,') return;\n            for (let chat of chatItems) {\n                if (!chat.classList.contains("chat-pinned-item")) return;\n                chat.remove();\n            }\n        }\n\n        let chatItem        = document.createElement("div");\n        let playerMsgSpan   = document.createElement("span");\n        let playerInfoDiv   = document.createElement("div");\n        let playerNameSpan  = document.createElement("span");\n        let socialIcon      = document.createElement("i");\n\n        let hasUpgrade      = false;\n        let SocialBadge     = false;\n        let uniqueId        = false;\n\n        chatItem.classList.add("chat-item");\n        playerInfoDiv.style.display = "inline-block";\n\n        /* i dont like this if statement tbh, but i guess its fine for now. (replicate first, before modification)*/\n        if (playerId > 253) {\n            if (playerId == 255) {\n                playerNameSpan.textContent = "SERVER: ";\n                playerInfoDiv.style.color = "#ff0";\n            } else if (playerId == 254) {\n                playerNameSpan.textContent = "MOD: ";\n                playerInfoDiv.style.color = "#0f0";\n            }\n            playerNameSpan.classList.add("chat-player-name", "ss_marginright_xs");\n            playerInfoDiv.appendChild(playerNameSpan);\n        } else {\n            let player = ').concat(x,'[playerId];\n            \n            /* here they are "purifying" the text to remove any <asdf>. but why innerHTML */\n            ').concat(A,".innerHTML = message;\n            message = ").concat(A,".textContent.trim();\n\n            const condition = ( playerId === ").concat(_," || ((!(player?.muted ?? true) && message.length)) );\n			/* updated (better) condition*/\n            /*const condition = ( playerId === ").concat(_," ||\n                (\n                    playerId !== null && \n                    player && // (sometimes it gives a incorrect Idx and player var is null)\n                    !player.muted && // you can just do !player?.muted instead of this ^ (rewrite later)\n                    message.length > 0 &&\n                    // !").concat(w,'(message) && // no chat filter please :eyes:\n                    message.indexOf("<") // btw. wtf is this for??\n                )\n            )*/\n            /* rewrite "condition" var as its not an actual declared variable? */\n            if (condition) {\n                /* hasUpgrade = !!(player.upgradeProductId && player.upgradeProductId > 0)  bruh */\n                hasUpgrade = (player?.upgradeProductId > 1);\n                SocialBadge = ').concat(E,'(player.social);\n\n                if (SocialBadge && !player.hideBadge) {\n                    socialIcon.classList.add("fab", SOCIALMEDIA[SocialBadge.id]);\n                    /*  should SOCIALMEDIA be dynamic? ^ it is a const in index.html*/\n                    socialIcon.classList.add("ss_marginright_xs");\n                } else if (hasUpgrade && !player.hideBadge) {\n                    socialIcon.classList.add("fas", "fa-egg", "hidden", "text_gold", "vip-egg");\n                    socialIcon.classList.add("ss_marginright_xs");\n                }\n                uniqueId = player.').concat(X,';\n                playerNameSpan.classList.add("chat-player-name", "ss_marginright_xs");\n                playerNameSpan.textContent = player.name + ": ";\n                /* console.log(player.name, message); stawp it console logging :(*/\n                if (flags & ').concat(B,") {\n                    playerMsgSpan.style.color = ").concat(M,'.text[player.team];\n                    playerMsgSpan.classList.add("chat-team");\n                }\n                playerInfoDiv.style.color = ').concat(M,'.text[player.team];\n                playerInfoDiv.appendChild(socialIcon);\n                playerInfoDiv.appendChild(playerNameSpan);\n\n            } else if (playerId !== null) {\n                return; /* this *should* never happen.*/\n            }\n        }\n        // if (chatItems.length > 4) {\n        //     if (chatItems[0].classList.contains("chat-pinned-item")) {\n        //         if (flags & ').concat(O,") {\n        //             chatItems[0].remove();\n        //         } else {\n        //             chatItems[1].remove();\n        //         }\n        //     } else {\n        //         chatItems[0].remove();\n        //     }\n        // }\n        /* playerMsgSpan.innerHTML = message; - disabling due to html injection concerns*/\n        playerMsgSpan.textContent = message; // add text content\n        if (playerId < 253 && ").concat(w,"(message)) {\n            // playerMsgSpan.style.color = 'RED'; \n			playerMsgSpan.classList.add('addChatfiltered')\n            // just showing that its chat filtered for now :blobshrug:\n        }\n\n        if (formatter) {\n            playerMsgSpan.innerHTML = playerMsgSpan.innerHTML.format(formatter) \n            /** this *does* re introduce the html injection concerns. however this should only ever be called internally (ie: share link popup)\n             * ^ this is neat. could be used for custom elements in html :eyes: maybe even :emoji:\n             */\n        }\n        if (flags & ").concat(O,') {\n            playerMsgSpan.classList.add("chat-pinned");\n            chatItem.classList.add("chat-pinned-item");\n        }\n        chatItem.appendChild(playerInfoDiv);\n        chatItem.appendChild(playerMsgSpan);\n\n        chatItem.classList.add("clickme");\n        chatItem.onclick = () => {\n            if (!uniqueId && custom_click_callback) {\n                custom_click_callback();\n            /*} else if (playerId != ').concat(Z,'.id) {*/ \n			// no thanks. i would like to click myself\n            } else {\n                playerNameSpan.classList.add("clickme");\n                ').concat(q,"(uniqueId, SocialBadge, hasUpgrade)();\n            }\n        };\n        ").concat(y,".appendChild(chatItem);\n        // if (").concat(L,") {\n			// ").concat(L,".scrollTop = ").concat(L,".scrollHeight;\n		if (").concat(y,") {\n			// auto scrolling down (how nice)\n			// ").concat(y,".parentElement.scroll({top: ").concat(y,".parentElement.scrollHeight});\n			").concat(y,".scroll({top: ").concat(y,".scrollHeight}); // doesnt work\n			\n        }\n\n    }");return e.replace(o,et)}},be,$t={name:"onChatKeyDown rewrite",description:"re writes the onChatKeyDown function to show when you are typing in a filtered message (hopefully)",version:"11.9.25",requiredMappings:["isBadWord","addChat"],modify:function(e,t){let{isBadWord:n,addChat:i}=t,r=/onChatKeyDown:(function\([\w$_]+\){.*?}),startChat:/gm,[,o]=c(r,e,"onChatKeyDown.toString()"),[,s,a]=c(/([\w$_]+)\.value=([\w$_]+)\(\1\.value,280/gm,o),d=/case"pin":return ([\w$_]+)\?([\w$_]+\.pinned|[\w$_]+):([\w$_]+(?:\.none)?)/gm,[,l,h,m]=c(d,o,"onChatKeyDown$chatFlags.pinned"),x=/\?([\w$_]+)\?([\w_$]+(?:\.team)?)/gm,[,y,w]=c(x,o,"onChatKeyDown.isTeamsMode"),[,E]=c(/([\w$_]+)\(\)}}/gm,o,"onChatKeyDown.stopChat"),[,M]=c(/"chat",([\w$_]+)\)\}/gm,o,"onChatKeyDown.chatEvents"),[,_]=c(/([\w$_]+)\.adminRoles/gm,o,"onChatKeyDown.clientPerms"),O=f.gm(be||(be=p(["([\\w$_]+)\\|\\|","\\([\\w$_]+,[\\w$_]+,([\\w$_]+)\\)"],["([\\\\w$_]+)\\\\|\\\\|","\\\\([\\\\w$_]+,[\\\\w$_]+,([\\\\w$_]+)\\\\)"])),i),[,B,L]=c(O,o),[,q]=c(/indexOf\("<"\)<0\){([\w$_]+)/gm,o,"sendMessageWS"),A="function(event) {\n			const { key } = (event || window.event);\n			".concat(s,".value = ").concat(a,"(").concat(s,".value, 280); // more filtering of course. \n			let text = ").concat(s,".value.trim(); // message (before anything is done)\n			// as to why we are using a switch instead of a if (['Enter', 'Tab'].includes(key)) ... im unsure\n			switch (key) {\n				case \"Enter\":\n					if ('' != text && text.indexOf('<') < 0) {\n						").concat(q,"(text);\n						let addChatFlags = ((text) => {\n							if (!text.startsWith('/')) return ").concat(m,";\n							const textArg1 = text.slice(1).split(' ');\n							switch (key) {\n								case 't':\n								case 'team':\n									return textArg1[1] ? ").concat(y," ? ").concat(w," : ").concat(m,' : null;\n								case "p":\n								case "pin":\n									return ').concat(h," ? ").concat(l," : ").concat(m,";\n								default:\n									return ").concat(m,";\n							}\n						})(text); // yea they actually did this.\n						if (addChatFlags != ").concat(m,") {\n							text = ((text) => {\n								let textSplit = text.split(' ');\n								return text.slice(textSplit[0].length + 1);\n							})(text); // this strips the command from the text for the addChat func\n							// as to why exactly the made this a function :blobshrug:\n						}\n						if (!").concat(B,") {\n							").concat(i,"(text, addChatFlags, ").concat(L,");\n						}\n						if (").concat(_,".adminRoles && !").concat(h,") {\n							player.chatLines++;\n							if (player.chatLines > 2) {\n								").concat(s,".style.visibility = 'hidden';\n							}\n						};\n						").concat(M,"++;\n						if (").concat(M," === 1) {\n							/*ga('send', 'event', 'game', 'stats', 'chat', ").concat(M,");*/\n						}\n					}\n				case \"Tab\":\n					event.preventDefault();\n					event.stopPropagation();\n					if (key != 'Tab') {\n						").concat(E,"();\n					};\n			}\n			/*this is all my additions (fancy right) */\n			if (key.length == 1) {\n				text += key;\n			} else if (key == 'Backspace') {\n				text = text.slice(0, text.length -1);\n			}\n			/*we defer a function to run nearly instantly after the function just incase we hit \"enter\" or something else happens idk */\n			setTimeout(() => {\n				/*").concat(s,".style.color = ").concat(n,"(").concat(s,".value) ? 'red' : '';*/\n				").concat(s,".classList[ ").concat(n,"(").concat(s,") ? 'add' : 'remove' ]('addChatfiltered');\n				// i decided i'd use the classList so that others can intercept / overwrite my theme stuff. idk\n			}, 1);\n			").concat(s,".style.color = ").concat(n,"(text) ? 'red' : '';\n		}").trim();return e.replace(o,A)}},we,St={name:"Respawn Timer mod",description:"Modifies the setRespawnTime() function to have some decimal places",version:"10.12.25",modify:function(e){let t=c(/function ([A-z0-9_$]+)\(([A-z0-9_$]+)\){([\w|$]+)=Math\.max\(\2,\3\).*?1200\)}/gm,e),[n,i,,r]=t;R({setRespawnTime:i});let o=c(/([\w_$]+)\.clear\(([\w_$]+)\),([\w_$]+)\(\),([\w_$]+)\(\)/gm,n),[,s,a,d,l]=o,h=c(f.gm(we||(we=p(["","<=0&&([A-z0-9_$]+)"])),r),n),[,m]=h;R({setRespawnTime:i,respawnTime:r,respawnInterval:a,doMapOverviewCamera:l,interval:s,inGame:m});let y="function ".concat(i," (sec, decimals = 1, FATSec = 1200) {\n        ").concat(r," = Math.max(sec, ").concat(r,"); \n		/* ^ set the new respawntime (if needed)*/\n        if (").concat(a,") clearInterval(").concat(a,");\n        /* vueApp.game.respawnTime = ").concat(r,".toFixed(decimals); */\n		\n        ").concat(a," = setInterval(() => {\n            ").concat(r," = Number((").concat(r," - (1 / (decimals * 10))).toFixed(decimals));\n            /* vueApp.game.respawnTime = Math.min(").concat(r,", 5); */\n            vueApp.game.respawnTime = ").concat(r,".toFixed(decimals); \n			/* ^ shitty work around. for some reason it gets turned into a string?*/\n            if (").concat(r," <= 0 && ").concat(m,") {\n                ").concat(r," = -1;\n                clearInterval(").concat(a,");\n                ").concat(d,"(); // is this really needed\n				/* ^is this really needed? */\n                ").concat(l,"();\n            }\n        }, Math.floor(FATSec / (decimals * 10))); /* why is this 1.2sec instead of 1sec? */\n    	}");return(async()=>{await $(()=>vueApp?.$refs?.gameScreen);let w=vueApp.$refs.gameScreen,E=()=>!w.delayTheCracking&&!w.isRespawning?w.loc.ui_game_get_ready:w.delayTheCracking&&w.isRespawning?w.game.respawnTime:w.loc.p_pause_play;Object.defineProperty(vueApp.$refs.gameScreen,"playBtnText",{get:E})})(),e.replace(n,y)}},ve,xe,$e,Tt={name:"exit SpectateMode patch",description:"This is my psudo attempt to patch out the exit spectator mode from setting the respawn time to 5 seconds",version:"9.1.25",requiredMappings:["me","setRespawnTime"],modify:function(e,t){let{me:n,setRespawnTime:i}=t,r=c(f.gm(ve||(ve=p(["respawn:function\\(\\)\\{return [\\w_$]+\\?\\(","\\.([\\w_$]+)=!0"],["respawn:function\\\\(\\\\)\\\\{return [\\\\w_$]+\\\\?\\\\(","\\\\.([\\\\w_$]+)=!0"])),n),e,"Failed to grab playingState"),[,o]=r,s=f.gm(xe||(xe=p(["document\\.onpointerlockchange=function\\(\\){!document\\.pointerLockElement&&","&&([\\w_$]+)\\(\\)},"],["document\\\\.onpointerlockchange=function\\\\(\\\\){!document\\\\.pointerLockElement&&","&&([\\\\w_$]+)\\\\(\\\\)},"])),n),a=c(s,e,"Failed to grab func name"),[,d]=a,l=f.gm($e||($e=p(["}\\(\\)}(function ",'\\(\\)\\{.*?console\\.log\\("pausing game via pointerlock exit"\\),[\\w_$]+\\(\\),crazySdk\\.gameplayStop\\(\\)})'],["}\\\\(\\\\)}(function ",'\\\\(\\\\)\\\\{.*?console\\\\.log\\\\("pausing game via pointerlock exit"\\\\),[\\\\w_$]+\\\\(\\\\),crazySdk\\\\.gameplayStop\\\\(\\\\)})'])),d),h=c(l,e,"Failed to grab func src"),[,m]=h,x=m.replace("".concat(d,"(){"),"".concat(d,"(){let wasIngame = ").concat(n,".").concat(o,";/*console.log({wasIngame});*/"));return x=x.replace(i,"!wasIngame ? ".concat(i,"(0) : ").concat(i)),e.replace(m,x)}},Mt={name:"Anti afk kick",description:"Prevents you from being kicked for being afk while ingame",version:"11.10.25",modify:function(e){let t=/(([\w$_]+)=([\w$_]+)\.set\(\((function\(\){var ([\w$_]+)=[\w$_]+\.getBuffer\(\);\5\.[\w$_]+\([\w$_\.]+\),\5\.send.*?)\),(?:15e3|15000)\))/gm,[,n,,,i]=c(t,e,"");e=e.replace(n,"void 69420/*".concat(n,"*/"));let r="(()=>{\n			setInterval(() => {\n				const ingameCondition = (vueApp?.ui?.game?.spectate || vueApp?.game?.isPaused) && vueApp?.game?.on;\n				if (!ingameCondition) return; // my condition sofar\n				// todo: add in a second condition to check if the player is ingame ie: check playingState (need wrappres / more advanced mappings)\n				(".concat(i,")(); // call the keepAliveFunction (wrapper)\n			}, 15_000)\n		})()"),o=/(window\.extern)/gm;return e.replace(o,"".concat(r,";$1"))}};var It=Object.values(H),Ct={name:"Basis Injection",description:"This is the kind of base line function that allows for all sorts of nifty things",modify:function(e){let t=/(window\.extern)/gm;return e.replace(t,"((/*GTweaks V2*/)=>ModLoader.Getter=(str)=>eval(str))();$1")}},kt={name:"Unsafe",description:"This just tests that the loader properly catches unsafe modifications to the source code",modify:function(e){return e.replace('"',"")}},C=[kt,Ct,...It];function Te(e){C.push(e)}function Me(e){return e.requiredMappings?Ie(e)!=null:!0}function Et(e){try{return new Function(e)}catch(t){return t}}function Ie(e){let{requiredMappings:t}=e,{sourcemappings:n}=I,i=Object.entries(n);if(!t||i.length==0||!t.every(a=>n[a]))return;let o=Object.entries(n).filter(([a,d])=>t.includes(a));return Object.fromEntries(o)}function _t(e,t){let n=Ie(e),i={disabled:!!e.disabled};if(i.disabled)return i;try{let r=i.source=e.modify(t,n),o=Et(r);if(o instanceof Error)throw o}catch(r){i.error=r}return i}function U(e,t=C,n=0,i=t.length){let r=e,o=performance.now(),[s,a]=[t.filter(Me),t.filter(l=>!Me(l))];for(let l of s){let h=performance.now(),m=_t(l,r),x=(performance.now()-h).toFixed(2);if(m.error){let y="Loading sourcemod ".concat(l.name," %c").concat(x,"%cms - ");S(y,g.number,"",m.error.message);continue}else if(m.disabled){T("Source Modification ".concat(l.name," disabled."));continue}else if(!m.source){T("Source Modification ".concat(l.name," didnt return type string"),{result:m});continue}r=m.source,v("Source Modification ".concat(l.name," %c").concat(x,"%cms"),g.number,"")}if(a.length||n>0){if(n>=i||s.length==0){let l="Unable to load ".concat(a.length," Source mod").concat(a.length==1?"":"s",": ");return a.length!=0&&T(l,a.map(h=>h.name).join(", ")),r}r=U(r,a,n+1,i)}if(n>0)return r;let d=(performance.now()-o).toFixed(2);return v("All Source Modifications completed in %c".concat(d,"%cms"),g.number,""),r}function Ot(e){return!!e.startsWith("(()=>{")}function Lt(){let e=HTMLElement.prototype.appendChild;HTMLElement.prototype.appendChild=function(t){return t instanceof HTMLScriptElement&&Ot(t.innerHTML)&&(I.src=t.innerHTML,t.innerHTML=U(t.innerHTML),HTMLElement.prototype.appendChild=e),e.call(this,t)},re()}var z,Ce="Enable Game Modifications (the base setting)",Dt="\nModifies the game's internal source code on load in.\nToggling mods not implemented as of yet. (as i cbf)\n".trim(),ke=b({uniqueIdentifier:"Grifmin-SourceExtensions",iconUrl:"",name:"Source Extension Loader",author:"Grifmin",version:"0.2 alpha",description:Dt,defaultSettings:{enabled:!1,modStates:{}},config(){let e=[{type:"Toggle",label:Ce,value:this.settings.enabled}];for(let{name:t}of C){let n=this.settings.modStates[t];n==null&&(n=!0);let i={type:"Toggle",label:"".concat(t," - toggle"),value:n};e.push(i)}return e},init:function(){if(z=JSON.parse(JSON.stringify(this.settings)),this.settings.enabled!=!1){for(let[e,t]of Object.entries(this.settings.modStates)){t==null&&(t=!0);let n=C.find(i=>i.name==e);n&&Object.assign(n,{disabled:!t})}Lt()}},onOptionsChange(e){if(e.type!="Toggle")return!1;if(e.label==Ce)return this.settings.enabled=e.value,e.value;let t=e.label?.replace(" - toggle","");if(!C.find(r=>r.name==t))return T("Unable to find target mod to toggle the state of with ".concat(e.label,"?")),!1;let i=this.settings.modStates;return i[t]=!i[t],this.settings.modStates=i,e.value},isEnabled(){return this.settings.enabled},requestRefresh(){let e=this.settings.enabled==z.enabled,t=z.modStates,n=Object.entries(this.settings.modStates).every(([i,r])=>t[i]==r);return!e||!n}});var At=[IntersectionObserver,BroadcastChannel,RegExp,Object,Proxy,Function,Number,Boolean,Date],Pt=[String];function Rt(e){e?.prototype&&Object.freeze(e.prototype),Object.freeze(e)}var jt=e=>{let t={writable:!1,configurable:!1};for(let[n,i]of Object.entries(Object.getOwnPropertyDescriptors(e.prototype)))i.configurable&&Object.defineProperty(e.prototype,n,t)};function Ft(){try{At.forEach(Rt),Pt.forEach(jt)}catch(e){throw e instanceof TypeError&&console.log(e),e}}var Ee,Bt="\nProtects various js Object prototypes. (useful when attempting to mitigate egg games various anti modding approaches)\nThis could cause some incompatibility with other mods. (as it attempts to protect internal variables)\n".trim(),_e=b({uniqueIdentifier:"Grifmin-Protec",defaultSettings:{enabled:!0},author:"Grifmin",description:Bt,version:"1.0",name:"Internal Protections",config(){return[{type:"Toggle",label:"Enable",value:this.settings.enabled}]},init(){Ee=this.settings.enabled,this.settings.enabled&&Ft()},onOptionsChange(e){return e.type!="Toggle"?!1:(this.settings.enabled=e.value,e.value)},isEnabled(){return this.settings.enabled},requestRefresh(){return Ee!=this.settings.enabled}});var qt="ThemeManager-div",j;async function Oe(){if(j)return j;await $(()=>document.readyState=="complete");let e=document.createElement("div");return e.id=qt,document.body.append(e),j=e,j}var K={themes:{},addStyle:async function(e,t){if(typeof e=="string"){let n=e;e=document.createElement("style"),e.innerHTML=n,t&&(e.id=t)}return t||(t=e.id),document.body?((await Oe()).append(e),this.themes[t]=e,e):(document.addEventListener("DOMContentLoaded",()=>{Oe().then(n=>{n.append(e),this.themes[t]=e})},{once:!0}),e)}};var Le="/* this is just a safety precaution. it shouldnt ever be visible, but just incase im going to ensure it is */\n.firebaseID {\n	visibility: hidden !important;\n	display: none !important;\n	opacity: 0 !important; /* these 3 should be enough for it to never be accidentally revealed */\n}\n";var Wt=Date.now(),u;function De(){return{thememanager:K,readyState:!1,extensions:[],addExtension(t){if(this.extensions.some(n=>n.uniqueIdentifier==t.uniqueIdentifier))return T("duplicate Extension - ".concat(t.uniqueIdentifier));t.id||(t.id=this.extensions.length),this.extensions.push(t)},get startTime(){return Wt}}}function Ae(){try{Object.defineProperty(window,"Client",{get:()=>u,configurable:!0})}catch(e){S("Error when attempting to update Client definitions",e)}}function Gt(){K.addStyle(Le,"default-css")}function Pe(){if("Client"in window){let t=window.Client,n=Object.entries(De()).filter(([o,s])=>!t[o]),i=Object.fromEntries(n);u=Object.assign(i,window.Client);let r=new Error("Client already exists on window object ",{cause:window.Client});return Ae(),T("%cError:",g.warn,r)}u=De();let e=new Date(u.startTime).toLocaleString();v("Startup time: ".concat(e)),Ae(),Gt()}var Re="/*\nneat notes i found: \n1em = 1.375em (roughly) \nAlso i'd like to say, i pretty much got chatgpt to generate all of this css (because i hate dealing with css).\nso at somepoint, I will need to go back through all of this with a fine comb and work out the kinks\nusing `px` I know is very bad (especially for consistancy)\n*/\n\n.modmenu-screen {\n	display: flex;\n	justify-content: center;\n	align-items: center;\n	min-height: 100vh;\n}\n\n.mod-menu-refreshBtn {\n	background-color: orange;\n}\n\n.modmenu-page-content {\n	height: calc(100vh - 10em);\n	width: 100%;\n	border: var(--ss-common-border-width) solid var(--ss-blue5);\n	background-color: var(--ss-blue6) !important;\n	border-radius: .9375em;\n	box-shadow: 0 .5em 1.5em rgba(0, 0, 0, 0.4);\n	position: relative;\n	/* padding: 1.25em; */\n	overflow: hidden; /* no escaping my box please */\n}\n.modmenu-title {\n	position: absolute;\n	right: 50%;\n}\n\n.modmenu-header {\n    padding: .5em;\n    width: 100%;\n	height: 20%;\n    box-sizing: border-box;\n}\n\n.mod-screen-content {\n	display: flex;\n	height: 100%;\n	overflow: hidden;\n}\n\n/* mod menu list */\n.mod-list {\n    display: flex;\n	flex: 0 0 30%;\n    flex-direction: column;\n	max-width: 30%;\n	overflow-y: auto;\n	overflow-x: hidden;\n	max-height: 85%;\n	border-radius: .5em;\n	box-shadow: inset 0 -.5em .625em -.375em rgba(0, 0, 0, 0.4);\n    gap: .25em;\n    height: 80%;\n    padding: .5em;\n}\n\n.mod-item {\n	border-radius: .625em;\n	border: var(--ss-common-border-width) solid var(--ss-blue5);\n	display: flex;\n	padding: .3125em;\n	/* transition: background 0.3s ease; */\n}\n.mod-item .mod-icon {\n    flex-shrink: 0;\n}\n\n.mod-item:nth-child(odd) {\n	background-color: var(--ss-blue3);\n}\n\n.mod-item:nth-child(even) {\n	background-color: #77cbe6;\n}\n\n.mod-icon {\n	width: 6em;\n	height: 6em;\n	margin-right: .5em;\n	border-radius: .5em;\n}\n\n.mod-info .name {\n    font-weight: bold;\n    font-size: 1.2em;\n    color: white;\n}\n\n.mod-info .author {\n    font-weight: bold;\n    font-size: 1em;\n    margin-bottom: .3125em;\n    color: #924eff;\n}\n\n.mod-info {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    max-width: 100%;\n}\n\n.mod-details {\n	display: flex;\n	flex: 1;\n	flex-direction: column;\n	padding: .5em;\n    padding-bottom: 1.5em; /* this is to prevent the description from overflowing */\n	max-height: 85%;\n    height: 85%;\n	overflow: hidden;\n}\n\n.mod-select-header {\n	display: flex;\n	align-items: center;\n	gap: .625em;\n	position: relative;\n}\n\n.mod-desc {\n	font-size: 1em;\n	line-height: 1.4;\n	white-space: pre-line;\n}\n\n.mod-config {\n	margin-bottom: 1em;\n}\n\n/* this is shared between the two */\n.mod-config, .mod-desc {\n	/* border: red solid; */\n	border: var(--ss-common-border-width) solid var(--ss-blue5);\n	background-color: var(--ss-blue2);\n	border-radius: .25em;\n	margin-top: .625em;\n	padding: .625em;\n	overflow-y: auto;\n	flex: 1;\n}\n/* this fixes the labels being difficult to read on the config page */\n.mod-config label {\n	font-weight: 600;\n	display: flex;\n	flex-direction: row-reverse;\n	justify-content: left;\n}\n\n.mod-config-button {\n	height: 2.125em;\n	width: 9em;\n	text-align: center;\n	position: absolute;\n	right: 0em;\n	bottom: 0em;\n}\n\n.controls label {\n	display: block;\n	margin: .3125em 0;\n}\n\n/* Responsive adjustments */\n@media (max-width: 37.5em) {\n	.modmenu-page-content {\n		max-width: 95%;\n		padding: .625em;\n	}\n\n	.mod-item {\n		flex-direction: column;\n		align-items: stretch;\n	}\n\n	.mod-icon {\n		align-self: center;\n		margin-bottom: .625em;\n		margin-right: 0;\n	}\n}\n";var je='<div v-if="shouldDisplay" class="modmenu-screen">\n	<div class="sidebar modmenu-page-content roundme_sm ss_marginright bg_blue6 common-box-shadow">\n		<div class="modmenu-header bg_blue3">\n			<header class="f_row align-items-center modmenu-title">\n				<section>\n					<h1 class="text-shadow-black-40 text_white nospace">Mods</h1>\n					<h2 v-show="refreshRequested" class="mod-menu-refreshBtn ss_button" @click="location.reload()">Refresh Request</h2>\n				</section>\n			</header>\n			<aside class="\'justify-self-end text-right">{{ mods.length }} mods</aside>\n			<input v-model="search" placeholder="Search Mods..." class="mod-menusearch ss_field" />\n		</div>\n		<div class="mod-screen-content">\n			<div  class="mod-list">\n				<div class="mod-item" v-for="(mod, i) in filteredMods" :key="i" @click="selectMod(mod)">\n					<div class="mod-icon"\n						:style="{ backgroundImage: mod.iconUrl ? mod.iconUrl : backupURL, backgroundSize: \'cover\' }"\n						aria-hidden="true"\n					></div>\n					<div class="mod-info">\n						<div class="name">{{ mod.name }}</div>\n						<div class="author">{{ mod.author }}</div>\n					</div>\n				</div>\n			</div>\n			<div class="mod-details" v-if="selectedMod">\n				<div class="mod-meta">\n					<header class="mod-select-header">\n						<div class="mod-icon" \n							:style="{ backgroundImage: selectedMod.iconUrl ? selectedMod.iconUrl : backupURL , backgroundSize: \'cover\' }"\n							aria-hidden="true"\n						></div>\n						<div>\n							<h3> {{ selectedMod.name }}</h3>\n							<p>\n								<span class="author-text">Author: </span>\n								<span class="author">{{selectedMod.author}}</span>\n							</p>\n							<p v-if="selectedMod.version">Version: {{ selectedMod.version}}</p>\n						</div>\n						<aside>\n							<button v-if="selectedMod.config" class="mod-config-button ss_button" @click="configurationSelected()" > {{ configButtonText }} </button>\n						</aside>\n					</header>\n				</div>\n				<p v-if="desciptionScreen" class="mod-desc">{{ selectedMod.description }}</p>\n				<div v-if="!desciptionScreen" class="mod-config">\n					<div v-for="(option, idx) in selectedMod.config()" :key="idx">\n						<label>\n							{{option.label ?? "Default Option(s)"}}\n							<input type="checkbox" v-if="option.type == \'Toggle\'" v-model="option.value" @change="onOptionsChange(option, idx)">\n							<input type="range" v-if="option.type == \'Slider\'" v-model.number="option.value" :min="option.min" :max="option.max" @change="onOptionsChange(option, idx)">\n							<!-- <input type="text" v-if="option.type == \'Input\'" ...> -->\n							<!-- todo: implement input box + add in slider increment -->\n						</label>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>\n';var Fe=5,Be="Mod Menu";function zt(){this.showScreen=this.screens.modmenu,this.$refs.equipScreen.removeKeyboardStampPositionHandlers(),this.equip.displayAdHeaderRefresh=!0,this.hideGameMenu(),BAWK.play("ui_toggletab"),this.gameUiRemoveClassForNoScroll(),extern.resetPaperDoll()}function Kt(){vueData.screens.modmenu||(Object.assign(vueApp,{switchToModMenuUi:zt}),vueData.screens.modmenu=Fe,Object.assign(vueData.loc,{modmenu_title_screen:"mod menu"}),vueData.ui.mainMenu.push({locKey:"modmenu_title_screen",icon:"ico-settings",screen:5,mode:[],hideOn:[]}))}async function Vt(){function e(){return!("vueApp"in window)||!("Vue"in window)?!1:[Vue,u.readyState,vueApp].every(o=>o)}if(await $(e).catch(o=>S("ModMenu isReady - ".concat(o))),u.vue)return v("It seems the Mod Menu Vue instance is already mounted. ");u.thememanager.addStyle(Re,"modmenu-css");let t=Vue.extend({template:je,data(){let o=window?.Client.extensions;return{backupURL:"url('https://www.svgrepo.com/show/454209/gear-player-multimedia.svg')",search:"",selectedMod:o.find(s=>s.name==Be),configuration:!1,mods:o,refreshDetected:()=>{function s(a){return!!(a.requestRefresh&&a.requestRefresh())}return o.some(s)}}},computed:{refreshRequested(){return this.refreshDetected()},shouldDisplay(){return vueApp.showScreen==Fe},desciptionScreen(){return!this.configuration},configButtonText(){return this.configuration?"Description":"Configuration"},filteredMods(){let o=this.search.toLowerCase()??"";return this.mods.filter(s=>s.name?.toLowerCase().includes(o))}},methods:{selectMod(o){this.selectedMod=o,o.description=o.description?.trim(),this.configuration=!1},configurationSelected(){this.configuration=!this.configuration},onSlider(o,s){v("onToggle",{slider:o,idx:s})},onOptionsChange(o,s){this.selectedMod&&this.selectedMod.onOptionsChange&&this.selectedMod.onOptionsChange(o)}}}),n=document.getElementById("mainScreens"),i=document.createElement("modmenu-root");i.id="#modmenu-root",n&&n.appendChild(i),Kt();let r=new Vue({render:o=>o(t)}).$mount(i);Vue.mixin({created(){if(!("onMenuItemClick"in this&&typeof this.onMenuItemClick=="function"))return;let o=this.onMenuItemClick.bind(this);this.onMenuItemClick=(s,...a)=>{let d=this?.item?.screen,l=this?.screens?.modmenu;return d&&l&&d==l&&vueApp?.switchToModMenuUi(),o(s,...a)}}}),u.vue=r}var qe=b({uniqueIdentifier:"Grifmin-modmenu-v2",name:Be,author:"Grifmin",version:"0.3a",description:"\n	mod menu v2 implementation\n	Work in progress".trim(),iconUrl:"url('https://media1.tenor.com/m/77rqMj3uomoAAAAd/gritito.gif)",defaultSettings:{enabled:!0},init(){this.settings.enabled&&Vt()},onOptionsChange(e){return D("".concat(this.name," - ").concat(this.onOptionsChange?.name,": "),e),!1}});var F,V="comp_settings_control_binder",Jt="onKeyUp",Ne="Enable",Xt={name:"Stop Tab-Key from pausing",description:"The source mod thatgets rid of the the annoying tab key thing in egg game",modify(e){let n=/"Tab"==[\w$]+&&\(?[\w$]+="ESCAPE",[\w$]+\.preventDefault\(\)(,([\w$]+)\("down"\))/gm.exec(e);if(!n)throw new k("Failed to grab");let[,i]=n;e=e.replace(i,"/*$1*/");let o=/case(?:"|'|`)Tab(?:"|'|`):([\w$_]+)\.preventDefault\(\),\1\.stopPropagation\(\),((?:[\w$_]+)\(\))}/gm.exec(e);if(o){let[s,a,d]=o,l="/*".concat(d,"// we need to exit, but i dont want to exit on 'tab' key */").concat(a,".key != 'Tab' && ").concat(d),h=s.replace(d,l);e=e.replace(s,h)}return e}};function Zt(e){e.stopPropagation();let{key:t}=e;t=="Escape"||t=="Enter"||(t==" "&&(t="space",e.preventDefault()),this.capture(t))}function Qt(){function e(t){t.key=="Tab"&&t.preventDefault()}document.addEventListener("keydown",e,!0)}function Yt(){function e(){F.methods[Jt]=Zt}V in window&&(F=window[V],e()),Object.defineProperty(window,V,{set:t=>{F=t,e()},get:()=>F})}var We,Ge=b({uniqueIdentifier:"Grifmin-Tabkeyremap",name:"Tab Key Remap",author:"Grifmin",version:"1.0",description:"Allows the use of the `Tab` key as any keybind, and prevents it from tabbing you out ingame",defaultSettings:{enabled:!1},config(){return[{type:"Toggle",label:Ne,value:this.settings.enabled}]},init(){We=JSON.parse(JSON.stringify(this.settings)),this.settings.enabled&&(Te(Xt),Yt(),Qt())},onOptionsChange(e){return e.type!="Toggle"||e.label!=Ne?!1:(this.settings.enabled=e.value,!0)},isEnabled(){return this.settings.enabled},requestRefresh(){return We.enabled!=this.settings.enabled}});var He="/* notifications stuff */\n#re-notification {\n	/* background: rgba(0, 0, 0, 0.25);\n	box-shadow: 0.1em 0.1em 0.4em rgba(0, 0, 0, 0.5);\n	padding: 0.75em; */\n	background-color: rgba(0, 0, 0, 0.15) !important;\n	border: 0.0625em solid rgba(0, 0, 0, 0.2) !important;\n	box-shadow: 0 .25em .5em rgba(0, 0, 0, 0.2) !important;\n	border-radius: 0.9375em !important;\n	padding: 0.9375em !important;\n\n	position: absolute;\n	color: white;\n	font-weight: bold;\n	/* color: var(--egg-brown); */\n	left: 75%;\n	top: 1em;\n	transform: translateX(-50%);\n	display: none;\n	text-align: left;\n}\n\n#re-notification img {\n	width: 2em;\n	height: 2em;\n	margin-right: 0.75em;\n}";var Ue='<div id="re-notification" class="roundedBorder"></div>\n    <!--<img src="/img/notificationIcon.png"> -->\n    <!-- <img src="/favicon192.png"> -->\n    <!-- \n    ^ this is the closest image to the original\n    although, im not really a fan of it, so im going to remove it\n    -->\n    <div id="re-notificationMessage"></div>\n</div>';var J=!1;function nn(e){let t=document.getElementById("re-notification");if(!t)return;let n=8,i=setInterval(()=>{t.style.opacity="".concat(n/8),t.style.top=n/2-3.5+"em",--n==0&&(clearInterval(i),t.style.display="none",e&&e())},32)}function on(e,t){if(!J)return;let n=document.getElementById("re-notification");if(!n)return;n.style.opacity="0",n.style.top="-3.5em",n.style.display="flex",n.textContent=e;let i=0,r=setInterval(()=>{document.visibilityState!="hidden"&&(i++,n.style.opacity="".concat(i/8),n.style.top=i/2-3.5+"em",i==8&&(clearInterval(r),t&&setTimeout(nn,t)))},32)}async function rn(){await $(()=>u.readyState),u.thememanager.addStyle(He,"re-notificaiton-css");let e=document.createElement("div");e.id="G-tweaks-html",e.innerHTML=Ue,document.body.appendChild(e),Object.defineProperty(window,"notify",{get:()=>on,configurable:!0})}var ze=b({uniqueIdentifier:"Grifmin-reNotification",defaultSettings:{enabled:!1},name:"Lobby Close Notifications",author:"Grifmin",version:"1.0",description:"adds back the original notifications for when a lobby is closing",config(){return[{type:"Toggle",label:"Enable",value:this.settings.enabled}]},init:function(){J=this.settings.enabled,rn()},onOptionsChange(e){return e.type!="Toggle"||e.label!="Enable"?!1:(this.settings.enabled=e.value,J=this.settings.enabled,!0)},isEnabled(){return this.settings.enabled}});var Ke;function sn(){return"Vue"in window}function an(e){if(this.stat.kdr!==void 0&&typeof e!="number"&&typeof e[0]=="number")return this.kdr(e[0],e[1]);if(e&&typeof e!="number"){let[t,n]=e.map(i=>typeof i=="number"?i.toLocaleString():i);return"<div>".concat(t,"</div> <div>").concat(n.toLocaleString(),"</div>")}else return typeof e=="number"?e.toLocaleString():e}function cn(){return this.hidePrice&&this.isItemOwned?this.loc.eq_owned:this.isItemOwned?this.loc.eq_owned+"!":this.item.price.toLocaleString()}async function dn(){await $(sn,50),Vue.mixin({created(){"setupStat"in this&&(this.setupStat=an)}})}function ln(){function e(t){t.computed.itemPrice=cn,Ke=t}"comp_item"in window&&e(window.comp_item),Object.defineProperty(window,"comp_item",{set:e,get:()=>Ke})}var Ve,Je=b({uniqueIdentifier:"Grifmin-ui_commas",defaultSettings:{enable:!1},author:"Grifmin",name:"Fancy commas",version:"1.0",description:"Adds commas to the stats (profile) page, currency, and shop items",config(){return[{type:"Toggle",label:"Enabled",value:this.settings.enable}]},init:function(){Ve=this.settings.enable,this.settings.enable&&(ln(),dn())},onOptionsChange(e){return e.label!="Enabled"||e.type!="Toggle"?!1:(this.settings.enable=e.value,!0)},isEnabled(){return!0},requestRefresh(){return Ve!=this.settings.enable}});function Xe(e,t){let i=(()=>{let r=localStorage.getItem(e);return r?{...t,...JSON.parse(r)}:{...t}})();return new Proxy(i,{get(r,o){return i[o]},set(r,o,s){return i[o]=s,localStorage.setItem(e,JSON.stringify(i)),!0},deleteProperty(r,o){return delete i[o],localStorage.setItem(e,JSON.stringify(i)),!0}})}var Ze='/* Ads / Junk they attempt to stuff down our throat */\n.house-ad-wrapper, #respawn-ad-two, #respawn-ad-two, #welcome-bundle-ui, .welcome-bundle-ui {\n	display: none !important;\n}\nimg[src="img/eggstra-value-pack.webp"] {\n	/* fuck off */\n	display: none !important;\n}\n/* vip club annoyances */\n.free-games-logo, .vip-club-cta, .free-games-title #chickenBadge {\n	display: none !important;\n}\n/* playerList stuff */\n.playerSlot--nam-score {\n	border-radius: 0.5em;\n}\n.is-paused .pause-ui-element {\n	left: 1em;\n}\n.is-paused .chat-item:first-child.chat-pinned-item {\n	background-color: transparent !important; /* for some reason i have to add this as it sets the background color on the pinned div to blue... */\n}\n\n.chat-container {\n	display: grid;\n	grid-template-rows: 1fr auto;\n	background-color: rgba(0, 0, 0, 0.15) !important;\n	border: 0.0625em solid rgba(0, 0, 0, 0.2) !important;\n	box-shadow: 0 0.25em 0.5em rgba(0, 0, 0, 0.2) !important;\n	border-radius: 0.9375em !important;\n	padding: 0.9375em !important;\n	scroll-behavior: smooth;\n	max-height: 12.25em;\n	/* ^ this allows for a (decent in my opinion) size window (for max size)*/\n}\n#chatOut {\n	scrollbar-color: transparent transparent; \n	overflow-y: auto;\n	scroll-behavior: smooth;\n	overflow: scroll;\n	mask-image: linear-gradient(\n		to bottom,\n		transparent 0%,\n		black 10%,\n		black 15%,\n		black 25%,\n		black 85%,\n		black 100%\n	);\n	hyphens: auto;\n	overflow-wrap: break-word;\n	/* mask-image: linear-gradient(to bottom, \n        transparent 0%, \n        transparent 10%, \n        black 25%, \n        black 75%, \n        transparent 90%, \n        transparent 100%\n    );\n    -webkit-mask-image: linear-gradient(to bottom, \n        transparent 0%, \n        transparent 10%, \n        black 25%, \n        black 75%, \n        transparent 90%, \n        transparent 100%\n    ); */\n}\n#chatIn {\n	position: sticky;\n	overflow-y: auto;\n	scroll-behavior: smooth;\n	bottom: 0;\n}\n.is-paused #chatIn {\n	width: 100%;\n	left: 1em;\n}\n\n.is-paused .chat-container {\n	display: grid !important; /*stop changing when pausing please*/\n	margin-left: unset;\n	height: auto;\n}\n.is-paused #chatIn {\n	position: sticky;\n}\n/* this places the chat element back inside the div */\n/* Overwritting the defaults */\n.chat-wrapper .pause-ui-element {\n	bottom: var(--ss-space-lg) !important ;\n	background-color: transparent !important;\n	border: none !important;\n	width: 30% !important;\n	height: auto !important;\n}\n.is-paused .pause-ui-element {\n	bottom: var(--ss-space-lg);\n	background-color: transparent;\n	border: none;\n	width: 30%;\n	height: auto !important;\n}\n/*addChat fitled message color*/\n.addChatfiltered {\n	color: red;\n}\n';async function Qe(){await $(()=>u.readyState),u.thememanager.addStyle(Ze,"legacy-gtweaks-css")}var un=[_e,ie,ke,qe,Ge,ze,Je];function pn(e){return Xe(e.uniqueIdentifier,e.defaultSettings)}function gn(e){try{return e.init(),!0}catch(t){return t}}function b(e){let t=pn(e);return{...e,settings:t}}function Ye(){let e=performance.now();for(let r of un){let o=performance.now(),s=gn(r),a={processed:s==!0,loadTime:performance.now()-o};if(Object.assign(a,r),u.addExtension(a),!(s instanceof Error)){v("Extension Loaded: ".concat(a.uniqueIdentifier));continue}S("Loading: %c".concat(a.uniqueIdentifier," - ").concat(s.message),s)}let t=(performance.now()-e).toFixed(2),n=u.extensions.filter(r=>r.processed==!0),i="Loaded %c".concat(n.length,"%c/%c").concat(u.extensions.length,"%c extensions in %c").concat(t,"%cms successfully");v(i,g.number,"",g.number,"",g.number,""),u.readyState=!0,Qe()}Pe();Ye();})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL2V4dGVuc2lvbnMvbG9nZ2luZy50cyIsICIuLi9zcmMvZXh0ZW5zaW9ucy9hbHRlcm5hdGl2ZVNlYXJjaC9hbGlhc2VzLmpzb24iLCAiLi4vc3JjL2V4dGVuc2lvbnMvYWx0ZXJuYXRpdmVTZWFyY2gvaW5kZXgudHMiLCAiLi4vc3JjL2V4dGVuc2lvbnMvc291cmNlL01vZExvYWRlci50cyIsICIuLi9zcmMvZXh0ZW5zaW9ucy9zb3VyY2UvbW9kcy9Tb3VyY2VNb2RzLnRzIiwgIi4uL3NyYy9leHRlbnNpb25zL0NsaWVudC9VdGlsaXRpZXMudHMiLCAiLi4vc3JjL2V4dGVuc2lvbnMvc291cmNlL21vZHMvaW5kZXgudHMiLCAiLi4vc3JjL2V4dGVuc2lvbnMvc291cmNlL2xvYWRlci50cyIsICIuLi9zcmMvZXh0ZW5zaW9ucy9zb3VyY2UvaW5kZXgudHMiLCAiLi4vc3JjL2V4dGVuc2lvbnMvUHJvdGVjdGlvbnMvaW5kZXgudHMiLCAiLi4vc3JjL2V4dGVuc2lvbnMvQ2xpZW50L3RoZW1lLnRzIiwgIi4uL3NyYy9leHRlbnNpb25zL0NsaWVudC9kZWZhdWx0LmNzcyIsICIuLi9zcmMvZXh0ZW5zaW9ucy9DbGllbnQvaW5kZXgudHMiLCAiLi4vc3JjL2V4dGVuc2lvbnMvbW9kbWVudS9tb2RtZW51LmNzcyIsICIuLi9zcmMvZXh0ZW5zaW9ucy9tb2RtZW51L21vZG1lbnVfc2NyZWVuX3RlbXBsYXRlLmh0bWwiLCAiLi4vc3JjL2V4dGVuc2lvbnMvbW9kbWVudS9pbmRleC50cyIsICIuLi9zcmMvZXh0ZW5zaW9ucy9UYWJLZXkvaW5kZXgudHMiLCAiLi4vc3JjL2V4dGVuc2lvbnMvcmVOb3RpZmljYXRpb24vbm90aWZpY2F0aW9uLmNzcyIsICIuLi9zcmMvZXh0ZW5zaW9ucy9yZU5vdGlmaWNhdGlvbi9ub3RpZmljYXRpb24uaHRtbCIsICIuLi9zcmMvZXh0ZW5zaW9ucy9yZU5vdGlmaWNhdGlvbi9pbmRleC50cyIsICIuLi9zcmMvZXh0ZW5zaW9ucy92dWVDb21tYXMvaW5kZXgudHMiLCAiLi4vc3JjL2V4dGVuc2lvbnMvc2V0dGluZ3MudHMiLCAiLi4vc3JjL2V4dGVuc2lvbnMvVEVNUE9SQVJZL2xlZ2FjeV9ndHdlYWtzLmNzcyIsICIuLi9zcmMvZXh0ZW5zaW9ucy9URU1QT1JBUlkvaW5kZXgudHMiLCAiLi4vc3JjL2V4dGVuc2lvbnMvaW5kZXgudHMiLCAiLi4vc3JjL2luZGV4LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvKipcbiAqIFRoaXMgbW9kdWxlIGlzIG1haW5seSBqdXN0IG1lbnQgZm9yIGxvZ2dpbmcgcHVycG9zZXMuXG4gKiBTaW5jZSBJIHdhbnQgdG8gKnNvbWV3aGF0KiBrZWVwIG15IGxvZ2dpbmcgc2VwZXJhdGVkIGZyb20gdGhlIGdhbWVzIGxvZ2dpbmcsIGl2ZSBjcmVhdGVkIHRoZXNlIHdyYXBwZXJzIGFyb3VuZCBjb25zb2xlIGxvZy5cbiAqIFBsdXMsIHRoaXMgYWxzbyBhbGxvd3MgbWUgdG8gZmlsdGVyIGJ5IGBFcnJvc2AsIGBXYXJuaW5nc2AsIGBJbmZvYCwgYExvZ3NgICh3aGljaCBJIHdpbGwgYXZvaWQpLCBhbmQgYERlYnVnYFxuICogVGhlIGdhbWUganVzdCB1c2VzIGBjb25zb2xlLmxvZ2AgOTAlIG9mIHRoZSB0aW1lLCBzbyBJIGNhbiBzaW1wbHkgaW5nb3JlIGl0LCAqbW9zdGx5Ki5cbiAqIEBhdXRob3IgR3JpZm1pblxuICovXG5cbi8qKkNTUyBmb3IgbG9nZ2luZyBwdXJwb3NlcyovXG5jb25zdCBjc3MgPSB7XG5cdHN1Y2Nlc3M6IGBiYWNrZ3JvdW5kOiAjMDA2NzAwIDtwYWRkaW5nOi4xMjVlbSAuMzc1ZW07Ym9yZGVyLXJhZGl1czouMTg3NWVtO21hcmdpbi1yaWdodDouMzEyNWVtO2AsXG5cdHdhcm46IGBiYWNrZ3JvdW5kOiAjZmY2ZDAwIDtwYWRkaW5nOi4xMjVlbSAuMzc1ZW07Ym9yZGVyLXJhZGl1czouMTg3NWVtO21hcmdpbi1yaWdodDouMzEyNWVtO2AsXG5cdGZhaWw6IGBiYWNrZ3JvdW5kOiAjRkYwMDAwIDtwYWRkaW5nOi4xMjVlbSAuMzc1ZW07Ym9yZGVyLXJhZGl1czouMTg3NWVtO21hcmdpbi1yaWdodDouMzEyNWVtO2AsXG5cdGluZm86IGBiYWNrZ3JvdW5kOiAjNDEzQzI2IDtwYWRkaW5nOi4xMjVlbSAuMzc1ZW07Ym9yZGVyLXJhZGl1czouMTg3NWVtO21hcmdpbi1yaWdodDouMzEyNWVtO2AsXG5cdG51bWJlcjogYGNvbG9yOiAjN0U2NEZGIDsgcGFkZGluZzouMTI1ZW0gLjM3NWVtO2JvcmRlci1yYWRpdXM6LjE4NzVlbTttYXJnaW4tcmlnaHQ6LjMxMjVlbTtgLFxufSBhcyBjb25zdDtcblxuLy8gdGhpcyBpcyBzbyB0aGF0IGkgY2FuIHVwZGF0ZSB0aGUgbG9nZ2luZyBpbiB0aGUgZnV0dXJlIChtYXliZSlcbmNvbnN0IHsgbG9nLCB3YXJuLCBlcnJvciwgaW5mbywgZGVidWcgfSA9IGNvbnNvbGU7XG5cbi8qKlxuICogVGhpcyBpcyBqdXN0IGEgc21hbGwgd3JhcHBlciBzbyB0aGF0IGkgY2FuIGVhc2lseSBsb2cgZGF0YSB3aGVuIGRvaW5nIGRlYnVnZ2luZ1xuICovXG4vKipAX19QVVJFX18gKi9cbmZ1bmN0aW9uIGRlYnVnSW5mbyhtZXNzYWdlOiBzdHJpbmcsIC4uLm90aGVyOiBUT0RPKSB7XG5cdGluZm8oYCVjRy1Ud2Vha3M6ICVjJHttZXNzYWdlfWAsIGNzcy5zdWNjZXNzLCBcIlwiLCAuLi5vdGhlcik7XG59XG4vKipAX19QVVJFX18gKi9cbmZ1bmN0aW9uIGRlYnVnRXJyb3IobWVzc2FnZTogc3RyaW5nLCAuLi5vdGhlcjogVE9ETykge1xuXHRlcnJvcihgJWNHLVR3ZWFrcyBFcnJvcjogJWMke21lc3NhZ2V9YCwgY3NzLmZhaWwsIFwiXCIsIC4uLm90aGVyKTtcbn1cbi8qKkBfX1BVUkVfXyAqL1xuZnVuY3Rpb24gZGVidWdXYXJuKG1lc3NhZ2U6IHN0cmluZywgLi4ub3RoZXI6IFRPRE8pIHtcblx0d2FybihgJWNHLVR3ZWFrcyBXYXJuOiAlYyR7bWVzc2FnZX1gLCBjc3Mud2FybiwgXCJcIiwgLi4ub3RoZXIpO1xufVxuLyoqQF9fUFVSRV9fICovXG5mdW5jdGlvbiBkZWJ1Z0RlYnVnKG1lc3NhZ2U6IHN0cmluZywgLi4ub3RoZXI6IFRPRE8pIHtcblx0ZGVidWcoYCVjRy1Ud2Vha3MgRGVidWc6ICVjJHttZXNzYWdlfWAsIGNzcy53YXJuLCBcIlwiLCAuLi5vdGhlcik7XG59XG5cbi8vIGV4cG9ydCB7IGxvZywgd2FybiwgZXJyb3IsIGluZm8sIGNzcywgZGVidWdMb2dnaW5nICwgZGVidWdFcnJvciwgZGVidWdXYXJuLCBkZWJ1Z0RlYnVnfTtcbmV4cG9ydCB7IGNzcywgZGVidWdJbmZvLCBkZWJ1Z0Vycm9yLCBkZWJ1Z1dhcm4sIGRlYnVnRGVidWcgfTtcbiIsICJ7XG5cdFwiYWxpYXNlc1wiOiB7XG5cdFx0XCJzdGFyIHdhcnNcIjoge1xuXHRcdFx0XCJ0YWdzXCI6IFtcIkVnZ3dhbGtlclwiLCBcIkVnZ3dhbGtlcjJcIl0sXG5cdFx0XHRcIm5lZ2F0ZVwiOiBbMTEyNywgMTEzNSwgMTMxOV1cblx0XHR9LFxuXHRcdFwibWFyaW9cIjoge1xuXHRcdFx0XCJ0YWdzXCI6IFtcIkthcnRcIl1cblx0XHR9LFxuXHRcdFwiYW1vbmcgdXNcIjoge1xuXHRcdFx0XCJ0YWdzXCI6IFtcIkFtb25nRWdnXCJdXG5cdFx0fVxuXHR9XG59XG4iLCAiLyoqXG4gKiBNYWluIGVudHJ5IHBvaW50IGZvciBtb2RpZmljYXRpb25cbiAqIEBhdXRob3IgR3JpZm1pblxuICovXG5pbXBvcnQgeyBjcmVhdGVFeHRlbnNpb24gfSBmcm9tIFwiLi4vXCI7XG5pbXBvcnQgeyBkZWJ1Z0RlYnVnLCBkZWJ1Z0luZm8gfSBmcm9tIFwiLi4vbG9nZ2luZ1wiO1xuaW1wb3J0IEFsaWFzZXNGaWxlIGZyb20gXCIuL2FsaWFzZXMuanNvblwiIHdpdGggeyB0eXBlOiBcImpzb25cIiB9O1xuXG5jb25zdCB7IGFsaWFzZXMgfSA9IEFsaWFzZXNGaWxlO1xuXG4vLyAjIEZ1bmN0aW9uc1xuZnVuY3Rpb24gc2VhcmNoQnlOYW1lSW5jbHVkZXMoaW5wdXQ6IHN0cmluZywgaXRlbXM6IEl0ZW1EYXRhW10sIG9wdGlvbnM6IE9wdGlvbnMpIHtcblx0cmV0dXJuIGl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gKG9wdGlvbnMuaXNDYXNlU2Vuc2l0aXZlID8gaXRlbS5uYW1lIDogaXRlbS5uYW1lLnRvTG93ZXJDYXNlKCkpLmluY2x1ZGVzKGlucHV0KSk7XG59XG5mdW5jdGlvbiBzZWFyY2hCeUl0ZW1JZChpbnB1dDogc3RyaW5nLCBpdGVtczogSXRlbURhdGFbXSwgb3B0aW9uczogT3B0aW9ucykge1xuXHRjb25zdCBpdGVtSWQgPSBOdW1iZXIoaW5wdXQpO1xuXHRyZXR1cm4gaXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkID09IGl0ZW1JZCk7XG59XG5mdW5jdGlvbiBzZWFyY2hCeU1lc2hOYW1lSW5jbHVkZXMoaW5wdXQ6IHN0cmluZywgaXRlbXM6IEl0ZW1EYXRhW10sIG9wdGlvbnM6IE9wdGlvbnMpIHtcblx0cmV0dXJuIGl0ZW1zLmZpbHRlcigoaXRlbSkgPT5cblx0XHQob3B0aW9ucy5pc0Nhc2VTZW5zaXRpdmUgPyBpdGVtLml0ZW1fZGF0YS5tZXNoTmFtZSA6IGl0ZW0uaXRlbV9kYXRhLm1lc2hOYW1lPy50b0xvd2VyQ2FzZSgpKT8uaW5jbHVkZXMoaW5wdXQpLFxuXHQpO1xufVxuZnVuY3Rpb24gc2VhcmNoQnlBbGlhc2VzSGVscGVyKGl0ZW1zOiBJdGVtRGF0YVtdLCBzZWFyY2hGb3JtYXQ6IFNlYXJjaEZvcm1hdCkge1xuXHRsZXQgcmV0dXJuTGlzdDogSXRlbURhdGFbXSA9IFtdO1xuXHRpZiAoc2VhcmNoRm9ybWF0LnRhZ3MpIHtcblx0XHRjb25zdCB7IHRhZ3MgfSA9IHNlYXJjaEZvcm1hdDtcblx0XHRjb25zdCByZXN1bHQgPSBpdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaXRlbV9kYXRhLnRhZ3M/LnNvbWUoKHRhZykgPT4gdGFncy5pbmNsdWRlcyh0YWcpKSk7XG5cdFx0cmV0dXJuTGlzdCA9IHJldHVybkxpc3QuY29uY2F0KHJlc3VsdCk7XG5cdH0gZWxzZSBpZiAoc2VhcmNoRm9ybWF0Lmlkcykge1xuXHRcdGNvbnN0IHsgaWRzIH0gPSBzZWFyY2hGb3JtYXQ7XG5cdFx0Y29uc3QgcmVzdWx0ID0gaXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpZHMuaW5jbHVkZXMoaXRlbS5pZCkpO1xuXHRcdHJldHVybkxpc3QgPSByZXR1cm5MaXN0LmNvbmNhdChyZXN1bHQpO1xuXHR9IGVsc2UgaWYgKHNlYXJjaEZvcm1hdC5uYW1lcykge1xuXHRcdGNvbnN0IHsgbmFtZXMgfSA9IHNlYXJjaEZvcm1hdDtcblx0XHRjb25zdCByZXN1bHQgPSBuYW1lcy5tYXAoKG5hbWUpID0+IHNlYXJjaEJ5TmFtZUluY2x1ZGVzKG5hbWUsIGl0ZW1zLCB7IGlzQ2FzZVNlbnNpdGl2ZTogdHJ1ZSB9IGFzIE9wdGlvbnMpKS5mbGF0KCk7XG5cdFx0cmV0dXJuTGlzdCA9IHJldHVybkxpc3QuY29uY2F0KHJlc3VsdCk7XG5cdH1cblx0Ly8gd2Ugd2FudCB0aGlzIGxhc3Rcblx0aWYgKHNlYXJjaEZvcm1hdC5uZWdhdGUpIHtcblx0XHRjb25zdCB7IG5lZ2F0ZSB9ID0gc2VhcmNoRm9ybWF0O1xuXHRcdHJldHVybkxpc3QgPSByZXR1cm5MaXN0LmZpbHRlcigoaXRlbSkgPT4gIW5lZ2F0ZS5pbmNsdWRlcyhpdGVtLmlkKSk7XG5cdH1cblx0cmV0dXJuIHJldHVybkxpc3Q7XG59XG5cbmZ1bmN0aW9uIHNlYXJjaEJ5QWxpYXNlcyhpbnB1dDogc3RyaW5nLCBpdGVtczogSXRlbURhdGFbXSwgb3B0aW9uczogT3B0aW9ucyk6IEl0ZW1EYXRhW10ge1xuXHRsZXQgcmV0dXJuTGlzdDogSXRlbURhdGFbXSA9IFtdO1xuXHRjb25zdCBpdGVtU2VhcmNoVGVybVBhdGNoID0gKHRlcm06IHN0cmluZykgPT4gdGVybS5yZXBsYWNlKC9cXHMvZywgXCJcIik7IC8vIHNvIHRoZSBpbnB1dCB0aGV5IHBhc3MgdG8gdXMsIHRoZXkgZG8gdGhpcyB0byBpdCBmaXJzdC4uLlxuXHRjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYWxpYXNlcykubWFwKGl0ZW1TZWFyY2hUZXJtUGF0Y2gpO1xuXHQvLyB0aGlzIHBhdGNoIGlzIGJlY2F1c2UgZWdnIGdhbWUgYmlnIHN0b29waWQgXlxuXHRpZiAoIWtleXMuc29tZSgoa2V5KSA9PiBrZXkuaW5jbHVkZXMoaW5wdXQpKSkgcmV0dXJuIChkZWJ1Z0luZm8oYCR7aW5wdXR9IG5vdCBpbmAsIGtleXMpLCBbXSk7XG5cdGNvbnN0IGVudGlyZXNQYXRjaCA9IChbYWxpYXMsIGtleXdvcmRdOiBbc3RyaW5nLCBvYmplY3RdKSA9PiBbaXRlbVNlYXJjaFRlcm1QYXRjaChhbGlhcyksIGtleXdvcmRdO1xuXHRjb25zdCBhbGlhc0VudHJpZXMgPSBPYmplY3QuZW50cmllcyhhbGlhc2VzKS5tYXAoZW50aXJlc1BhdGNoKSBhcyBBcnJheTxcblx0XHRba2V5b2YgdHlwZW9mIGFsaWFzZXMsICh0eXBlb2YgYWxpYXNlcylba2V5b2YgdHlwZW9mIGFsaWFzZXNdXVxuXHQ+O1xuXG5cdGZvciAoY29uc3QgW2FsaWFzLCBzZWFyY2hGb3JtYXRdIG9mIGFsaWFzRW50cmllcykge1xuXHRcdGlmICghYWxpYXMuaW5jbHVkZXMoaW5wdXQpKSBjb250aW51ZTtcblx0XHRjb25zdCBJdGVtcyA9IHNlYXJjaEJ5QWxpYXNlc0hlbHBlcihpdGVtcywgc2VhcmNoRm9ybWF0KTtcblx0XHRyZXR1cm5MaXN0ID0gcmV0dXJuTGlzdC5jb25jYXQoSXRlbXMpO1xuXHR9XG5cdHJldHVybiByZXR1cm5MaXN0O1xufVxuLy8gaSBzaG91bGQgcHJvYmFibHkgaW1wcm92ZSB0aGlzIGZ1bmN0aW9uIGEgbGl0dGxlIGJpdCwgYnV0IGVoaFxuZnVuY3Rpb24gc2VhcmNoQnlUYWdzX3RhZ0luY2x1ZGVzKGlucHV0OiBzdHJpbmcsIGl0ZW1zOiBJdGVtRGF0YVtdLCBvcHRpb25zOiBPcHRpb25zKSB7XG5cdHJldHVybiBpdGVtcy5maWx0ZXIoKGl0ZW0pID0+XG5cdFx0aXRlbS5pdGVtX2RhdGEudGFncz8uc29tZSgodGFnKSA9PiAob3B0aW9ucy5pc0Nhc2VTZW5zaXRpdmUgPyB0YWcgOiB0YWcudG9Mb3dlckNhc2UoKSkuaW5jbHVkZXMoaW5wdXQpKSxcblx0KTtcbn1cblxuY29uc3Qgc2VhcmNoRnVuY3Rpb25zID0gW1xuXHRzZWFyY2hCeU1lc2hOYW1lSW5jbHVkZXMsXG5cdHNlYXJjaEJ5TmFtZUluY2x1ZGVzLFxuXHRzZWFyY2hCeUFsaWFzZXMsXG5cdHNlYXJjaEJ5SXRlbUlkLFxuXHRzZWFyY2hCeVRhZ3NfdGFnSW5jbHVkZXMsXG5dO1xuXG5jbGFzcyBGb29zZSB7XG5cdGl0ZW1zITogSXRlbURhdGFbXTtcblx0b3B0aW9ucyE6IE9wdGlvbnM7XG5cdGNvbnN0cnVjdG9yKGl0ZW1zOiBJdGVtRGF0YVtdLCBvcHRpb25zOiBPcHRpb25zKSB7XG5cdFx0T2JqZWN0LmFzc2lnbih0aGlzLCB7IGl0ZW1zLCBvcHRpb25zIH0pO1xuXHR9XG5cdC8qKiBUaGlzIGlzIHRoZSBtYWluIGludGVyZmFjZSB0aGF0IHRoZSBGdXNlIGNsYXNzIHVzZXMgdG8gc2VhcmNoIHdpdGggKi9cblx0c2VhcmNoKGlucHV0OiBzdHJpbmcpIHtcblx0XHRpbnB1dCA9IHRoaXMub3B0aW9ucy5pc0Nhc2VTZW5zaXRpdmUgPyBpbnB1dCA6IGlucHV0LnRvTG93ZXJDYXNlKCk7XG5cdFx0Ly8gXiB0aGlzIGlzIHRvIHJlZHVjZSB0aGUgc2hvcnRoYW5kIGlmIHN0YXRlbWVudHMgaW4gZXZlcnkgb25lIG9mIHRoZSBmdW5jdGlvbnNcblx0XHRjb25zdCBJdGVtc0ZsYXR0ZW5lZCA9IHNlYXJjaEZ1bmN0aW9ucy5tYXAoKHNlYXJjaEZ1bmMpID0+IHNlYXJjaEZ1bmMoaW5wdXQsIHRoaXMuaXRlbXMsIHRoaXMub3B0aW9ucykpLmZsYXQoKTtcblx0XHRjb25zdCBpdGVtcyA9IFsuLi5uZXcgU2V0KEl0ZW1zRmxhdHRlbmVkKV07XG5cdFx0cmV0dXJuIE9iamVjdC5lbnRyaWVzKGl0ZW1zKS5tYXAoKFtrZXksIGl0ZW1dKSA9PiAoeyBpdGVtIH0pKTtcblx0fVxufVxuXG5jb25zdCBkZXNjcmlwdGlvbiA9IC8qKkB0cmltICovIGBcblRoaXMgZXh0ZW5zaW9uIHByb3ZpZGVzIGFuIGFsdGVybmF0aXZlIHNlYXJjaGluZyBtZXRob2QgZm9yIHRoZSBpbnZlbnRvcnkuIFxuQ29tcGxldGVseSBvcHRpb25hbCB0aG91Z2guIFxuRmVlbCBmcmVlIHRvIHJlcXVlc3QgaW1wcm92ZW1lbnRzIGZvciB0aGUgYWx0ZXJuYXRpdmUgc2VhcmNoIGV4dGVuc2lvbiFcbmAudHJpbSgpO1xubGV0IG9yaWdpbmFsRnVzZTogdW5rbm93bjtcbmxldCBzdGF0ZTogYm9vbGVhbjtcbmZ1bmN0aW9uIHJlZGVmaW5lKCkge1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCBcIkZ1c2VcIiwge1xuXHRcdGdldCgpIHtcblx0XHRcdGlmIChzdGF0ZSkgcmV0dXJuIEZvb3NlO1xuXHRcdFx0cmV0dXJuIG9yaWdpbmFsRnVzZTtcblx0XHR9LFxuXHRcdHNldCh2YWx1ZSkge1xuXHRcdFx0b3JpZ2luYWxGdXNlID0gdmFsdWU7XG5cdFx0fSxcblx0XHRjb25maWd1cmFibGU6IHRydWUsIC8vIHN1cmUgd2h5IG5vdCBhbGxvdyBpdCB0byBiZSBjb25maWd1cmFibGUuXG5cdH0pO1xufVxuZXhwb3J0IGNvbnN0IEV4dGVuc2lvbiA9IGNyZWF0ZUV4dGVuc2lvbih7XG5cdHVuaXF1ZUlkZW50aWZpZXI6IGBHcmlmbWluLUFsdGVybmF0aXZlU2VhcmNoYCxcblx0ZGVmYXVsdFNldHRpbmdzOiB7IGVuYWJsZWQ6IGZhbHNlIH0sXG5cdGF1dGhvcjogXCJHcmlmbWluXCIsXG5cdGRlc2NyaXB0aW9uLFxuXHR2ZXJzaW9uOiBgMS4wYCwgLy8gOmJsb2JzaHJ1Zzpcblx0bmFtZTogXCJBbHRlcm5hdGl2ZSBTZWFyY2hcIixcblx0aW5pdCgpIHtcblx0XHRvcmlnaW5hbEZ1c2UgPSAod2luZG93IGFzIGFueSkuRnVzZTtcblx0XHRzdGF0ZSA9IHRoaXMuc2V0dGluZ3MuZW5hYmxlZDtcblx0XHRyZWRlZmluZSgpOyBcblx0XHQvLyBeIHdlIGFsd2F5cyByZWRlZmluZSByZWd1YXJkbGVzcy4gKGp1c3QgYXMgYSBiYWNrdXAgcHJlY2F1dGlvbi4gSSd2ZSBoYWQgaW5zdGFuY2VzIHdoZXJlIGpzZGVsaXZyIHdhcyBibG9ja2VkIC8gZGlkbid0IGxvYWQpXG5cdH0sXG5cdGNvbmZpZygpIHtcblx0XHRyZXR1cm4gW3sgdHlwZTogXCJUb2dnbGVcIiwgbGFiZWw6IFwiRW5hYmxlXCIsIHZhbHVlOiB0aGlzLnNldHRpbmdzLmVuYWJsZWQgfV07XG5cdH0sXG5cdG9uT3B0aW9uc0NoYW5nZSh1cGRhdGVkc3RhdGUpIHtcblx0XHRkZWJ1Z0RlYnVnKGAke3RoaXMubmFtZX0gLSBgLCB1cGRhdGVkc3RhdGUsIHRoaXMuc2V0dGluZ3MpO1xuXHRcdGlmICh1cGRhdGVkc3RhdGUubGFiZWwgPT0gXCJFbmFibGVcIiAmJiB1cGRhdGVkc3RhdGUudHlwZSA9PSBcIlRvZ2dsZVwiKSB7XG5cdFx0XHRjb25zdCBuZXdzdGF0ZSA9IHVwZGF0ZWRzdGF0ZS52YWx1ZTtcblx0XHRcdGRlYnVnRGVidWcoYCR7dGhpcy5uYW1lfSAtIHVwZGF0aW5nIHN0YXRlIGZyb20gJHt0aGlzLnNldHRpbmdzLmVuYWJsZWR9IHRvICR7dXBkYXRlZHN0YXRlLnZhbHVlfWApO1xuXHRcdFx0dGhpcy5zZXR0aW5ncy5lbmFibGVkID0gbmV3c3RhdGU7XG5cdFx0XHRzdGF0ZSA9IG5ld3N0YXRlOyAvLyB1cGRhdGUgY3VycmVudCBzdGF0ZSAodGhhbmsgeW91KVxuXHRcdH1cblx0XHRyZXR1cm4gc3RhdGU7XG5cdH0sXG5cdGlzRW5hYmxlZCgpIHtcblx0XHRyZXR1cm4gdGhpcy5zZXR0aW5ncy5lbmFibGVkO1xuXHR9LFxufSk7XG5cbi8vICN0eXBlc1xuLy8gdHlwZSBzaGl0IChtYWlubHkgaSBqdXN0IHdhbnQgaXQgb3V0IG9mIG15IHNjcmVlbnMgdmlldyBuZ2wpXG50eXBlIFNlYXJjaEZvcm1hdCA9IHtcblx0dGFncz86IHN0cmluZ1tdO1xuXHRpZHM/OiBudW1iZXJbXTtcblx0bmFtZXM/OiBzdHJpbmdbXTtcblx0Ly8gcHJpY2U/OiBudW1iZXI7XG5cdC8qKlxuXHQgKiBpIGtpbmQgb2YgdGhvdWdodCBpdCB3b3VsZCBiZSBjb29sIHRvIGJlYWJsZSB0byBzb3J0IGFsbCBpdGVtcyB3aGVyZSBwcmljZSBpcyBsZXNzIHRoYW4geCBvciBzYXkgZ3JlYXRlciB0aGFuIHhcblx0ICogYnV0IHRoYXQgc2VlbXMgbGlrZSBpdCB3b3VsZCByZXF1aXJlIGEgYml0IGV4dHJhIGVmZm9ydCBpIGNhbnQgYmUgYm90aGVyZWQgdG8gZG8gYXQgdGhlIG1vbWVudC5cblx0ICogICovXG5cdG5lZ2F0ZT86IG51bWJlcltdO1xuXHQvKipcblx0ICogaXRzIGp1c3QgZWFzZWllciB0byBuZWdhdGUgYnkgaXRlbUlkLlxuXHQgKiBpZiB5b3UgY29tZSB1cCB3aXRoIGEgYmV0dGVyIHNvbHV0aW9uIG9yIHdoYXRldmVyLCBmZWVsIGFic29sdXRlbHkgZnJlZSB0byB1cGRhdGUgYW5kIHN1Ym1pdCBhIHB1bGwgcmVxdWVzdFxuXHQgKiAgKi9cbn07XG5cbnR5cGUgT3B0aW9ucyA9IHtcblx0aXNDYXNlU2Vuc2l0aXZlOiBib29sZWFuO1xuXHRpbmNsdWRlU2NvcmU6IGJvb2xlYW47XG5cdHNob3VsZFNvcnQ6IGJvb2xlYW47XG5cdGluY2x1ZGVNYXRjaGVzOiBib29sZWFuO1xuXHRmaW5kQWxsTWF0Y2hlczogYm9vbGVhbjtcblx0bWluTWF0Y2hDaGFyTGVuZ3RoOiBudW1iZXI7XG5cdGxvY2F0aW9uOiBudW1iZXI7XG5cdHRocmVzaG9sZDogbnVtYmVyO1xuXHRkaXN0YW5jZTogbnVtYmVyO1xuXHR1c2VFeHRlbmRlZFNlYXJjaDogYm9vbGVhbjtcblx0a2V5czogc3RyaW5nW107XG5cdC8vIGtleXM6IFtcIm5hbWVcIiwgXCJ1bmxvY2tcIiwgXCJpdGVtX2RhdGEudGFnc1wiLFwiaXRlbV9kYXRhLm1lc2hOYW1lXCJdXG59O1xudHlwZSBJdGVtID0gVE9ETztcbnR5cGUgSXRlbURhdGEgPSB7XG5cdGNhdGVnb3J5X25hbWU6IENhdGVnb3J5TmFtZXM7XG5cdGV4Y2x1c2l2ZV9mb3JfY2xhc3M6IENsYXNzVHlwZXM7XG5cdGlkOiBudW1iZXI7XG5cdC8vIGluc3RhbnRpYXRlTmV3OiBGdW5jdGlvbjsgLy8gd2UgZG9udCBhY3R1YWxseSBjYXJlIGFib3V0IHRoaXMgYXMgaXQgdHVybnMgb3V0XG5cdGlzX2F2YWlsYWJsZTogYm9vbGVhbjtcblx0aXRlbV9kYXRhOiB7XG5cdFx0bWVzaE5hbWU/OiBzdHJpbmc7XG5cdFx0dGFncz86IHN0cmluZ1tdO1xuXHR9O1xuXHRpdGVtX3R5cGVfaWQ6IG51bWJlcjtcblx0aXRlbV90eXBlX25hbWU6IEl0ZW1UeXBlTmFtZTtcblx0bmFtZTogc3RyaW5nO1xuXHRwcmljZTogbnVtYmVyO1xuXHR1bmxvY2s6IGJvb2xlYW47XG59O1xudHlwZSBDbGFzc1R5cGVzID0gbnVsbCB8IDAgfCAxIHwgMiB8IDMgfCA0IHwgNSB8IDY7XG50eXBlIENhdGVnb3J5TmFtZXMgPVxuXHR8IFwiSGF0c1wiXG5cdHwgXCJTdGFtcHNcIlxuXHR8IFwiU29sZGllciBQcmltYXJ5IFdlYXBvbnNcIlxuXHR8IFwiUmFuZ2VyIFByaW1hcnkgV2VhcG9uc1wiXG5cdHwgXCJTY3JhbWJsZXIgUHJpbWFyeSBXZWFwb25zXCJcblx0fCBcIlNoYXJlZCBTZWNvbmRhcnkgV2VhcG9uc1wiXG5cdHwgXCJFZ2dzcGxvZGVyIFByaW1hcnkgV2VhcG9uc1wiXG5cdHwgXCJXaGlwcGVyIFByaW1hcnkgV2VhcG9uc1wiXG5cdHwgXCJDcmFja3Nob3QgUHJpbWFyeSBXZWFwb25zXCJcblx0fCBcIkdyZW5hZGVzXCJcblx0fCBcIlRyaUhhcmQgUHJpbWFyeSBXZWFwb25zXCJcblx0fCBcIk1lbGVlXCI7XG50eXBlIEl0ZW1UeXBlTmFtZSA9IFwiSGF0XCIgfCBcIlN0YW1wXCIgfCBcIlByaW1hcnlcIiB8IFwiU2Vjb25kYXJ5XCIgfCBcIkdyZW5hZGVcIiB8IFwiTWVsZWVcIjtcbiIsICJpbXBvcnQgeyBjc3MsIGRlYnVnRXJyb3IgfSBmcm9tIFwiLi4vbG9nZ2luZ1wiO1xuaW1wb3J0IHsgU291cmNlTW9kIH0gZnJvbSBcIi4vbG9hZGVyXCI7XG5pbXBvcnQgeyBTb3VyY2VNb2RzIH0gZnJvbSBcIi4vbW9kc1wiO1xuXG4vLyBleHBvcnQgbGV0IG1hcHBpbmdzOiB7W3g6IHN0cmluZ106IHN0cmluZ30gPSB7fTtcbmV4cG9ydCBsZXQgbWFwcGluZ3M6IE1hcHBpbmdUeXBlID0ge307XG4vKipcbiAqIFRoaXMgaXMganVzdCBteSBpbnRlcm5hbCBNb2RMb2FkZXIuXG4gKiBhbHRob3VnaCBJIGRvIGludGVuZCBvbiBleHBvc2luZyBpdCBhcyBhIGdsb2JhbCB2YXJpYWJsZSBmb3IgY29udmVuaWVuY2VcbiAqIEBhdXRob3IgR3JpZm1pblxuICovXG5leHBvcnQgY29uc3QgTW9kTG9hZGVyOiBNb2RMb2FkZXJJbnRlcmZhY2UgPSB7XG5cdGdldCBzb3VyY2VtYXBwaW5ncygpIHtcblx0XHRyZXR1cm4gbWFwcGluZ3Ncblx0fSxcblx0c3JjOiBgYCxcblx0R2V0dGVyOiAoKSA9PiB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiR2V0dGVyIG5vdCBkZWZpbmVkIHlldC5cIik7IC8vIHRoaXMgd2lsbCBnZXQgb3ZlcndyaXR0ZW4gYnkgb25lIG9mIG91ciBzb3VyY2UgbW9kcyBkdXJpbmcgcnVudGltZVxuXHR9LFxuXHRnZXRNYXBwaW5ncyhyZXF1ZXN0ZWRNYXBwaW5nczogTWFwcGluZ1R5cGUgPSBtYXBwaW5ncykge1xuXHRcdGZ1bmN0aW9uIHNhZmVHZXR0ZXIodmFsdWU6IHN0cmluZyk6IGFueSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyZXR1cm4gTW9kTG9hZGVyLkdldHRlcih2YWx1ZSlcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25zdCBtYXAgPSBPYmplY3QuZW50cmllcyhyZXF1ZXN0ZWRNYXBwaW5ncykubWFwKChba2V5LCB2YWx1ZV0pID0+IFtrZXksIHNhZmVHZXR0ZXIodmFsdWUpXSk7XG5cdFx0Y29uc3QgT2JqID0gT2JqZWN0LmZyb21FbnRyaWVzKG1hcCk7XG5cdFx0cmV0dXJuIE9iajtcblx0fSxcbn07XG5cbi8qKlxuICogQSBsaXR0bGUgaGVscGVyIGZ1bmN0aW9uIChtZW50IGZvciBpbnRlcm5hbCB1c2UgZm9yIHRoZSBtb21lbnQpXG4gKiBAdG9kbyAoR3JpZikgLSBhZGQgcHJvcGVyIGNoZWNraW5nIHRvIHNlZSBpZiB0aGVpciBhcmUgcG9zc2libGUgY29uZmxpY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkTWFwcGluZ3MoZGF0YTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSkge1xuXHRPYmplY3QuYXNzaWduKG1hcHBpbmdzLCBkYXRhKTtcbn1cblxuXG5mdW5jdGlvbiBhdHRlbXB0RGVmaW5lTW9kbG9hZGVySW50ZXJuYWwoTW9kTG9hZGVyOiBNb2RMb2FkZXJJbnRlcmZhY2UpIHtcblx0dHJ5IHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCBcIk1vZExvYWRlclwiLCB7XG5cdFx0XHRnZXQ6ICgpID0+IE1vZExvYWRlcixcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdC8vIGFsbG93IG90aGVycyB0byBleHRlbmQgKGFuZCBob3BlZnVsbHkgbm90IG92ZXJ3cml0ZSlcblx0XHR9KTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0ZGVidWdFcnJvcihgRXJyb3Igd2hlbiBhdHRlbXB0aW5nIHRvIGRlZmluZSBNb2RMb2FkZXIgb24gd2luZG93YCwgZXJyKTtcblx0fVxufVxuXG4vKipcbiAqIFRoaXMgaXMgd2hlcmUgd2UgYXR0ZW1wdCB0byBkZWZpbmUgTW9kTG9hZGVyIG9uIHRoZSBnbG9iYWwgd2luZG93XG4gKiAodGhpcyBpcyB2ZXJ5IGlmIG5vdCBkYW1uIG5lYXIgdGhlIHNhbWUgYXMgaG93IHdlIGRlZmluZSB3aW5kb3cuQ2xpZW50KVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXR0ZW1wdERlZmluZU1vZGxvYWRlcigpIHtcblx0aWYgKFwiTW9kTG9hZGVyXCIgaW4gd2luZG93KSB7XG5cdFx0Y29uc3QgZGVmaW5lZCA9IHdpbmRvdy5Nb2RMb2FkZXIgYXMgYW55O1xuXHRcdGNvbnN0IGZpbHRlcmVkRW50cmllcyA9IE9iamVjdC5lbnRyaWVzKE1vZExvYWRlcikuZmlsdGVyKChba2V5LCB2YWx1ZV0pID0+ICFkZWZpbmVkW2tleV0pO1xuXHRcdGNvbnN0IG5ld0luc3RhbmNlID0gT2JqZWN0LmZyb21FbnRyaWVzKGZpbHRlcmVkRW50cmllcyk7XG5cdFx0Y29uc3QgZXh0ZW5kZWRNb2RMb2FkZXIgPSBPYmplY3QuYXNzaWduKG5ld0luc3RhbmNlLCB3aW5kb3cuTW9kTG9hZGVyIGFzIGFueSkgYXMgTW9kTG9hZGVySW50ZXJmYWNlO1xuXHRcdGNvbnN0IGVyciA9IG5ldyBFcnJvcihgTW9kTG9hZGVyIGFscmVhZHkgZGVmaW5lZCBvbiB3aW5kb3cgb2JqZWN0YCwgeyBjYXVzZTogd2luZG93Lk1vZExvYWRlciB9KTtcblx0XHRhdHRlbXB0RGVmaW5lTW9kbG9hZGVySW50ZXJuYWwoZXh0ZW5kZWRNb2RMb2FkZXIpO1xuXHRcdHJldHVybiBkZWJ1Z0Vycm9yKGAlY1dhcm5pbmc6IGAsIGNzcy53YXJuLCBlcnIpO1xuXHR9XG5cdGF0dGVtcHREZWZpbmVNb2Rsb2FkZXJJbnRlcm5hbChNb2RMb2FkZXIpO1xufVxuXG4vLyAjIHR5cGUgLyBpbnRlcmZhY2VzIHN0dWZmXG5cbmludGVyZmFjZSBNb2RMb2FkZXJJbnRlcmZhY2Uge1xuXHRzb3VyY2VtYXBwaW5nczogTWFwcGluZ1R5cGU7XG5cdC8qKkNvbnZlbmllbnQgdG8gaGF2ZSBhIGNvcHkgb2YgdGhlIG9yaWdpbmFsIHNvdXJjZSBjb2RlIChmb3IgZGVidWcgLyBkZXYgcHVycG9zZXMpICovXG5cdHNyYzogc3RyaW5nO1xuXHRnZXRNYXBwaW5nczxUIGV4dGVuZHMge1trZXk6IHN0cmluZ106IHN0cmluZ30gPihyZXF1ZXN0ZWRNYXBwaW5nczogVCk6IHtbSyBpbiBUW251bWJlcl1dOiBhbnkgfTtcblx0R2V0dGVyOiAoc3RyOiBzdHJpbmcpID0+IFRPRE87XG59XG5cbnR5cGUgTWFwcGluZ1R5cGUgPSB7W2tleTogc3RyaW5nXTogc3RyaW5nfTtcbiIsICIvKipcbiAqIFRoaXMgaXMganVzdCBhIG1vZHVsZSB3aXRoIHNvbWUgb2YgbXkgc291cmNlIG1vZHMgcG9ydGVkIGZyb20gdGhlIG9yaWdpbmFsIEctVHdlYWtzIChqcyB2ZXJzaW9uKVxuICogQHRvZG8gKEdyaWYpIC0gZmluaXNoIHBvcnRpbmcgdGhlIHJlc3Qgb2YgdGhlIHNvdXJjZSBtb2RzXG4gKiBAYXV0aG9yIEdyaWZtaW5cbiAqXG4gKiBOb3RlczpcbiAqIEkgdXNlIHRoZSB0ZXJtIGBSZXdyaXRlYCB3aGVuIGl2ZSBmdWxseSByZSBpbXBsZW1lbnRlZCB0aGUgZnVuY3Rpb24gZnJvbSBzY3JhdGNoLlxuICogdGhlIHRlcm0gYHBhdGNoYCBmb3Igc2xpZ2h0IG1vZGlmaWNhdGlvbi4gdG8gYW4gb3JpZ2luYWwgZnVuY3Rpb24uXG4gKiB0aGVyZSBhcmUgYWxzbyBleGNlcHRpb25zIGZvciB0aGVzZSBhc3dlbGwuIGFzIHNvbWUgY3V0IGFuZCBwYXN0ZSBzZWN0aW9ucyBvZiBjb2RlIGFyb3VuZFxuICogd2hpbGUgbW9kaWZ5aW5nIC8gYWRkaW5nIGNvbmRpdGlvbnNcbiAqL1xuXG5pbXBvcnQgeyBXYWl0Rm9yQ29uZGl0aW9uLCByZSwgZXhlY09yVGhyb3cgfSBmcm9tIFwiLi4vLi4vQ2xpZW50L1V0aWxpdGllc1wiO1xuaW1wb3J0IHsgY3JlYXRlU291cmNlTW9kIH0gZnJvbSBcIi4uL2xvYWRlclwiO1xuaW1wb3J0IHsgYWRkTWFwcGluZ3MgfSBmcm9tIFwiLi4vTW9kTG9hZGVyXCI7XG5pbXBvcnQgeyBkZWJ1Z0RlYnVnIH0gZnJvbSBcIi4uLy4uL2xvZ2dpbmdcIjtcblxuZXhwb3J0IGNvbnN0IEFkYmxvY2tNb2QgPSBjcmVhdGVTb3VyY2VNb2Qoe1xuXHRuYW1lOiBcIkFudGkgQWRibG9ja1wiLFxuXHRkZXNjcmlwdGlvbjogXCJIYXMgbXVsdGlwbGUgbGl0dGxlIHBhdGNoZXMgdG8gYXNzaXN0IHdpdGggZ2V0dGluZyBhcm91bmQgYWRibG9ja2luZyBtZWFzdXJlcy5cIixcblx0dmVyc2lvbjogXCIxMC4xMi4yNVwiLCAvLyB1bnN1cmUgd2hlbiBpIG9yaWdpbmFsbHkgd3JvdGUgdGhpcywgYXMgdGhpcyBpcyBqdXN0IHRoZSBwb3J0ZWQgdmVyc2lvbiBmcm9tIG15IHB1cmUganMgdmVyc2lvbiBvZiBHVHdlYWtzLiBzbyBpbGwganVzdCB3cml0ZSB3aGVuIGkgcG9ydGVkIGl0XG5cdG1vZGlmeTogZnVuY3Rpb24gKHNvdXJjZTogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRyZS5nbWB0ZXN0aW5nYDtcblx0XHRjb25zdCBtYXRjaCA9IGV4ZWNPclRocm93KFxuXHRcdFx0L2dldCBwcm9kdWN0QmxvY2tBZHNcXChcXClcXHM/e3JldHVybiAoW1xcLkEtejAtOV8kXSspfS9nbSxcblx0XHRcdHNvdXJjZSxcblx0XHRcdFwiRmFpbGVkIHRvIGdyYWIgcHJvZHVjdEJsb2NrQWRzXCJcblx0XHQpO1xuXHRcdGNvbnN0IFssIHByb2R1Y3RCbG9ja0Fkc10gPSBtYXRjaDtcblx0XHRjb25zdCBwcm9kdWN0QmxvY2tBZHNBc3NpZ25tZW50ID0gcmUuZ21gKCR7cHJvZHVjdEJsb2NrQWRzfT0pYDtcblx0XHRjb25zdCBNb3VzZUxvZ2dpbmcgPVxuXHRcdFx0Lyhjb25zb2xlXFwubG9nXFwoYE1vdXNlIGJ1dHRvbiBcXCRcXHtcXHdcXC5idXR0b25cXH0gKD86dXB8ZG93biksIFBvaW50ZXIgTG9jazogXFwkXFx7ISFkb2N1bWVudFxcLnBvaW50ZXJMb2NrRWxlbWVudFxcfWBcXCkpL2dtO1xuXHRcdC8vIGNvbnN0IGFkSW5QbGF5UGF0Y2ggPSByZWdleFRlbXBsYXRlYCgke3Byb2R1Y3RCbG9ja0Fkc30pKFxcXFwpcmV0dXJuIHRoaXNcXFxcLmFkSW5QbGF5QWN0aXZlPSlgO1xuXHRcdHNvdXJjZSA9IHNvdXJjZVxuXHRcdFx0LnJlcGxhY2UocHJvZHVjdEJsb2NrQWRzQXNzaWdubWVudCwgXCIkMXRydWV8fCQyXCIpXG5cdFx0XHQucmVwbGFjZShNb3VzZUxvZ2dpbmcsIFwidm9pZCA2OSAvKiQxKi9cIikgLy8gaSBkb250IG5lZWQgdG8gc2VlIHRoaXNcblx0XHRcdC8vIC5yZXBsYWNlKGFkSW5QbGF5UGF0Y2gsICckMXx8dHJ1ZSQyJykgLy8gdGhpcyBwYXRjaGVzIG91dCBhIGZhaXJseSBkZWNlbnQgcG9ydGlvbiBvZiB0aGUgYWRJblBsYXkganMgdGhhdCBydW5zXG5cdFx0XHQucmVwbGFjZSgvKGhpZGVBZHM9KShbQS16MC05XyFdKykvZ20sIFwiJDF0cnVlfHwkMlwiKVxuXHRcdFx0LnJlcGxhY2UoL2FkQmxvY2tlckRldGVjdGVkXFwoXFwpey4qP30vZ20sIFwiYWRCbG9ja2VyRGV0ZWN0ZWQoKXt9XCIpOyAvLyA6dHJvbGxmYWNlOlxuXHRcdHJldHVybiBzb3VyY2U7XG5cdH0sXG59KTtcblxuZXhwb3J0IGNvbnN0IENoYWxsZW5nZXNSZVJvbGwgPSBjcmVhdGVTb3VyY2VNb2Qoe1xuXHRuYW1lOiBcIkNoYWxsZW5nZXMgUmUtUm9sbCBieXBhc3NcIixcblx0ZGVzY3JpcHRpb246IFwiQnlwYXNzZXMgdGhlIGNoYWxsZW5nZXMgcmUtcm9sbCBmcm9tIGNoZWNraW5nIHRoZSB2aXAgKGlzVXBncmFkZWQpIHN0YXR1cyBvZiB0aGUgdXNlci5cIixcblx0dmVyc2lvbjogXCI4LjMwLjI1XCIsIC8vIGFwcGFyZW50bHkgSSBkYXRlZCB0aGlzIG9uZSBmb3Igc29tZSByZWFzb24uXG5cdG1vZGlmeTogZnVuY3Rpb24gKHNvdXJjZTogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRjb25zdCBwYXR0ZXJuID0gLyhpc1VwZ3JhZGVkXFwoXFwpKShcXD9bXFx3XyRdK1xcKFtcXHdfJF0rLHRoaXNcXC5yZXJvbGxWaXBTdWNjZXNzXFwuYmluZFxcKHRoaXMpL2dtO1xuXHRcdC8vIEkgc2ltcGx5IGRvbnQgY29uc2VudC4gVGhhbmsgeW91IGZvciB1bmRlcnN0YW5kaW5nLlxuXHRcdHJldHVybiBzb3VyY2UucmVwbGFjZShwYXR0ZXJuLCBcIiQxfHx0cnVlJDJcIik7XG5cdH0sXG59KTtcblxuZXhwb3J0IGNvbnN0IENoaWNrZW5XaW5uZXJUcnlQbGF5ID0gY3JlYXRlU291cmNlTW9kKHtcblx0bmFtZTogXCJDaGlja2VuIFdpbm5lciBQbGF5IGJ5cGFzc1wiLFxuXHRkZXNjcmlwdGlvbjpcblx0XHRcIkJ5cGFzc2VzIHRoZSBjaGlja2VuIHdpbm5lciBgY2h3VHJ5UGxheWAgZnVuY3Rpb24gZnJvbSBjaGVja2luZyB0aGUgdmlwIChpc1VwZ3JhZGVkKSBzdGF0dXMgb2YgdGhlIHVzZXIuXCIsXG5cdHZlcnNpb246IFwiMTAuMTIuMjVcIiwgLy8gdGhpcyBpcyB0aGUgZGF0ZSBvZiBteSBwb3J0IChpdCB3YXMgbWFkZSBiZWZvcmUgaSBzdGFydGVkIGRhdGluZyBzb3VyY2UgbW9kcylcblx0bW9kaWZ5OiBmdW5jdGlvbiAoc291cmNlOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdGNvbnN0IHBhdHRlcm4gPSAvW1xcLkEtejAtMF8kXStcXC5pc1VwZ3JhZGVkXFwoXFwpKFxcP1xcKFtBLXowOS05XyRdK1xcKFwiY2h3VHJ5UGxheVxcKFxcKSBWSVBcXC4gTm8gYWRzIGZvciB5b3UhKS9nbTtcblx0XHRyZXR1cm4gc291cmNlLnJlcGxhY2UocGF0dGVybiwgXCJ0cnVlJDFcIik7XG5cdH0sXG59KTtcblxuZXhwb3J0IGNvbnN0IFN0cmlwT2JmdXNjYXRlZENvZGUgPSBjcmVhdGVTb3VyY2VNb2Qoe1xuXHRuYW1lOiBcIlN0cmlwIE9iZnVzY2F0ZWQgQ29kZVwiLFxuXHRkZXNjcmlwdGlvbjogXCJUaGlzIHN0cmlwcyBvdXQgdGhlIHJhbmRvbWx5IG9iZnVzY2F0ZWQgY29kZSB0aGF0IGlzIGluIHRoZSBnYW1lIGZpbGVzXCIsXG5cdHZlcnNpb246IFwiMTAuMTIuMjVcIiwgLy8gdGhlIHBvcnRlZCBkYXRlXG5cdG1vZGlmeTogZnVuY3Rpb24gKHNvdXJjZTogc3RyaW5nKTogc3RyaW5nIHtcblx0XHQvLyBjb25zdCBmaXJzdFBhdHRlcm4gPSAvZnVuY3Rpb24gKFtcXHdfJF0rKVxcKFtcXHdfJF1cXCl7Lio/fXZhciAoW1xcd18kXSspLChbXFx3XyRdKyksKFtcXHdfJF0rKT1cXFsoPzpcIltcXHc9XStcIiwpezV9XCJbXFx3XStcIlxcXS4qP307L2dtO1xuXHRcdGNvbnN0IGZpcnN0UGF0dGVybiA9IC8odmFyIChbXFx3XyRdKyksKFtcXHdfJF0rKSwoW1xcd18kXSspPVxcWyg/OlwiW1xcdz1dK1wiLCl7NX1cIltcXHddK1wiXFxdLio/fTspL2dtO1xuXHRcdC8vIGNvbnN0IFtPYmZ1c2NhdGlvblNldHVwLF0gPSBmaXJzdFBhdHRlcm4uZXhlYyhzcmMpXG5cdFx0c291cmNlID0gc291cmNlLnJlcGxhY2UoZmlyc3RQYXR0ZXJuLCBcIi8qJDEqL1wiKTtcblx0XHQvKip0aGlzIHdpbGwgYnJlYWsgdGhlIGdhbWVzIHNvdXJjZSBhcyB0aGUgZWdnIGdhbWUgd2l0aCBpdHMgaW5maW5pdGUgd2lzZG9tIHB1dCB0d28gb3RoZXIgZnVuY3Rpb25zICphZnRlciB0aGlzKlxuXHRcdCAqIHRvIHNlcGVyYXRlIHdoZXJlIHRoZXkgYWN0dWFsbHkgYWRkIGluIHRoZSB3aW5kb3dbICBvYmZ1c2NhdGVkIG9ic2VydmVyIF0gc2hpdFxuXHRcdCAqICovXG5cdFx0Y29uc3QgU2Vjb25kUGF0dGVybiA9IC8obmV3XFwod2luZG93XFxbLio/XFxdLio/fVxcKTspL2dtO1xuXHRcdHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKFNlY29uZFBhdHRlcm4sIFwiLyokMSovXCIpO1xuXHRcdHJldHVybiBzb3VyY2U7XG5cdH0sXG59KTtcblxuZXhwb3J0IGNvbnN0IEV4Y2Vzc2l2ZUxvZ3NQYXRjaCA9IGNyZWF0ZVNvdXJjZU1vZCh7XG5cdG5hbWU6IFwiRXhjZXNzaXZlIExvZ3MgUGF0Y2hcIixcblx0ZGVzY3JpcHRpb246IFwiUmVkdWNlcyBzb21lIG9mIHRoZSAoaW4gbXkgb3BpbmlvbikgZXhjZXNzaXZlIGFuZCBhbm5veWluZ2ggbG9nZ2luZ1wiLFxuXHR2ZXJzaW9uOiBcIjEwLjEyLjI1XCIsIC8vIHBvcnRlZCBkYXRlXG5cdG1vZGlmeTogZnVuY3Rpb24gKHNvdXJjZTogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRzb3VyY2UgPSBzb3VyY2Vcblx0XHRcdC8vIC5yZXBsYWNlKC8oY29uc29sZVxcLmxvZ1xcKFwiJWNTVE9QIS4qP1xcKSkvZ20sIFwidm9pZCAwLyokMSovXCIpXG5cdFx0XHQucmVwbGFjZSgvKHNldFRpbWVvdXQpKFxcKFxcKFxcKFxcKT0+XFwoW1xcdyRfXSs9bnVsbCxjb25zb2xlXFwubG9nXFwoXCIlY1NUT1AhKS9nbSwgXCJ2b2lkLyokMSovICQyXCIpXG5cdFx0XHQucmVwbGFjZSgvKGNvbnNvbGVcXC5sb2dcXChcIkFDVElWRSBaT05FIElTIE5PVy4qP1xcKSkvZ20sIGB2b2lkIDAvKiQxKi9gKVxuXHRcdFx0LnJlcGxhY2UoLyhjb25zb2xlXFwubG9nXFwoXCJhY3Rpb25cIixbXFx3JF9dK1xcLm5hbWVcXHxcXHxbXFx3JF9dK1xcKSwpL2dtLCBcIi8qJDEqL1wiKTtcblx0XHRyZXR1cm4gc291cmNlO1xuXHR9LFxufSk7XG5cbmV4cG9ydCBjb25zdCBhZGRDaGF0UmV3cml0ZSA9IGNyZWF0ZVNvdXJjZU1vZCh7XG5cdG5hbWU6IFwiYWRkQ2hhdCByZXdyaXRlXCIsXG5cdGRlc2NyaXB0aW9uOiAvKipAdHJpbSAqL2Bcblx0YSByZSB3cml0dGVuIHZlcnNpb24gb2YgdGhlIGFkZENoYXQgZnVuY3Rpb24uXG5cdERpc3BsYXkgZmlsdGVyZWQgbWVzc2FnZXMsIHBhdGNoZXMgcG90ZW50aWFsIFJDRSBidWcgKHllcyBpIHJlcG9ydGVkIGl0IGJhY2sgaW4gMS4xNS4yMDI0KVxuXHRgLFxuXHR2ZXJzaW9uOiBcIjEwLjMxLjI1XCIsXG5cdG1vZGlmeTogZnVuY3Rpb24gKHNvdXJjZTogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRgZnVuY3Rpb24gKFtcXFxcdyRfXSspXFxcXCgoPzooPzpbXFxcXHckX10rKSw/KXs1fVxcXFwpe2NvbnN0IFtcXFxcdyRfXSs9W1xcXFx3JF9dK1xcXFwucXVlcnlTZWxlY3RvckFsbFxcXFwoXCJcXFxcLmNoYXQtaXRlbWA7XG5cdFx0Y29uc3QgZnVuY05hbWVSZSA9XG5cdFx0XHQvZnVuY3Rpb24gKFtcXHckX10rKVxcKCgoPzpbXFx3JF9dKyksPyl7NX1cXCl7Y29uc3QgW1xcdyRfXSs9W1xcdyRfXStcXC5xdWVyeVNlbGVjdG9yQWxsXFwoXCJcXC5jaGF0LWl0ZW0vZ207XG5cdFx0Y29uc3QgWywgYWRkQ2hhdE5hbWVdID0gZXhlY09yVGhyb3coZnVuY05hbWVSZSwgc291cmNlKTtcblx0XHRjb25zdCBmdW5jU3JjUmUgPSByZS5nbWAoZnVuY3Rpb24gJHthZGRDaGF0TmFtZX1cXFxcKChbXFxcXHdfJF0rKSwoW1xcXFx3XyRdKyksKFtcXFxcd18kXSspLChbXFxcXHdfJF0rKSwoW1xcXFx3XyRdKylcXFxcKXsuKj99KWZ1bmN0aW9uYDtcblx0XHRjb25zdCBmdW5jc3JjTWF0Y2ggPSBleGVjT3JUaHJvdyhmdW5jU3JjUmUsIHNvdXJjZSwgYFVuYWJsZSB0byBncmFiIGFkZENoYXQgZnVuY3Rpb24gbmFtZWApO1xuXHRcdGNvbnN0IFssIGZ1bmNzcmMsIG1zZywgZmxhZ3MsIHBsYXllcklkLCBjYWxsYmFja19vcl9jbG9zdXJlLCBmb3JtYXR0ZXJdID0gZnVuY3NyY01hdGNoO1xuXG5cdFx0Y29uc3QgWywgcGxheWVyLCBwbGF5ZXJMaXN0XSA9IGV4ZWNPclRocm93KFxuXHRcdFx0cmUuZ21gKFtBLXowLTlfJF0rKT0oW0EtejAtOV8kXSspXFxcXFske3BsYXllcklkfV1gLFxuXHRcdFx0ZnVuY3NyYyxcblx0XHRcdFwidW5hYmxlIHRvIGdldCBwbGF5ZXIsIHBsYXllcmxpc3RcIlxuXHRcdCk7XG5cdFx0Ly8gY29uc3QgWywgY2hhdE91dEVsXSA9IC8oW0EtejAtOV8kXSspXFwucXVlcnlTZWxlY3RvckFsbFxcKFwiXFwuY2hhdC1pdGVtXCJcXCkvLmV4ZWMoZnVuY3NyYyk7XG5cdFx0Y29uc3QgWywgY2hhdE91dEVsXSA9IGV4ZWNPclRocm93KC8oW0EtejAtOV8kXSspXFwucXVlcnlTZWxlY3RvckFsbFxcKFwiXFwuY2hhdC1pdGVtXCJcXCkvLCBmdW5jc3JjKTtcblx0XHRjb25zdCBbLCAsIGlzQmFkV29yZF0gPSBleGVjT3JUaHJvdygvKFtBLXowLTlfJF0rKVxcLmxlbmd0aD4wJiYhKFtBLXowLTlfJF0rKVxcKFxcMVxcKS8sIGZ1bmNzcmMpO1xuXHRcdGNvbnN0IFssIHBhcnNlU29jaWFsXSA9IGV4ZWNPclRocm93KHJlLmdtYChbQS16MC05XyRdKylcXFxcKCR7cGxheWVyfVxcLnNvY2lhbFxcXFwpYCwgZnVuY3NyYyk7IC8vIGZpbmQgYmV0dGVyIG5hbWU/IChkb250IGhhdmUgYW4gdXBkYXRlZCBzb3VyY2UgZmlsZSlcblx0XHRjb25zdCBbLCB0ZWFtQ29sb3JzXSA9IGV4ZWNPclRocm93KHJlLmdtYChbQS16MC05XyRdKylcXFxcLnRleHRcXFxcWyR7cGxheWVyfVxcXFwudGVhbVxcXFxdYCwgZnVuY3NyYyk7XG5cdFx0Y29uc3QgWywgbWVJZF0gPSBleGVjT3JUaHJvdyhyZS5nbWAke3BsYXllcklkfT09PShbQS16MC05XyRdKylcXFxcfFxcXFx8YCwgZnVuY3NyYyk7XG5cdFx0Ly8gY29uc3QgWywgY2hhdEZsYWdzXSA9IGV4ZWNPclRocm93KC8oW1xcd18kXSspXFwucGlubmVkL2dtLCBmdW5jc3JjKTtcblx0XHRjb25zdCBbLCBwaW5uZWRdID0gZXhlY09yVGhyb3coXG5cdFx0XHQvW1xcdyRfXSsmKFtcXHckX1xcLl0rfCkmJlxcKFtcXHckX10rXFwuY2xhc3NMaXN0XFwuYWRkXFwoL2dtLFxuXHRcdFx0ZnVuY3NyYyxcblx0XHRcdFwiQ2hhdGZsYWdzLnBpbm5lZFwiXG5cdFx0KTtcblx0XHQvLyBjb25zdCBbLCB0ZWFtXSA9IC9bXFx3JF9dKyYoXFx3JF8rKSYmXFwoLlxcLnN0eWxlXFwuY29sb3I9W1xcdyRfXStcXC50ZXh0XFxbXFx3K1xcLnRlYW1cXF0sL2dtLmV4ZWMoZnVuY3NyYylcblx0XHRjb25zdCBbLCB0ZWFtXSA9IGV4ZWNPclRocm93KFxuXHRcdFx0L1tcXHckX10rJihbXFx3JF9cXC5dKykmJlxcKC5cXC5zdHlsZVxcLmNvbG9yPVtcXHckX10rXFwudGV4dC9nbSxcblx0XHRcdGZ1bmNzcmMsXG5cdFx0XHRcIkNoYXRmbGFncy50ZWFtXCJcblx0XHQpO1xuXHRcdGNvbnN0IFssIENoYXRDb250YWluZXJdID0gZXhlY09yVGhyb3coLyhbQS16MC05XyRdKylcXC5zY3JvbGxUb3A9XFwxXFwuc2Nyb2xsSGVpZ2h0LywgZnVuY3NyYyk7XG5cdFx0LyoqQHRvZG86IChHcmlmKSAtIGZpZ3VyZSBvdXQgd2hhdCB0aGlzIGlzICovXG5cdFx0Y29uc3QgWywgYXNrQ2xvc3VyZV0gPSBleGVjT3JUaHJvdyhcblx0XHRcdC9cImNsaWNrbWVcIlxcKSwoW0EtejAtOV8kXSspXFwoKFtBLXowLTlfJF0rKSwoW0EtejAtOV8kXSspLChbQS16MC05XyRdKylcXCkvLFxuXHRcdFx0ZnVuY3NyY1xuXHRcdCk7XG5cdFx0LyoqQHRvZG86IChHcmlmKSAtIGlzIHRoaXMgYSBnb29kIG5hbWU/Ki9cblx0XHRjb25zdCBbLCBzYWZlZGl2XSA9IGV4ZWNPclRocm93KHJlLmdtYChbQS16MC05XyRdKylcXFxcLmlubmVySFRNTD0ke21zZ30sJHttc2d9PWAsIGZ1bmNzcmMpO1xuXHRcdGNvbnN0IFssIHVuaXF1ZUlkXSA9IGV4ZWNPclRocm93KHJlLmdtYD0ke3BsYXllcn1cXFxcLihbXFxcXHdfJF0rKWAsIGZ1bmNzcmMpO1xuXHRcdGNvbnN0IFssIG15UGxheWVyXSA9IGV4ZWNPclRocm93KHJlLmdtYFtcXFxcdyRfXSshPShbXFxcXHckX10rKVxcLiR7dW5pcXVlSWR9YCwgZnVuY3NyYyk7XG5cdFx0Ly8gY29uc3QgWywgbXlQbGF5ZXJdID0gL1tBLXowLTldKyE9KFtBLXowLTlfJF0rKVxcLnVuaXF1ZUlkLy5leGVjKGZ1bmNzcmMpO1xuXHRcdC8vdXBkYXRlIG1hcHBpbmdzXG5cdFx0YWRkTWFwcGluZ3Moe1xuXHRcdFx0YWRkQ2hhdDogYWRkQ2hhdE5hbWUsXG5cdFx0XHRtZTogbXlQbGF5ZXIsXG5cdFx0XHRpc0JhZFdvcmQsXG5cdFx0XHR0ZWFtQ29sb3JzLFxuXHRcdFx0Y2hhdE91dEVsLFxuXHRcdFx0cGxheWVyczogcGxheWVyTGlzdCxcblx0XHRcdG1lSWQsXG5cdFx0fSk7XG5cdFx0LyoqQHRvZG86IChHcmlmKSAtIHJlIGltcGxlbWVudCBkZWZhdWx0IChidXQgcmVhZGFibGUpIGFkZENoYXQgZnVuY3Rpb24uIHRoZW4gcmV3cml0ZSovXG5cdFx0Y29uc3QgbmV3RnVuYyA9IC8qanMqLyBgZnVuY3Rpb24gJHthZGRDaGF0TmFtZX0gKG1lc3NhZ2UsIGZsYWdzLCBwbGF5ZXJJZCwgY3VzdG9tX2NsaWNrX2NhbGxiYWNrLCBmb3JtYXR0ZXIpIHtcbiAgICAgICAgbGV0IGNoYXRJdGVtcyA9ICR7Y2hhdE91dEVsfS5xdWVyeVNlbGVjdG9yQWxsKFwiLmNoYXQtaXRlbVwiKTtcbiAgICAgICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICAgICAgICAvKiB0aGlzIGlzIHNjdWZmZWQsIGJ1dCB0aGlzIGlzIGFjY3VyYXRlIHRvIHRoZSB2YW5pbGxhIGZ1bmN0aW9uLi4uKi9cbiAgICAgICAgICAgIGlmICghZmxhZ3MgJiAke3Bpbm5lZH0pIHJldHVybjtcbiAgICAgICAgICAgIGZvciAobGV0IGNoYXQgb2YgY2hhdEl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjaGF0LmNsYXNzTGlzdC5jb250YWlucyhcImNoYXQtcGlubmVkLWl0ZW1cIikpIHJldHVybjtcbiAgICAgICAgICAgICAgICBjaGF0LnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNoYXRJdGVtICAgICAgICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGxldCBwbGF5ZXJNc2dTcGFuICAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgbGV0IHBsYXllckluZm9EaXYgICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGxldCBwbGF5ZXJOYW1lU3BhbiAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgbGV0IHNvY2lhbEljb24gICAgICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpXCIpO1xuXG4gICAgICAgIGxldCBoYXNVcGdyYWRlICAgICAgPSBmYWxzZTtcbiAgICAgICAgbGV0IFNvY2lhbEJhZGdlICAgICA9IGZhbHNlO1xuICAgICAgICBsZXQgdW5pcXVlSWQgICAgICAgID0gZmFsc2U7XG5cbiAgICAgICAgY2hhdEl0ZW0uY2xhc3NMaXN0LmFkZChcImNoYXQtaXRlbVwiKTtcbiAgICAgICAgcGxheWVySW5mb0Rpdi5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcblxuICAgICAgICAvKiBpIGRvbnQgbGlrZSB0aGlzIGlmIHN0YXRlbWVudCB0YmgsIGJ1dCBpIGd1ZXNzIGl0cyBmaW5lIGZvciBub3cuIChyZXBsaWNhdGUgZmlyc3QsIGJlZm9yZSBtb2RpZmljYXRpb24pKi9cbiAgICAgICAgaWYgKHBsYXllcklkID4gMjUzKSB7XG4gICAgICAgICAgICBpZiAocGxheWVySWQgPT0gMjU1KSB7XG4gICAgICAgICAgICAgICAgcGxheWVyTmFtZVNwYW4udGV4dENvbnRlbnQgPSBcIlNFUlZFUjogXCI7XG4gICAgICAgICAgICAgICAgcGxheWVySW5mb0Rpdi5zdHlsZS5jb2xvciA9IFwiI2ZmMFwiO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwbGF5ZXJJZCA9PSAyNTQpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXJOYW1lU3Bhbi50ZXh0Q29udGVudCA9IFwiTU9EOiBcIjtcbiAgICAgICAgICAgICAgICBwbGF5ZXJJbmZvRGl2LnN0eWxlLmNvbG9yID0gXCIjMGYwXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwbGF5ZXJOYW1lU3Bhbi5jbGFzc0xpc3QuYWRkKFwiY2hhdC1wbGF5ZXItbmFtZVwiLCBcInNzX21hcmdpbnJpZ2h0X3hzXCIpO1xuICAgICAgICAgICAgcGxheWVySW5mb0Rpdi5hcHBlbmRDaGlsZChwbGF5ZXJOYW1lU3Bhbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgcGxheWVyID0gJHtwbGF5ZXJMaXN0fVtwbGF5ZXJJZF07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8qIGhlcmUgdGhleSBhcmUgXCJwdXJpZnlpbmdcIiB0aGUgdGV4dCB0byByZW1vdmUgYW55IDxhc2RmPi4gYnV0IHdoeSBpbm5lckhUTUwgKi9cbiAgICAgICAgICAgICR7c2FmZWRpdn0uaW5uZXJIVE1MID0gbWVzc2FnZTtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSAke3NhZmVkaXZ9LnRleHRDb250ZW50LnRyaW0oKTtcblxuICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uID0gKCBwbGF5ZXJJZCA9PT0gJHttZUlkfSB8fCAoKCEocGxheWVyPy5tdXRlZCA/PyB0cnVlKSAmJiBtZXNzYWdlLmxlbmd0aCkpICk7XG5cdFx0XHQvKiB1cGRhdGVkIChiZXR0ZXIpIGNvbmRpdGlvbiovXG4gICAgICAgICAgICAvKmNvbnN0IGNvbmRpdGlvbiA9ICggcGxheWVySWQgPT09ICR7bWVJZH0gfHxcbiAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcklkICE9PSBudWxsICYmIFxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIgJiYgLy8gKHNvbWV0aW1lcyBpdCBnaXZlcyBhIGluY29ycmVjdCBJZHggYW5kIHBsYXllciB2YXIgaXMgbnVsbClcbiAgICAgICAgICAgICAgICAgICAgIXBsYXllci5tdXRlZCAmJiAvLyB5b3UgY2FuIGp1c3QgZG8gIXBsYXllcj8ubXV0ZWQgaW5zdGVhZCBvZiB0aGlzIF4gKHJld3JpdGUgbGF0ZXIpXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICAvLyAhJHtpc0JhZFdvcmR9KG1lc3NhZ2UpICYmIC8vIG5vIGNoYXQgZmlsdGVyIHBsZWFzZSA6ZXllczpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pbmRleE9mKFwiPFwiKSAvLyBidHcuIHd0ZiBpcyB0aGlzIGZvcj8/XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSovXG4gICAgICAgICAgICAvKiByZXdyaXRlIFwiY29uZGl0aW9uXCIgdmFyIGFzIGl0cyBub3QgYW4gYWN0dWFsIGRlY2xhcmVkIHZhcmlhYmxlPyAqL1xuICAgICAgICAgICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgICAgICAgICAgIC8qIGhhc1VwZ3JhZGUgPSAhIShwbGF5ZXIudXBncmFkZVByb2R1Y3RJZCAmJiBwbGF5ZXIudXBncmFkZVByb2R1Y3RJZCA+IDApICBicnVoICovXG4gICAgICAgICAgICAgICAgaGFzVXBncmFkZSA9IChwbGF5ZXI/LnVwZ3JhZGVQcm9kdWN0SWQgPiAxKTtcbiAgICAgICAgICAgICAgICBTb2NpYWxCYWRnZSA9ICR7cGFyc2VTb2NpYWx9KHBsYXllci5zb2NpYWwpO1xuXG4gICAgICAgICAgICAgICAgaWYgKFNvY2lhbEJhZGdlICYmICFwbGF5ZXIuaGlkZUJhZGdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvY2lhbEljb24uY2xhc3NMaXN0LmFkZChcImZhYlwiLCBTT0NJQUxNRURJQVtTb2NpYWxCYWRnZS5pZF0pO1xuICAgICAgICAgICAgICAgICAgICAvKiAgc2hvdWxkIFNPQ0lBTE1FRElBIGJlIGR5bmFtaWM/IF4gaXQgaXMgYSBjb25zdCBpbiBpbmRleC5odG1sKi9cbiAgICAgICAgICAgICAgICAgICAgc29jaWFsSWNvbi5jbGFzc0xpc3QuYWRkKFwic3NfbWFyZ2lucmlnaHRfeHNcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNVcGdyYWRlICYmICFwbGF5ZXIuaGlkZUJhZGdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvY2lhbEljb24uY2xhc3NMaXN0LmFkZChcImZhc1wiLCBcImZhLWVnZ1wiLCBcImhpZGRlblwiLCBcInRleHRfZ29sZFwiLCBcInZpcC1lZ2dcIik7XG4gICAgICAgICAgICAgICAgICAgIHNvY2lhbEljb24uY2xhc3NMaXN0LmFkZChcInNzX21hcmdpbnJpZ2h0X3hzXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1bmlxdWVJZCA9IHBsYXllci4ke3VuaXF1ZUlkfTtcbiAgICAgICAgICAgICAgICBwbGF5ZXJOYW1lU3Bhbi5jbGFzc0xpc3QuYWRkKFwiY2hhdC1wbGF5ZXItbmFtZVwiLCBcInNzX21hcmdpbnJpZ2h0X3hzXCIpO1xuICAgICAgICAgICAgICAgIHBsYXllck5hbWVTcGFuLnRleHRDb250ZW50ID0gcGxheWVyLm5hbWUgKyBcIjogXCI7XG4gICAgICAgICAgICAgICAgLyogY29uc29sZS5sb2cocGxheWVyLm5hbWUsIG1lc3NhZ2UpOyBzdGF3cCBpdCBjb25zb2xlIGxvZ2dpbmcgOigqL1xuICAgICAgICAgICAgICAgIGlmIChmbGFncyAmICR7dGVhbX0pIHtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyTXNnU3Bhbi5zdHlsZS5jb2xvciA9ICR7dGVhbUNvbG9yc30udGV4dFtwbGF5ZXIudGVhbV07XG4gICAgICAgICAgICAgICAgICAgIHBsYXllck1zZ1NwYW4uY2xhc3NMaXN0LmFkZChcImNoYXQtdGVhbVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGxheWVySW5mb0Rpdi5zdHlsZS5jb2xvciA9ICR7dGVhbUNvbG9yc30udGV4dFtwbGF5ZXIudGVhbV07XG4gICAgICAgICAgICAgICAgcGxheWVySW5mb0Rpdi5hcHBlbmRDaGlsZChzb2NpYWxJY29uKTtcbiAgICAgICAgICAgICAgICBwbGF5ZXJJbmZvRGl2LmFwcGVuZENoaWxkKHBsYXllck5hbWVTcGFuKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmIChwbGF5ZXJJZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjsgLyogdGhpcyAqc2hvdWxkKiBuZXZlciBoYXBwZW4uKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpZiAoY2hhdEl0ZW1zLmxlbmd0aCA+IDQpIHtcbiAgICAgICAgLy8gICAgIGlmIChjaGF0SXRlbXNbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2hhdC1waW5uZWQtaXRlbVwiKSkge1xuICAgICAgICAvLyAgICAgICAgIGlmIChmbGFncyAmICR7cGlubmVkfSkge1xuICAgICAgICAvLyAgICAgICAgICAgICBjaGF0SXRlbXNbMF0ucmVtb3ZlKCk7XG4gICAgICAgIC8vICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgY2hhdEl0ZW1zWzFdLnJlbW92ZSgpO1xuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICAgICAgY2hhdEl0ZW1zWzBdLnJlbW92ZSgpO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9XG4gICAgICAgIC8qIHBsYXllck1zZ1NwYW4uaW5uZXJIVE1MID0gbWVzc2FnZTsgLSBkaXNhYmxpbmcgZHVlIHRvIGh0bWwgaW5qZWN0aW9uIGNvbmNlcm5zKi9cbiAgICAgICAgcGxheWVyTXNnU3Bhbi50ZXh0Q29udGVudCA9IG1lc3NhZ2U7IC8vIGFkZCB0ZXh0IGNvbnRlbnRcbiAgICAgICAgaWYgKHBsYXllcklkIDwgMjUzICYmICR7aXNCYWRXb3JkfShtZXNzYWdlKSkge1xuICAgICAgICAgICAgLy8gcGxheWVyTXNnU3Bhbi5zdHlsZS5jb2xvciA9ICdSRUQnOyBcblx0XHRcdHBsYXllck1zZ1NwYW4uY2xhc3NMaXN0LmFkZCgnYWRkQ2hhdGZpbHRlcmVkJylcbiAgICAgICAgICAgIC8vIGp1c3Qgc2hvd2luZyB0aGF0IGl0cyBjaGF0IGZpbHRlcmVkIGZvciBub3cgOmJsb2JzaHJ1ZzpcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmb3JtYXR0ZXIpIHtcbiAgICAgICAgICAgIHBsYXllck1zZ1NwYW4uaW5uZXJIVE1MID0gcGxheWVyTXNnU3Bhbi5pbm5lckhUTUwuZm9ybWF0KGZvcm1hdHRlcikgXG4gICAgICAgICAgICAvKiogdGhpcyAqZG9lcyogcmUgaW50cm9kdWNlIHRoZSBodG1sIGluamVjdGlvbiBjb25jZXJucy4gaG93ZXZlciB0aGlzIHNob3VsZCBvbmx5IGV2ZXIgYmUgY2FsbGVkIGludGVybmFsbHkgKGllOiBzaGFyZSBsaW5rIHBvcHVwKVxuICAgICAgICAgICAgICogXiB0aGlzIGlzIG5lYXQuIGNvdWxkIGJlIHVzZWQgZm9yIGN1c3RvbSBlbGVtZW50cyBpbiBodG1sIDpleWVzOiBtYXliZSBldmVuIDplbW9qaTpcbiAgICAgICAgICAgICAqL1xuICAgICAgICB9XG4gICAgICAgIGlmIChmbGFncyAmICR7cGlubmVkfSkge1xuICAgICAgICAgICAgcGxheWVyTXNnU3Bhbi5jbGFzc0xpc3QuYWRkKFwiY2hhdC1waW5uZWRcIik7XG4gICAgICAgICAgICBjaGF0SXRlbS5jbGFzc0xpc3QuYWRkKFwiY2hhdC1waW5uZWQtaXRlbVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjaGF0SXRlbS5hcHBlbmRDaGlsZChwbGF5ZXJJbmZvRGl2KTtcbiAgICAgICAgY2hhdEl0ZW0uYXBwZW5kQ2hpbGQocGxheWVyTXNnU3Bhbik7XG5cbiAgICAgICAgY2hhdEl0ZW0uY2xhc3NMaXN0LmFkZChcImNsaWNrbWVcIik7XG4gICAgICAgIGNoYXRJdGVtLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXVuaXF1ZUlkICYmIGN1c3RvbV9jbGlja19jYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGN1c3RvbV9jbGlja19jYWxsYmFjaygpO1xuICAgICAgICAgICAgLyp9IGVsc2UgaWYgKHBsYXllcklkICE9ICR7bXlQbGF5ZXJ9LmlkKSB7Ki8gXG5cdFx0XHQvLyBubyB0aGFua3MuIGkgd291bGQgbGlrZSB0byBjbGljayBteXNlbGZcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGxheWVyTmFtZVNwYW4uY2xhc3NMaXN0LmFkZChcImNsaWNrbWVcIik7XG4gICAgICAgICAgICAgICAgJHthc2tDbG9zdXJlfSh1bmlxdWVJZCwgU29jaWFsQmFkZ2UsIGhhc1VwZ3JhZGUpKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgICR7Y2hhdE91dEVsfS5hcHBlbmRDaGlsZChjaGF0SXRlbSk7XG4gICAgICAgIC8vIGlmICgke0NoYXRDb250YWluZXJ9KSB7XG5cdFx0XHQvLyAke0NoYXRDb250YWluZXJ9LnNjcm9sbFRvcCA9ICR7Q2hhdENvbnRhaW5lcn0uc2Nyb2xsSGVpZ2h0O1xuXHRcdGlmICgke2NoYXRPdXRFbH0pIHtcblx0XHRcdC8vIGF1dG8gc2Nyb2xsaW5nIGRvd24gKGhvdyBuaWNlKVxuXHRcdFx0Ly8gJHtjaGF0T3V0RWx9LnBhcmVudEVsZW1lbnQuc2Nyb2xsKHt0b3A6ICR7Y2hhdE91dEVsfS5wYXJlbnRFbGVtZW50LnNjcm9sbEhlaWdodH0pO1xuXHRcdFx0JHtjaGF0T3V0RWx9LnNjcm9sbCh7dG9wOiAke2NoYXRPdXRFbH0uc2Nyb2xsSGVpZ2h0fSk7IC8vIGRvZXNudCB3b3JrXG5cdFx0XHRcbiAgICAgICAgfVxuXG4gICAgfWA7XG5cdFx0cmV0dXJuIHNvdXJjZS5yZXBsYWNlKGZ1bmNzcmMsIG5ld0Z1bmMpO1xuXHR9LFxufSk7XG5cbmV4cG9ydCBjb25zdCBvbkNoYXRLZXlEb3duUmV3cml0ZSA9IGNyZWF0ZVNvdXJjZU1vZCh7XG5cdG5hbWU6IFwib25DaGF0S2V5RG93biByZXdyaXRlXCIsXG5cdGRlc2NyaXB0aW9uOiBcInJlIHdyaXRlcyB0aGUgb25DaGF0S2V5RG93biBmdW5jdGlvbiB0byBzaG93IHdoZW4geW91IGFyZSB0eXBpbmcgaW4gYSBmaWx0ZXJlZCBtZXNzYWdlIChob3BlZnVsbHkpXCIsXG5cdHZlcnNpb246IFwiMTEuOS4yNVwiLFxuXHRyZXF1aXJlZE1hcHBpbmdzOiBbXCJpc0JhZFdvcmRcIiwgXCJhZGRDaGF0XCJdIGFzIGNvbnN0LCAvLyBpIGRvbnQgdGVjaG5pY2FsbHkgbmVlZCBhbGwgb2YgdGhlc2UuIGl0cyBqdXN0IG5pY2UgdG8gaGF2ZVxuXHRtb2RpZnk6IGZ1bmN0aW9uIChzb3VyY2U6IHN0cmluZywgcmVxdWVzdGVkTWFwcGluZ3MpOiBzdHJpbmcge1xuXHRcdC8vIHRocm93IG5ldyBFcnJvcihcIkZ1bmN0aW9uIG5vdCBpbXBsZW1lbnRlZC5cIik7XG5cdFx0Y29uc3QgeyBpc0JhZFdvcmQsIGFkZENoYXQgfSA9IHJlcXVlc3RlZE1hcHBpbmdzO1xuXHRcdGNvbnN0IHNyY21hdGNoID0gL29uQ2hhdEtleURvd246KGZ1bmN0aW9uXFwoW1xcdyRfXStcXCl7Lio/fSksc3RhcnRDaGF0Oi9nbTtcblx0XHRjb25zdCBbLCBmdW5jU3JjXSA9IGV4ZWNPclRocm93KHNyY21hdGNoLCBzb3VyY2UsIFwib25DaGF0S2V5RG93bi50b1N0cmluZygpXCIpO1xuXHRcdGNvbnN0IFssIGNoYXRJbkVsLCBmaXhTdHJpbmdXaWR0aF0gPSBleGVjT3JUaHJvdygvKFtcXHckX10rKVxcLnZhbHVlPShbXFx3JF9dKylcXChcXDFcXC52YWx1ZSwyODAvZ20sIGZ1bmNTcmMpO1xuXHRcdC8qKlxuXHRcdCAqIHNvIG9uY2UgYWdhaW4sIGJ3ZCBoYXMgcmFuZG9tbHkgZGVjaWRlZCB0byB1bnBhY2sgdGhlIGNoYXRGbGFncyB2YXJpYWJsZS5cblx0XHQgKiBzb210aW1lcyBpdHMgZGVjbGFyZWQgbGlrZSB0aGlzIGluIHRoZSBnYW1lIHNvdXJjZTpcblx0XHQgKiBgYGBqc1xuXHRcdCAqIGNoYXRGbGFncyA9IHtcblx0XHQgKiBcdFx0bm9uZTogMCxcblx0XHQgKiBcdFx0dGVhbXM6IG51bWJlclxuXHRcdCAqIFx0XHRjdGY6IG51bWJlclxuXHRcdCAqIFx0XHQuLi4gXG5cdFx0ICogfVxuXHRcdCAqIGBgYFxuXHRcdCAqIGltIGd1ZXNzaW5nIHdpdGggdGhlaXIgYnVpbGQgcHJvY2VzcyB0aGV5IGhhdmUgYW4gb3B0aW9uIHRvIHVucGFjayAvIGRlc3RydWN0dXJlIG9iamVjdHMgYXQgcnVudGltZSB3aGljaCBoYXJkIGNvZGUgdGhlIHZhcmlhYmxlcyB0bzpcblx0XHQgKiBjaGF0RmxhZ3Mkbm9uZVx0LT4gb2JmdXNjYXRlZCBuYW1lXG5cdFx0ICogY2hhdEZsYWdzJHRlYW1zXHQtPiBvYmZ1c2NhdGVkIG5hbWVcblx0XHQgKiBjaGF0RmxhZ3MkY3RmXHQtPiBvYmZ1c2NhdGVkIG5hbWVcblx0XHQgKiBcblx0XHQgKiBzbyB3ZSBoYXZlIHRvIGJ1aWxkIGEgcGF0Y2ggY29uZGl0aW9uIHRvIGFsbG93IGZvciBlYWNoIGNhc2UgZm9yIG1vcmUgcmVsaWFibGl0eS4uLiB5YXlcblx0XHQgKi9cblx0XHQvLyBjb25zdCBbLCBjaGF0RmxhZ3MsIGlzR2FtZU93bmVyXSA9IGV4ZWNPclRocm93KC9jYXNlXCJwaW5cIjpyZXR1cm4gKFtcXHckX10rKVxcPyhbXFx3JF9dKylcXC5waW5uZWQvZ20sIGZ1bmNTcmMpO1xuXHRcdGNvbnN0IGNoYXRGbGFnc0FuZEdhbWVPd25lclJFID0gL2Nhc2VcInBpblwiOnJldHVybiAoW1xcdyRfXSspXFw/KFtcXHckX10rXFwucGlubmVkfFtcXHckX10rKTooW1xcdyRfXSsoPzpcXC5ub25lKT8pL2dtO1xuXHRcdGNvbnN0IFssIGNoYXRGbGFncyRwaW5uZWQsIGlzR2FtZU93bmVyLCBjaGF0RmxhZ3Mkbm9uZV0gPSBleGVjT3JUaHJvdyhjaGF0RmxhZ3NBbmRHYW1lT3duZXJSRSwgZnVuY1NyYywgJ29uQ2hhdEtleURvd24kY2hhdEZsYWdzLnBpbm5lZCcpXG5cdFx0Ly8gY29uc3QgdGVhbVJlID0gcmUuZ21gXFxcXD8oW1xcXFx3JF9dKylcXFxcPyR7Y2hhdEZsYWdzfVxcXFwudGVhbS9gO1xuXHRcdGNvbnN0IHRlYW1SZSA9IC9cXD8oW1xcdyRfXSspXFw/KFtcXHdfJF0rKD86XFwudGVhbSk/KS9nbTtcblx0XHQvLyBjb25zb2xlLmxvZyh0ZWFtUmUpXG5cdFx0Y29uc3QgWywgaXNUZWFtc01vZGUsIGNoYXRGbGFncyR0ZWFtc10gPSBleGVjT3JUaHJvdyh0ZWFtUmUsIGZ1bmNTcmMsIFwib25DaGF0S2V5RG93bi5pc1RlYW1zTW9kZVwiKTtcblx0XHQvLyBjb25zdCBbLCBzdG9wQ2hhdF0gPSBleGVjT3JUaHJvdygvXFwuc3RvcFByb3BhZ2F0aW9uXFwoXFwpLChbXFx3JF9dKylcXChcXCl9fS9nbSwgZnVuY1NyYywgJ29uQ2hhdEtleURvd24uc3RvcENoYXQnKVxuXHRcdGNvbnN0IFssIHN0b3BDaGF0XSA9IGV4ZWNPclRocm93KC8oW1xcdyRfXSspXFwoXFwpfX0vZ20sIGZ1bmNTcmMsIFwib25DaGF0S2V5RG93bi5zdG9wQ2hhdFwiKTtcblx0XHRjb25zdCBbLCBjaGF0RXZlbnRzXSA9IGV4ZWNPclRocm93KC9cImNoYXRcIiwoW1xcdyRfXSspXFwpXFx9L2dtLCBmdW5jU3JjLCBcIm9uQ2hhdEtleURvd24uY2hhdEV2ZW50c1wiKTtcblx0XHRjb25zdCBbLCBjbGllbnRQZXJtc10gPSBleGVjT3JUaHJvdygvKFtcXHckX10rKVxcLmFkbWluUm9sZXMvZ20sIGZ1bmNTcmMsIFwib25DaGF0S2V5RG93bi5jbGllbnRQZXJtc1wiKTtcblx0XHRjb25zdCBvYnNlcnZlQW5kbWVJZFJlID0gcmUuZ21gKFtcXFxcdyRfXSspXFxcXHxcXFxcfCR7YWRkQ2hhdH1cXFxcKFtcXFxcdyRfXSssW1xcXFx3JF9dKywoW1xcXFx3JF9dKylcXFxcKWA7XG5cdFx0Ly8gY29uc3QgWyxvYnNlcnZpbmdHYW1lLCBtZUlkXSA9IGV4ZWNPclRocm93KC8oW1xcdyRfXSspXFx8XFx8YWRkQ2hhdFxcKFtcXHckX10rLFtcXHckX10rLChbXFx3JF9dKylcXCkvZ20sIGZ1bmNTcmMpO1xuXHRcdGNvbnN0IFssIG9ic2VydmluZ0dhbWUsIG1lSWRdID0gZXhlY09yVGhyb3cob2JzZXJ2ZUFuZG1lSWRSZSwgZnVuY1NyYyk7XG5cdFx0Y29uc3QgWywgc2VuZE1lc3NhZ2VXU10gPSBleGVjT3JUaHJvdygvaW5kZXhPZlxcKFwiPFwiXFwpPDBcXCl7KFtcXHckX10rKS9nbSwgZnVuY1NyYywgXCJzZW5kTWVzc2FnZVdTXCIpO1xuXHRcdC8vIEB0b2RvIChHcmlmKSAtIGFkZCBpbiBjaGF0IGNvbXBsZXRpb25zIHNvbWVkYXksIG1heWJlXG5cdFx0Lypcblx0XHQoYXN5bmMgKCkgPT4ge1xuXHRcdFx0Ly8gd2Fja3kgaSBrbm93LiBidXQgaWYgaSBtYWtlIGl0IHRoaXMgZmFyLCBpdHMgcHJvYmFibHkgZmluZVxuXHRcdFx0Ly8gY29uY2VwdC4gYWRkIGluIGNvbW1hbmRTdWdnZXN0aW9ucyB0byBjaGF0aW5wdXQ/XG5cdFx0XHRjb25zdCBjaGF0SW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdEluJykgYXMgSFRNTElucHV0RWxlbWVudDtcblx0XHRcdGNoYXRJbi5zZXRBdHRyaWJ1dGUoJ2xpc3QnLCAnY29tbWFuZFN1Z2dldGlvbnMnKTtcblx0XHR9KSgpKi9cblx0XHRjb25zdCByZXBsYWNlbWVudEZ1bmN0aW9uU291cmNlID0gLypqcyovIGBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0Y29uc3QgeyBrZXkgfSA9IChldmVudCB8fCB3aW5kb3cuZXZlbnQpO1xuXHRcdFx0JHtjaGF0SW5FbH0udmFsdWUgPSAke2ZpeFN0cmluZ1dpZHRofSgke2NoYXRJbkVsfS52YWx1ZSwgMjgwKTsgLy8gbW9yZSBmaWx0ZXJpbmcgb2YgY291cnNlLiBcblx0XHRcdGxldCB0ZXh0ID0gJHtjaGF0SW5FbH0udmFsdWUudHJpbSgpOyAvLyBtZXNzYWdlIChiZWZvcmUgYW55dGhpbmcgaXMgZG9uZSlcblx0XHRcdC8vIGFzIHRvIHdoeSB3ZSBhcmUgdXNpbmcgYSBzd2l0Y2ggaW5zdGVhZCBvZiBhIGlmIChbJ0VudGVyJywgJ1RhYiddLmluY2x1ZGVzKGtleSkpIC4uLiBpbSB1bnN1cmVcblx0XHRcdHN3aXRjaCAoa2V5KSB7XG5cdFx0XHRcdGNhc2UgXCJFbnRlclwiOlxuXHRcdFx0XHRcdGlmICgnJyAhPSB0ZXh0ICYmIHRleHQuaW5kZXhPZignPCcpIDwgMCkge1xuXHRcdFx0XHRcdFx0JHtzZW5kTWVzc2FnZVdTfSh0ZXh0KTtcblx0XHRcdFx0XHRcdGxldCBhZGRDaGF0RmxhZ3MgPSAoKHRleHQpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKCF0ZXh0LnN0YXJ0c1dpdGgoJy8nKSkgcmV0dXJuICR7Y2hhdEZsYWdzJG5vbmV9O1xuXHRcdFx0XHRcdFx0XHRjb25zdCB0ZXh0QXJnMSA9IHRleHQuc2xpY2UoMSkuc3BsaXQoJyAnKTtcblx0XHRcdFx0XHRcdFx0c3dpdGNoIChrZXkpIHtcblx0XHRcdFx0XHRcdFx0XHRjYXNlICd0Jzpcblx0XHRcdFx0XHRcdFx0XHRjYXNlICd0ZWFtJzpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB0ZXh0QXJnMVsxXSA/ICR7aXNUZWFtc01vZGV9ID8gJHtjaGF0RmxhZ3MkdGVhbXN9IDogJHtjaGF0RmxhZ3Mkbm9uZX0gOiBudWxsO1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJwXCI6XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSBcInBpblwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICR7aXNHYW1lT3duZXJ9ID8gJHtjaGF0RmxhZ3MkcGlubmVkfSA6ICR7Y2hhdEZsYWdzJG5vbmV9O1xuXHRcdFx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gJHtjaGF0RmxhZ3Mkbm9uZX07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pKHRleHQpOyAvLyB5ZWEgdGhleSBhY3R1YWxseSBkaWQgdGhpcy5cblx0XHRcdFx0XHRcdGlmIChhZGRDaGF0RmxhZ3MgIT0gJHtjaGF0RmxhZ3Mkbm9uZX0pIHtcblx0XHRcdFx0XHRcdFx0dGV4dCA9ICgodGV4dCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGxldCB0ZXh0U3BsaXQgPSB0ZXh0LnNwbGl0KCcgJyk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRleHQuc2xpY2UodGV4dFNwbGl0WzBdLmxlbmd0aCArIDEpO1xuXHRcdFx0XHRcdFx0XHR9KSh0ZXh0KTsgLy8gdGhpcyBzdHJpcHMgdGhlIGNvbW1hbmQgZnJvbSB0aGUgdGV4dCBmb3IgdGhlIGFkZENoYXQgZnVuY1xuXHRcdFx0XHRcdFx0XHQvLyBhcyB0byB3aHkgZXhhY3RseSB0aGUgbWFkZSB0aGlzIGEgZnVuY3Rpb24gOmJsb2JzaHJ1Zzpcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICghJHtvYnNlcnZpbmdHYW1lfSkge1xuXHRcdFx0XHRcdFx0XHQke2FkZENoYXR9KHRleHQsIGFkZENoYXRGbGFncywgJHttZUlkfSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoJHtjbGllbnRQZXJtc30uYWRtaW5Sb2xlcyAmJiAhJHtpc0dhbWVPd25lcn0pIHtcblx0XHRcdFx0XHRcdFx0cGxheWVyLmNoYXRMaW5lcysrO1xuXHRcdFx0XHRcdFx0XHRpZiAocGxheWVyLmNoYXRMaW5lcyA+IDIpIHtcblx0XHRcdFx0XHRcdFx0XHQke2NoYXRJbkVsfS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHQke2NoYXRFdmVudHN9Kys7XG5cdFx0XHRcdFx0XHRpZiAoJHtjaGF0RXZlbnRzfSA9PT0gMSkge1xuXHRcdFx0XHRcdFx0XHQvKmdhKCdzZW5kJywgJ2V2ZW50JywgJ2dhbWUnLCAnc3RhdHMnLCAnY2hhdCcsICR7Y2hhdEV2ZW50c30pOyovXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRjYXNlIFwiVGFiXCI6XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRpZiAoa2V5ICE9ICdUYWInKSB7XG5cdFx0XHRcdFx0XHQke3N0b3BDaGF0fSgpO1xuXHRcdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0XHQvKnRoaXMgaXMgYWxsIG15IGFkZGl0aW9ucyAoZmFuY3kgcmlnaHQpICovXG5cdFx0XHRpZiAoa2V5Lmxlbmd0aCA9PSAxKSB7XG5cdFx0XHRcdHRleHQgKz0ga2V5O1xuXHRcdFx0fSBlbHNlIGlmIChrZXkgPT0gJ0JhY2tzcGFjZScpIHtcblx0XHRcdFx0dGV4dCA9IHRleHQuc2xpY2UoMCwgdGV4dC5sZW5ndGggLTEpO1xuXHRcdFx0fVxuXHRcdFx0Lyp3ZSBkZWZlciBhIGZ1bmN0aW9uIHRvIHJ1biBuZWFybHkgaW5zdGFudGx5IGFmdGVyIHRoZSBmdW5jdGlvbiBqdXN0IGluY2FzZSB3ZSBoaXQgXCJlbnRlclwiIG9yIHNvbWV0aGluZyBlbHNlIGhhcHBlbnMgaWRrICovXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0Lyoke2NoYXRJbkVsfS5zdHlsZS5jb2xvciA9ICR7aXNCYWRXb3JkfSgke2NoYXRJbkVsfS52YWx1ZSkgPyAncmVkJyA6ICcnOyovXG5cdFx0XHRcdCR7Y2hhdEluRWx9LmNsYXNzTGlzdFsgJHtpc0JhZFdvcmR9KCR7Y2hhdEluRWx9KSA/ICdhZGQnIDogJ3JlbW92ZScgXSgnYWRkQ2hhdGZpbHRlcmVkJyk7XG5cdFx0XHRcdC8vIGkgZGVjaWRlZCBpJ2QgdXNlIHRoZSBjbGFzc0xpc3Qgc28gdGhhdCBvdGhlcnMgY2FuIGludGVyY2VwdCAvIG92ZXJ3cml0ZSBteSB0aGVtZSBzdHVmZi4gaWRrXG5cdFx0XHR9LCAxKTtcblx0XHRcdCR7Y2hhdEluRWx9LnN0eWxlLmNvbG9yID0gJHtpc0JhZFdvcmR9KHRleHQpID8gJ3JlZCcgOiAnJztcblx0XHR9YC50cmltKCk7XG5cdFx0Ly8gT2JqZWN0LmFzc2lnbih3aW5kb3csIHtvbkNoYXRLZXlEb3duUmV3cml0ZTogcmVwbGFjZW1lbnRGdW5jdGlvblNvdXJjZX0pOyAvLyBmb3IgZGVidWdcblx0XHRyZXR1cm4gc291cmNlLnJlcGxhY2UoZnVuY1NyYywgcmVwbGFjZW1lbnRGdW5jdGlvblNvdXJjZSk7XG5cdH0sXG59KTtcblxuZXhwb3J0IGNvbnN0IHNldFJlc3Bhd25UaW1lck1vZCA9IGNyZWF0ZVNvdXJjZU1vZCh7XG5cdG5hbWU6IFwiUmVzcGF3biBUaW1lciBtb2RcIixcblx0ZGVzY3JpcHRpb246IFwiTW9kaWZpZXMgdGhlIHNldFJlc3Bhd25UaW1lKCkgZnVuY3Rpb24gdG8gaGF2ZSBzb21lIGRlY2ltYWwgcGxhY2VzXCIsXG5cdHZlcnNpb246IFwiMTAuMTIuMjVcIiwgLy8gcG9ydGVkXG5cdC8qKlxuXHQgKiB5ZWEuLi4gc28gcG9ydGluZyBhIGpzIG1vZCB0aGF0IGVtYmVkcyBhIGpzIGZ1bmN0aW9uIGludG8gYSBqcyBmaWxlIHRvIHRzLi4uXG5cdCAqIG5vdCBleGFjdGx5IHRoZSBjbGVhbmVzdCwgZXNwZWNpYWxseSBzaW5jZSB0cyBoYXMgYW4gYWN0dWFsIHN0cm9rZSB3aGVuIHlvdSBqdXN0IGJsaW5kbHlcblx0ICogaWdub3JlIHRoZSBmYWN0IHRoYXQgUmVnRXhwLmV4ZWMoLi4uKSBkb2VzbnQgYWx3YXlzIHJldHVybiBhbiBBcnJheUxpa2Ugb2JqZWN0LlxuXHQgKiAod2hpY2ggaXMgZmluZSBhcyBpbnRlbmQgb24gaGFuZGxpbmcgdGhlIGVycm9ycyB0byBiZWdpbiB3aXRoKS5cblx0ICogdGhpcyBtaWdodCBiZSBvbmUgb2YgdGhlIHZhbGlkIGNhc2VzIGZvciB1c2luZyBqcyBpbnN0ZWFkIG9mIHRzLlxuXHQgKiBAdG9kbyAoR3JpZikgLSBjbGVhbiB0aGlzIHVwLlxuXHQgKi9cblx0bW9kaWZ5OiBmdW5jdGlvbiAoc291cmNlOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdGNvbnN0IGZpcnN0TWF0Y2ggPSBleGVjT3JUaHJvdyhcblx0XHRcdC9mdW5jdGlvbiAoW0EtejAtOV8kXSspXFwoKFtBLXowLTlfJF0rKVxcKXsoW1xcd3wkXSspPU1hdGhcXC5tYXhcXChcXDIsXFwzXFwpLio/MTIwMFxcKX0vZ20sXG5cdFx0XHRzb3VyY2Vcblx0XHQpO1xuXHRcdGNvbnN0IFtmdW5jc3JjLCBzZXRSZXNwYXduVGltZSwgLCByZXNwYXduVGltZV0gPSBmaXJzdE1hdGNoO1xuXHRcdGFkZE1hcHBpbmdzKHsgc2V0UmVzcGF3blRpbWUgfSk7XG5cblx0XHQvLyBjb25zdCB7MDogc291cmNlLCAxOiBzZXRSZXNwYXduVGltZSwgMzogcmVzcGF3blRpbWV9ID0gL2Z1bmN0aW9uIChbQS16MC05XyRdKylcXCgoW0EtejAtOV8kXSspXFwpeyhbXFx3fCRdKyk9TWF0aFxcLm1heFxcKFxcMixcXDNcXCkuKj8xMjAwXFwpfS9nbS5leGVjKHNyYyk7XG5cdFx0Y29uc3Qgc2Vjb25kTWF0Y2ggPSBleGVjT3JUaHJvdygvKFtcXHdfJF0rKVxcLmNsZWFyXFwoKFtcXHdfJF0rKVxcKSwoW1xcd18kXSspXFwoXFwpLChbXFx3XyRdKylcXChcXCkvZ20sIGZ1bmNzcmMpO1xuXHRcdGNvbnN0IFssIGludGVydmFsLCByZXNwYXduSW50ZXJ2YWwsIFByZXBSZXNwYXduQWQsIGRvTWFwT3ZlcnZpZXdDYW1lcmFdID0gc2Vjb25kTWF0Y2g7XG5cdFx0Ly8gY29uc3QgWywgaW5HYW1lXSA9IG5ldyBSZWdFeHAoYCR7cmVzcGF3blRpbWV9PD0wJiYoW0EtejAtOV8kXSspYCkuZXhlYyhmdW5jc3JjKTtcblx0XHRjb25zdCB0aGlyZCA9IGV4ZWNPclRocm93KHJlLmdtYCR7cmVzcGF3blRpbWV9PD0wJiYoW0EtejAtOV8kXSspYCwgZnVuY3NyYyk7IC8vIGRlZmluaXRlbHkgbGlrZSB0aGUgcmVnZXh0ZW1wbGF0ZSBmdW5jaXRvbiBsb2xcblx0XHRjb25zdCBbLCBpbkdhbWVdID0gdGhpcmQ7XG5cdFx0Ly91cGRhdGUgbWFwcGluZ3MgKHVzZWZ1bClcblx0XHRjb25zdCB2YXJzID0ge1xuXHRcdFx0c2V0UmVzcGF3blRpbWUsXG5cdFx0XHRyZXNwYXduVGltZSxcblx0XHRcdHJlc3Bhd25JbnRlcnZhbCxcblx0XHRcdGRvTWFwT3ZlcnZpZXdDYW1lcmEsXG5cdFx0XHRpbnRlcnZhbCxcblx0XHRcdGluR2FtZSxcblx0XHR9O1xuXHRcdC8vIGlmIChPYmplY3QudmFsdWVzKHZhcnMpLmluY2x1ZGVzKG51bGwpKSB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBnZXQgYSB2YXJpYWJsZSAke3ZhcnN9YCk7IC8vIHRoaXMgd2FzIHRoZSBcImpzIHdheVwiXG5cdFx0Ly8gT2JqZWN0LmFzc2lnbihtYXBwaW5ncywgdmFycyk7IC8vIHVwZGF0ZSBtYXBwaW5nc1xuXHRcdGFkZE1hcHBpbmdzKHZhcnMpO1xuXG5cdFx0Y29uc3QgbmV3RnVuYyA9IC8qanMqLyBgZnVuY3Rpb24gJHtzZXRSZXNwYXduVGltZX0gKHNlYywgZGVjaW1hbHMgPSAxLCBGQVRTZWMgPSAxMjAwKSB7XG4gICAgICAgICR7cmVzcGF3blRpbWV9ID0gTWF0aC5tYXgoc2VjLCAke3Jlc3Bhd25UaW1lfSk7IFxuXHRcdC8qIF4gc2V0IHRoZSBuZXcgcmVzcGF3bnRpbWUgKGlmIG5lZWRlZCkqL1xuICAgICAgICBpZiAoJHtyZXNwYXduSW50ZXJ2YWx9KSBjbGVhckludGVydmFsKCR7cmVzcGF3bkludGVydmFsfSk7XG4gICAgICAgIC8qIHZ1ZUFwcC5nYW1lLnJlc3Bhd25UaW1lID0gJHtyZXNwYXduVGltZX0udG9GaXhlZChkZWNpbWFscyk7ICovXG5cdFx0XG4gICAgICAgICR7cmVzcGF3bkludGVydmFsfSA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICR7cmVzcGF3blRpbWV9ID0gTnVtYmVyKCgke3Jlc3Bhd25UaW1lfSAtICgxIC8gKGRlY2ltYWxzICogMTApKSkudG9GaXhlZChkZWNpbWFscykpO1xuICAgICAgICAgICAgLyogdnVlQXBwLmdhbWUucmVzcGF3blRpbWUgPSBNYXRoLm1pbigke3Jlc3Bhd25UaW1lfSwgNSk7ICovXG4gICAgICAgICAgICB2dWVBcHAuZ2FtZS5yZXNwYXduVGltZSA9ICR7cmVzcGF3blRpbWV9LnRvRml4ZWQoZGVjaW1hbHMpOyBcblx0XHRcdC8qIF4gc2hpdHR5IHdvcmsgYXJvdW5kLiBmb3Igc29tZSByZWFzb24gaXQgZ2V0cyB0dXJuZWQgaW50byBhIHN0cmluZz8qL1xuICAgICAgICAgICAgaWYgKCR7cmVzcGF3blRpbWV9IDw9IDAgJiYgJHtpbkdhbWV9KSB7XG4gICAgICAgICAgICAgICAgJHtyZXNwYXduVGltZX0gPSAtMTtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKCR7cmVzcGF3bkludGVydmFsfSk7XG4gICAgICAgICAgICAgICAgJHtQcmVwUmVzcGF3bkFkfSgpOyAvLyBpcyB0aGlzIHJlYWxseSBuZWVkZWRcblx0XHRcdFx0LyogXmlzIHRoaXMgcmVhbGx5IG5lZWRlZD8gKi9cbiAgICAgICAgICAgICAgICAke2RvTWFwT3ZlcnZpZXdDYW1lcmF9KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIE1hdGguZmxvb3IoRkFUU2VjIC8gKGRlY2ltYWxzICogMTApKSk7IC8qIHdoeSBpcyB0aGlzIDEuMnNlYyBpbnN0ZWFkIG9mIDFzZWM/ICovXG4gICAgXHR9YDtcblx0XHQvKipAdG9kbyAoR3JpZikgLSBleHRyYWN0IHRoaXMgb3V0IGFuZCBub3QgbWFrZSB0aGlzIGdoZXR0byAqL1xuXHRcdChhc3luYyAoKSA9PiB7XG5cdFx0XHRhd2FpdCBXYWl0Rm9yQ29uZGl0aW9uKCgpID0+IHZ1ZUFwcD8uJHJlZnM/LmdhbWVTY3JlZW4pO1xuXHRcdFx0Y29uc3QgZGlzID0gdnVlQXBwLiRyZWZzLmdhbWVTY3JlZW47XG5cdFx0XHQvLyB5ZXMsIGkganVzdCBtYWRlIGEgbG9jYWwgcmVmZXJlbmNlIHRoZW4gbWFwcGVkIGFsbCByZWZlcmVuY2VzIG9mIGB0aGlzYCB0byBgZGlzYCBmbGF3bGVzcyAoZG9udCBqdWRnZSlcblx0XHRcdGNvbnN0IHBsYXlCdG5UZXh0ID0gKCkgPT4ge1xuXHRcdFx0XHRpZiAoIWRpcy5kZWxheVRoZUNyYWNraW5nICYmICFkaXMuaXNSZXNwYXduaW5nKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGRpcy5sb2MudWlfZ2FtZV9nZXRfcmVhZHk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoZGlzLmRlbGF5VGhlQ3JhY2tpbmcgJiYgZGlzLmlzUmVzcGF3bmluZykge1xuXHRcdFx0XHRcdHJldHVybiBkaXMuZ2FtZS5yZXNwYXduVGltZTsgLy8gaW1hZ2luZSBpZiB3ZSBqdXN0IGhhbmRsZSBpdCBwcm9wZXJseSBmcm9tIHRoZSBnaXRnbyA6c2hvY2tlZGNhdDpcblx0XHRcdFx0XHQvKmlmIChkaXMuZ2FtZS5yZXNwYXduVGltZSA+IDUpIHtcblx0XHRcdFx0XHRcdHJldHVybiBkaXMuZ2FtZS5yZXNwYXduVGltZSAtIDU7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJldHVybiBkaXMuZ2FtZS5yZXNwYXduVGltZVxuXHRcdFx0XHRcdH0qL1xuXHRcdFx0XHR9IC8vZWxzZSB7XG5cdFx0XHRcdHJldHVybiBkaXMubG9jLnBfcGF1c2VfcGxheTtcblx0XHRcdFx0Ly8gfVxuXHRcdFx0fTtcblxuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHZ1ZUFwcC4kcmVmcy5nYW1lU2NyZWVuLCBcInBsYXlCdG5UZXh0XCIsIHtcblx0XHRcdFx0Z2V0OiBwbGF5QnRuVGV4dCxcblx0XHRcdH0pO1xuXHRcdH0pKCk7XG5cdFx0Ly8gaSBiZXQgY29tbWVudHMgYXJlIHByb2JhYmx5IG5pY2UuIGJ1dCBpbSBub3QgZ29pbmcgdG8gYWRkIG1hbnkuXG5cdFx0cmV0dXJuIHNvdXJjZS5yZXBsYWNlKGZ1bmNzcmMsIG5ld0Z1bmMpO1xuXHR9LFxufSk7XG4vLyAvKlxuZXhwb3J0IGNvbnN0IGV4aXRTcGVjdGF0ZU1vZGVQYXRjaCA9IGNyZWF0ZVNvdXJjZU1vZCh7XG5cdG5hbWU6IFwiZXhpdCBTcGVjdGF0ZU1vZGUgcGF0Y2hcIixcblx0ZGVzY3JpcHRpb246XG5cdFx0XCJUaGlzIGlzIG15IHBzdWRvIGF0dGVtcHQgdG8gcGF0Y2ggb3V0IHRoZSBleGl0IHNwZWN0YXRvciBtb2RlIGZyb20gc2V0dGluZyB0aGUgcmVzcGF3biB0aW1lIHRvIDUgc2Vjb25kc1wiLFxuXHR2ZXJzaW9uOiBcIjkuMS4yNVwiLCAvLyBkZXNjcmlwdGlvbiArIGRhdGUgLSBmcm9tIG9yaWdpbmFsIEdUd2Vha3MuanNcblx0cmVxdWlyZWRNYXBwaW5nczogW1wibWVcIiwgXCJzZXRSZXNwYXduVGltZVwiXSBhcyBjb25zdCwgLy8gdGhlIG1hcHBpbmdzIHRoaXMgZnVuY3Rpb24gYWN0dWFsIHJlcXVyaWVzLi4uIHlheSBpIGdldCB0byBmaW5hbGx5IGltcGxlbWVudCB0aGF0XG5cdG1vZGlmeTogZnVuY3Rpb24gKHNvdXJjZSwgbWFwcGluZ3MpOiBzdHJpbmcge1xuXHRcdGNvbnN0IHsgbWUsIHNldFJlc3Bhd25UaW1lIH0gPSBtYXBwaW5ncztcblx0XHQvLyBkZWJ1Z0RlYnVnKGBIRVJFIElOICR7dGhpcy5uYW1lfWAsIHttZSwgc2V0UmVzcGF3blRpbWV9KTtcblx0XHQvLyBieSB0aGUgd2F5LCB0aGlzIHdhcyB0aGUgbGFzdCBmdW5jdGlvbiB0aGF0IGkgaW1wbGVtZW5ldGVkIGluIHRoZSBvcmlnaW5hbCBHVHdlYWtzLmpzLlxuXHRcdC8vIGl0IGlzIGFsc28gKmJ5IGZhciogb25lIG9mIHRoZSBtb3N0IHBvb3JseSB3cml0dGVuIG1vZHMgaXZlIGV2ZXIgZG9uZS4gZG9udCBqdWRnZVxuXG5cdFx0Ly8gdGhyb3cgbmV3IEVycm9yKFwiRnVuY3Rpb24gbm90IGltcGxlbWVudGVkLlwiKTsgLy8gbXkgZ29kIHRoaXMgbG9va3MgYmFkLiBpbGwganVzdCBsZWF2ZSB0aGlzIGRpc2FibGVkIGZvciBub3dcblx0XHRjb25zdCBmaXJzdE1hdGNoID0gZXhlY09yVGhyb3coXG5cdFx0XHRyZS5nbWByZXNwYXduOmZ1bmN0aW9uXFxcXChcXFxcKVxcXFx7cmV0dXJuIFtcXFxcd18kXStcXFxcP1xcXFwoJHttZX1cXFxcLihbXFxcXHdfJF0rKT0hMGAsXG5cdFx0XHRzb3VyY2UsXG5cdFx0XHRcIkZhaWxlZCB0byBncmFiIHBsYXlpbmdTdGF0ZVwiXG5cdFx0KTtcblx0XHRjb25zdCBbLCBwbGF5aW5nU3RhdGVdID0gZmlyc3RNYXRjaDtcblxuXHRcdGNvbnN0IGZ1bmNOYW1lUGF0dGVybiA9IHJlLmdtYGRvY3VtZW50XFxcXC5vbnBvaW50ZXJsb2NrY2hhbmdlPWZ1bmN0aW9uXFxcXChcXFxcKXshZG9jdW1lbnRcXFxcLnBvaW50ZXJMb2NrRWxlbWVudCYmJHttZX0mJihbXFxcXHdfJF0rKVxcXFwoXFxcXCl9LGA7XG5cdFx0Y29uc3QgZnVuY05hbWVNYXRjaCA9IGV4ZWNPclRocm93KGZ1bmNOYW1lUGF0dGVybiwgc291cmNlLCBcIkZhaWxlZCB0byBncmFiIGZ1bmMgbmFtZVwiKTtcblx0XHRjb25zdCBbLCBmdW5jdGlvbk5hbWVdID0gZnVuY05hbWVNYXRjaDtcblx0XHQvLyBjb25zdCBmdW5jUGF0dGVybiA9IC99XFwoXFwpfWZ1bmN0aW9uIChbXFx3XyRdKylcXChcXClcXHsuKj9jb25zb2xlXFwubG9nXFwoXCJwYXVzaW5nIGdhbWUgdmlhIHBvaW50ZXJsb2NrIGV4aXRcIlxcKSxbXFx3XyRdK1xcKFxcKSxjcmF6eVNka1xcLmdhbWVwbGF5U3RvcFxcKFxcKX0vZ207XG5cdFx0Y29uc3QgZnVuY1BhdHRlcm4gPSByZS5nbWB9XFxcXChcXFxcKX0oZnVuY3Rpb24gJHtmdW5jdGlvbk5hbWV9XFxcXChcXFxcKVxcXFx7Lio/Y29uc29sZVxcXFwubG9nXFxcXChcInBhdXNpbmcgZ2FtZSB2aWEgcG9pbnRlcmxvY2sgZXhpdFwiXFxcXCksW1xcXFx3XyRdK1xcXFwoXFxcXCksY3JhenlTZGtcXFxcLmdhbWVwbGF5U3RvcFxcXFwoXFxcXCl9KWA7XG5cdFx0Y29uc3QgZnVuY3NyY01hdGNoID0gZXhlY09yVGhyb3coZnVuY1BhdHRlcm4sIHNvdXJjZSwgYEZhaWxlZCB0byBncmFiIGZ1bmMgc3JjYCk7XG5cdFx0Y29uc3QgWywgZnVuY3NyY10gPSBmdW5jc3JjTWF0Y2g7XG5cdFx0bGV0IG5ld0Z1bmMgPSBmdW5jc3JjLnJlcGxhY2UoXG5cdFx0XHRgJHtmdW5jdGlvbk5hbWV9KCl7YCxcblx0XHRcdGAke2Z1bmN0aW9uTmFtZX0oKXtsZXQgd2FzSW5nYW1lID0gJHttZX0uJHtwbGF5aW5nU3RhdGV9Oy8qY29uc29sZS5sb2coe3dhc0luZ2FtZX0pOyovYFxuXHRcdCk7XG5cdFx0bmV3RnVuYyA9IG5ld0Z1bmMucmVwbGFjZShzZXRSZXNwYXduVGltZSwgYCF3YXNJbmdhbWUgPyAke3NldFJlc3Bhd25UaW1lfSgwKSA6ICR7c2V0UmVzcGF3blRpbWV9YCk7XG5cdFx0Ly8gY29uc3QgcGF0dGVybiA9IG5ldyBSZWdFeHAoYCgke21lfVxcXFwucmVzZXRDb3VudGRvd25zXFxcXChcXFxcKSwpKCR7c2V0UmVzcGF3blRpbWV9XFxcXCghW1xcXFx3XyRdK1xcXFx8XFxcXHxbXFxcXHdfJF0rXFxcXC5wcm9kdWN0QmxvY2tBZHNcXFxcfFxcXFx8cG9raUFjdGl2ZSlgLCdnbScpO1xuXHRcdHJldHVybiBzb3VyY2UucmVwbGFjZShmdW5jc3JjLCBuZXdGdW5jKTsgLy8gdGhpcyBpcyBtaW5nbGVkIGFzIGZ1Y2ssIGFuZCBwcm9iYWJseSBvbmUgb2YgdGhlIHdvcnNlIHNvdXJjZSBtb2RzIGl2ZSBldmVyIHdyaXR0ZW5cblx0fSxcbn0pO1xuXG5leHBvcnQgY29uc3QgQW50aUFGS0tpY2sgPSBjcmVhdGVTb3VyY2VNb2Qoe1xuXHRuYW1lOiBcIkFudGkgYWZrIGtpY2tcIixcblx0ZGVzY3JpcHRpb246IFwiUHJldmVudHMgeW91IGZyb20gYmVpbmcga2lja2VkIGZvciBiZWluZyBhZmsgd2hpbGUgaW5nYW1lXCIsXG5cdHZlcnNpb246IFwiMTEuMTAuMjVcIiwgLy8gXG5cdC8qKlxuXHQgKiB0ZWNobmljYWxseSBhIG5ldyBtb2QsIGFsdGhvdWdoIGl2ZSBoYWQgdGhpcyBpbXBsZW1lbnRlZCBiZWZvcmUgd2l0aCBhIGRpZmZlcmVudCBtb2QgdGhhdCBpIHVzZWQgXG5cdCAqIChpdCB3YXMgcGFja2V0IGJhc2VkIHJhdGhlciB0aGFuIG1vZGlmeWluZyB0aGUgc291cmNlIGNvZGUuIGl0IGFsc28gaGFkIHRvIHRha2UgaW50byBhY2NvdW50IHdoZW4gaSB3YXMgaW4gc3BlY3RhdGUgbW9kZVxuXHQgKiBhcyBpIGRpZG50IGRpc2FibGUgaXQgaW4gdGhlIHNvdXJjZSBjb2RlIGFzIGl2ZSBkb25lIGhlcmUuIClcblx0ICovXG5cdG1vZGlmeTogZnVuY3Rpb24gKHNvdXJjZTogc3RyaW5nKTogc3RyaW5nIHtcblx0XHQvLyBtb25zdGVyIHJlZ2V4IHBhdHRlcm4uIHdoYXQgYSBwYWluIHRvIHNldHVwLiBpIHdvbmRlciB3aGVuIGl0IHdpbGwgYnJlYWsuLi4uXG5cdFx0Y29uc3QgcGF0dCA9XG5cdFx0XHQvKChbXFx3JF9dKyk9KFtcXHckX10rKVxcLnNldFxcKFxcKChmdW5jdGlvblxcKFxcKXt2YXIgKFtcXHckX10rKT1bXFx3JF9dK1xcLmdldEJ1ZmZlclxcKFxcKTtcXDVcXC5bXFx3JF9dK1xcKFtcXHckX1xcLl0rXFwpLFxcNVxcLnNlbmQuKj8pXFwpLCg/OjE1ZTN8MTUwMDApXFwpKS9nbTtcblx0XHRjb25zdCBbLCBrZWVwQWxpdmVQb2ludCwgLCAsIGtlZXBBbGl2ZUNhbGxiYWNrXSA9IGV4ZWNPclRocm93KHBhdHQsIHNvdXJjZSwgXCJcIik7XG5cdFx0c291cmNlID0gc291cmNlLnJlcGxhY2Uoa2VlcEFsaXZlUG9pbnQsIGB2b2lkIDY5NDIwLyoke2tlZXBBbGl2ZVBvaW50fSovYCk7IC8vIGkgbmVlZCBhIHZhbGlkIHN0YXRlbWVudCBhcyBhIHJlcGxhY2VtZW50XG5cdFx0LyoqXG5cdFx0ICogaXRzIHRoZSBuaWNoZSB0aGluZ3MgdGhhdCBpcnJpdGF0ZSBtZS5cblx0XHQgKiBpIGRvbnQgZXZlbiBydW4gaW50byB0aGlzIGlzc3VlIHRoYXQgb2Z0ZW4sIHlldCBpdCBib3RoZXJlZCBtZSBlbm91Z2ggdG8gZG8gdGhpcy4uLlxuXHRcdCAqL1xuXHRcdGNvbnN0IEVtYmVkRnVuY3Rpb25Mb2dpYyA9IC8qanMqL2AoKCk9Pntcblx0XHRcdHNldEludGVydmFsKCgpID0+IHtcblx0XHRcdFx0Y29uc3QgaW5nYW1lQ29uZGl0aW9uID0gKHZ1ZUFwcD8udWk/LmdhbWU/LnNwZWN0YXRlIHx8IHZ1ZUFwcD8uZ2FtZT8uaXNQYXVzZWQpICYmIHZ1ZUFwcD8uZ2FtZT8ub247XG5cdFx0XHRcdGlmICghaW5nYW1lQ29uZGl0aW9uKSByZXR1cm47IC8vIG15IGNvbmRpdGlvbiBzb2ZhclxuXHRcdFx0XHQvLyB0b2RvOiBhZGQgaW4gYSBzZWNvbmQgY29uZGl0aW9uIHRvIGNoZWNrIGlmIHRoZSBwbGF5ZXIgaXMgaW5nYW1lIGllOiBjaGVjayBwbGF5aW5nU3RhdGUgKG5lZWQgd3JhcHByZXMgLyBtb3JlIGFkdmFuY2VkIG1hcHBpbmdzKVxuXHRcdFx0XHQoJHtrZWVwQWxpdmVDYWxsYmFja30pKCk7IC8vIGNhbGwgdGhlIGtlZXBBbGl2ZUZ1bmN0aW9uICh3cmFwcGVyKVxuXHRcdFx0fSwgMTVfMDAwKVxuXHRcdH0pKClgO1xuXHRcdGNvbnN0IGVtYmVkUGF0dGVybiA9IC8od2luZG93XFwuZXh0ZXJuKS9nbTtcblxuXHRcdHJldHVybiBzb3VyY2UucmVwbGFjZShlbWJlZFBhdHRlcm4sIGAke0VtYmVkRnVuY3Rpb25Mb2dpY307JDFgKTtcblx0fSxcbn0pO1xuLy8gIyBjb25jZXB0IC8gZGlzYWJsZWQgbW9kc1xuLypcbmV4cG9ydCBjb25zdCByZW5kZXJGb3JDYW1lcmFSZXdyaXRlID0gY3JlYXRlU291cmNlTW9kKHtcblx0bmFtZTogXCJfcmVuZGVyRm9yQ2FtZXJhIFJlLXdyaXRlXCIsXG5cdGRlc2NyaXB0aW9uOiBcImEgcmV3cml0ZSB0byB0aGUgYmFieWxvbmpzJ3MgX3JlbmRlckZvckNhbWVyYSBmdW5jdG9uXCIsXG5cdG1vZGlmeTogZnVuY3Rpb24gKHNvdXJjZTogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRjb25zdCBwYXR0ZXJuID0gLyhfcmVuZGVyRm9yQ2FtZXJhXFwoKD86W1xcdyRfLF0rKXszfT0hXFxkXFwpLio/KXJlbW92ZU1hdGVyaWFsL2dtLmV4ZWMoc291cmNlKTtcblx0XHRpZiAoIXBhdHRlcm4pIHRocm93IG5ldyBQYXR0ZXJuTWF0Y2hGYWlsZWQoYEZhaWxlZCB0byBncmFiIGZ1bmN0aW9uIHNvdXJjZSBmb3IgJHt0aGlzLm5hbWV9YCk7XG5cdFx0Y29uc3QgWywgZnVuY3Rpb25Tb3VyY2VdID0gcGF0dGVybjsgLy8gZmluaXNoIGltcGxlbWVudGluZ1xuXG5cdFx0bGV0IHJlcGxhY2VtZW50RnVuY3Rpb25Tb3VyY2U7XG5cblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGdW5jdGlvbiBub3QgaW1wbGVtZW50ZWQuXCIpO1xuXHRcdHJldHVybiBzb3VyY2UucmVwbGFjZShmdW5jdGlvblNvdXJjZSwgcmVwbGFjZW1lbnRGdW5jdGlvblNvdXJjZSk7XG5cdH1cbn0pXG4qL1xuIiwgIi8qKlxuICogQSBjb2xsZWN0aW9uIG9mIHNlbWkgdXNlZnVsIGZ1bmN0aW9uc1xuICogQHF1ZXN0aW9uIC0gc2hvdWxkIHRoaXMgYmUgdW5kZXIgdGhlIGBDbGllbnRgIGRpcmVjdG9yeT9cbiAqIEBhdXRob3IgR3JpZm1pblxuICovXG5cbi8qKlxuICogQSB1c2VmdWwgdXRpbGl0eSBmdW5jaXRvbiB0aGF0IHdhaXRzIGZvciBhIGNvbmRpdGlvblxuICogQHBhcmFtIGNvbmRpdGlvbiAtIHRoZSBjb25kaXRpb24geW91IGFyZSB3YWl0aW5nIGZvclxuICogQHBhcmFtIHBvbGxpbmdSYXRlIC0gKG1zKSB0aGUgaW50ZXJ2YWwgcmF0ZSBpbiB3aGljaCB5b3Ugd2FudCB0byBjaGVja1xuICogQHBhcmFtIG1heFRpbWVvdXQgLSAobXMpIHRoZSBhbW91bnQgb2YgdGltZSB5b3Ugd2FudCB0byB3YWl0IHVudGlsIGl0IHN0b3BzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIFdhaXRGb3JDb25kaXRpb24oXG5cdGNvbmRpdGlvbjogKCkgPT4gYm9vbGVhbixcblx0cG9sbGluZ1JhdGU6IG51bWJlciA9IDI1MCxcblx0bWF4VGltZW91dDogbnVtYmVyID0gNDVfMDAwLFxuKTogUHJvbWlzZTx2b2lkPiB7XG5cdGNvbnN0IFN0YXJ0VGltZSA9IERhdGUubm93KCk7IC8vIHdoZW4gd2Ugc3RhcnRlZFxuXHRsZXQgaW50ZXJ2YWwhOiBudW1iZXI7XG5cdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0aW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG5cdFx0XHRpZiAoRGF0ZS5ub3coKSAtIFN0YXJ0VGltZSA+PSBtYXhUaW1lb3V0KSB7XG5cdFx0XHRcdGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuXHRcdFx0XHRyZXR1cm4gcmVqZWN0KGBUaW1lZCBvdXQsIHdhaXRlZCBmb3IgLSAke21heFRpbWVvdXR9bXNgKTtcblx0XHRcdH1cblx0XHRcdGlmICghY29uZGl0aW9uKCkpIHJldHVybjtcblx0XHRcdGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuXHRcdFx0cmVzb2x2ZSgpO1xuXHRcdH0sIHBvbGxpbmdSYXRlKTtcblx0fSk7XG59XG5cbmV4cG9ydCB7IFdhaXRGb3JDb25kaXRpb24gfTtcblxuLyoqaXRzIGp1c3QgYW4gZXJyb3IgKi9cbmV4cG9ydCBjbGFzcyBQYXR0ZXJuTWF0Y2hGYWlsZWQgZXh0ZW5kcyBFcnJvciB7fVxuXG4vKipBIHRlbXBsYXRpbmcgZnVuY3Rpb24gZm9yIHJlZ2V4IHBhdHRlcm5zICh0aG91Z2h0IGl0IHdhcyBraW5kIG9mIGEgbmVhdCBjb25jZXB0IGlkaykgKi9cbmZ1bmN0aW9uIHJlZ2V4VGVtcGxhdGUoZmxhZzogXCJcIiB8IHJlZ2V4RmxhZ3MsIHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5LCAuLi52YWx1ZXM6IHN0cmluZ1tdKTogUmVnRXhwIHtcblx0LyoqXG5cdCAqIEEgbGl0dGxlIGhlbHBlciBmdW5jdGlvbiB0byBlc2NhcGUgc3BlY2lhbCBjaGFyYWN0ZXJzIGZyb20gYmVpbmcgaW50ZXJwcmV0ZWQgaW4gYSByZWdleCBwYXR0ZXJuXG5cdCAqIEBwYXJhbSBzdHIgLSB0aGUgc3RyaW5nIHRvIGVzY2FwZSAodG8gcHJldmVudCB3YWNreSB0aGluZ3MgbGlrZSB0aGVtIHBsYWNpbmcgYSBma2luZyBgJGAgaW4gYSBzeW1ib2wgd2hpY2ggZ2V0cyBpbnRlcnBlZCBhcyBhIGVuZCBvZiBsaW5lIGluIHJlZ2V4KVxuXHQgKi9cblx0ZnVuY3Rpb24gTElURVJBTChzdHI6IHN0cmluZyB8IHVuZGVmaW5lZCk6IHN0cmluZyB7XG5cdFx0Ly8gcmV0dXJuIHN0ci5yZXBsYWNlKC9cXCQvZ20sIFwiXFxcXCRcIik7IC8vIHNvIG9yaWdpbmFsbHksIGkgaGFuZGxlZCB0aGUgZXJyb3Igb3V0aXNkZSBvZiBteSBoZWxwZXIgZnVuY2l0b24uIGJ1dCB3aHkgbm90IGluc2lkZVxuXHRcdHJldHVybiBzdHIgPT0gdW5kZWZpbmVkID8gXCJcIiA6IHN0ci5yZXBsYWNlKC9cXCQvZ20sIFwiXFxcXCRcIikucmVwbGFjZShcIi5cIiwgXCJcXFxcLlwiKTtcblx0fVxuXHQvLyBjb25zdCB0cmFuc2Zvcm1lZCA9IHN0cmluZ3MucmVkdWNlKChhY2MsIHN0ciwgaWR4KSA9PiB7XG5cdC8vIFx0Y29uc3QgdmFsID0gdmFsdWVzW2lkeF0gPT0gdW5kZWZpbmVkID8gXCJcIiA6IExJVEVSQUwodmFsdWVzW2lkeF0pO1xuXHQvLyBcdHJldHVybiBhY2MgKyBzdHIgKyB2YWw7XG5cdC8vIH0sIFwiXCIpOyAvLyBuZXZlciB3YXMgYSBmYW4gb2YgQXJyYXkucmVkdWNlLCBqdXN0IGxvb2tzIGJhZFxuXHRjb25zdCB0cmFuc2Zvcm1lZCA9IHN0cmluZ3MubWFwKChzdHIsIGlkeCkgPT4gc3RyICsgTElURVJBTCh2YWx1ZXNbaWR4XSkpLmpvaW4oXCJcIik7XG5cblx0cmV0dXJuIG5ldyBSZWdFeHAodHJhbnNmb3JtZWQsIGZsYWcpO1xufVxuXG5jb25zdCBkZWZhdWx0UmVnZXhUZW1wbGF0ZSA9IChzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSwgLi4udmFsdWVzOiBzdHJpbmdbXSkgPT4gcmVnZXhUZW1wbGF0ZShcIlwiLCBzdHJpbmdzLCAuLi52YWx1ZXMpO1xuY29uc3QgdmFsaWRDaGFyYWN0ZXJzID0gXCJnbWlkdXN2eVwiO1xuZXhwb3J0IGNvbnN0IHJlID0gbmV3IFByb3h5KGRlZmF1bHRSZWdleFRlbXBsYXRlLCB7XG5cdGdldCh0YXJnZXQsIGZsYWdzOiBcIm5hbWVcIiB8IHN0cmluZykge1xuXHRcdGlmIChmbGFncyA9PSBcIm5hbWVcIikgcmV0dXJuIHRhcmdldDtcblx0XHRjb25zdCBjaGFyc1ZhbGlkID0gZmxhZ3Muc3BsaXQoXCJcIikuZXZlcnkoKGNoYXIpID0+IHZhbGlkQ2hhcmFjdGVycy5pbmNsdWRlcyhjaGFyKSk7XG5cdFx0aWYgKCFjaGFyc1ZhbGlkKVxuXHRcdFx0dGhyb3cgbmV3IFBhdHRlcm5NYXRjaEZhaWxlZChgXCIke2ZsYWdzfVwiIGluY2x1ZGVzIGludmFsaWQgY2hhcmFjdGVycy4gdmFsaWQgY2hhcmFjdGVyczogJHt2YWxpZENoYXJhY3RlcnN9YCk7XG5cdFx0cmV0dXJuIChzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSwgLi4udmFsdWVzOiBzdHJpbmdbXSkgPT4ge1xuXHRcdFx0cmV0dXJuIHJlZ2V4VGVtcGxhdGUoZmxhZ3MgYXMgcmVnZXhGbGFncywgc3RyaW5ncywgLi4udmFsdWVzKTtcblx0XHR9O1xuXHR9LFxufSkgYXMgcmVQcm94eTtcblxuLyoqXG4gKiBhIGxpdHRsZSBoZWxwZXIgZnVuY3Rpb24gdG8gYWlkIHdpdGggY29uZGl0aW9uYWwgcmVnZXggc2hpdCAoYmVjYXVzZSB0cyBpcyBhIGJpdCBhbm5veWluZylcbiAqIEBwYXJhbSBwYXR0ZXJuIHJlZ2V4IG9idmlvdXNseVxuICogQHBhcmFtIHNvdXJjZSBzb3VyY2UgY29kZSB0byBjYWxsIHRoZSBwYXR0ZXJuIHdpdGhcbiAqIEBwYXJhbSByZWFzb24gcmVhc29uIHRvIHRocm93IGlmIGl0IGRvZXNudCBmaW5kIHRoZSBwYXR0ZXJuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGVjT3JUaHJvdyhwYXR0ZXJuOiBSZWdFeHAsIHNvdXJjZTogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcblx0Y29uc3QgcmVzdWx0ID0gcGF0dGVybi5leGVjKHNvdXJjZSk7XG5cdGlmICghcmVzdWx0KSB7XG5cdFx0dGhyb3cgbmV3IFBhdHRlcm5NYXRjaEZhaWxlZChyZWFzb24gPz8gYEVycm9yIHBhdHRlcm4gbWF0Y2hpbmcgd2l0aCAke3BhdHRlcm59YCwgeyBjYXVzZTogcGF0dGVybiB9KTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vLyAjIHR5cGVzXG5cbi8vdmFsaWQgY2hhcmFjdGVycyAodGhhdCBpIGtub3cgb2YpXG50eXBlIHJlQ2hhcnMgPSBcImdcIiB8IFwibVwiIHwgXCJzXCIgfCBcImRcIiB8IFwiaVwiIHwgXCJ1XCIgfCBcInlcIiB8IFwidlwiO1xuLy8gZ29vZCBlbm91Z2gsIGNvdWxkIHByb2JhYmx5IGRvIG1vcmUuIGJ1dCBlaGhcbnR5cGUgcmVnZXhGbGFncyA9IGAke3JlQ2hhcnN9YCB8IGAke3JlQ2hhcnN9JHtyZUNoYXJzfWAgfCBgJHtyZUNoYXJzfSR7cmVDaGFyc30ke3JlQ2hhcnN9YDtcbnR5cGUgcmVUZW1wbGF0ZUZ1bmMgPSAoc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXksIC4uLnZhbHVlczogc3RyaW5nW10pID0+IFJlZ0V4cDtcbnR5cGUgcmVQcm94eSA9IHJlVGVtcGxhdGVGdW5jICYgeyBbSyBpbiByZWdleEZsYWdzXTogcmVUZW1wbGF0ZUZ1bmMgfTtcbiIsICIvKipcbiAqIFRoaXMgaXMgd2hlcmUgSSBoYW5kbGUgYWxsIG15IHNvdXJjZSBtb2RzIGFuZCBzdWNoLlxuICogQGF1dGhvciBHcmlmbWluXG4gKi9cblxuaW1wb3J0IHsgU291cmNlTW9kLCBjcmVhdGVTb3VyY2VNb2QgfSBmcm9tIFwiLi4vbG9hZGVyXCI7XG5pbXBvcnQgKiBhcyBhc2RmIGZyb20gXCIuL1NvdXJjZU1vZHNcIjtcblxuY29uc3Qgb3RoZXJTb3VyY2VNb2RzID0gT2JqZWN0LnZhbHVlcyhhc2RmKTtcblxuLyoqXG4gKiBHZW5lcmFsaXplZCBtYXBwaW5ncyB2YXJpYWJsZVxuICogQHRvZG8gKEdyaWYpIC0gdGhpbmsgb2YgYSBiZXR0ZXIgd2F5IHRvIGltcGxlbWVudCB0aGlzLlxuICovXG5cbmNvbnN0IEJhc2lzID0gY3JlYXRlU291cmNlTW9kKHtcblx0bmFtZTogXCJCYXNpcyBJbmplY3Rpb25cIixcblx0ZGVzY3JpcHRpb246IFwiVGhpcyBpcyB0aGUga2luZCBvZiBiYXNlIGxpbmUgZnVuY3Rpb24gdGhhdCBhbGxvd3MgZm9yIGFsbCBzb3J0cyBvZiBuaWZ0eSB0aGluZ3NcIixcblx0bW9kaWZ5OiBmdW5jdGlvbiAoc291cmNlOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdGNvbnN0IEVtYmVkUGF0dGVybiA9IC8od2luZG93XFwuZXh0ZXJuKS9nbTtcblx0XHQvLyBjb25zdCBpbmxpbmVGdW5jID0gKCkgPT4gTW9kTG9hZGVyLkdldHRlciA9IChzdHIpID0+IGV2YWwoc3RyKVxuXHRcdC8vIHJldHVybiBzb3VyY2UucmVwbGFjZShFbWJlZFBhdHRlcm4sIGAoJHtpbmxpbmVGdW5jLnRvU3RyaW5nKCl9KSgpOyQxYClcblx0XHQvLyBlc2J1bGQgZ2V0cyBiaWcgdXBzZXQgc2VlaW5nIGBldmFsYC4gc28gaWxsIGp1c3QgbWFrZSBpdCBhIHN0cmluZyB0byBiZWdpbiB3aXRoIDpibG9ic2hydWc6XG5cdFx0cmV0dXJuIHNvdXJjZS5yZXBsYWNlKEVtYmVkUGF0dGVybiwgYCgoLypHVHdlYWtzIFYyKi8pPT5Nb2RMb2FkZXIuR2V0dGVyPShzdHIpPT5ldmFsKHN0cikpKCk7JDFgKTtcblx0fSxcbn0pO1xuXG5jb25zdCBVbnNhZmUgPSBjcmVhdGVTb3VyY2VNb2Qoe1xuXHRuYW1lOiBcIlVuc2FmZVwiLFxuXHRkZXNjcmlwdGlvbjogXCJUaGlzIGp1c3QgdGVzdHMgdGhhdCB0aGUgbG9hZGVyIHByb3Blcmx5IGNhdGNoZXMgdW5zYWZlIG1vZGlmaWNhdGlvbnMgdG8gdGhlIHNvdXJjZSBjb2RlXCIsXG5cdG1vZGlmeTogZnVuY3Rpb24gKHNvdXJjZTogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gc291cmNlLnJlcGxhY2UoJ1wiJywgXCJcIik7IC8vIHRoaXMgc2hvdWxkIGNhdXNlIHNvbWUgaXNzdWVzXG5cdH0sXG59KTtcblxuLyoqIExpc3Qgb2YgYWxsIHRoZSBtb2RzIEkgaGF2ZSBsb2FkZWQgKi9cbmV4cG9ydCBjb25zdCBTb3VyY2VNb2RzID0gW1Vuc2FmZSwgQmFzaXMsIC4uLm90aGVyU291cmNlTW9kc107XG5cbi8qKiBBZGRzIGEgc291cmNlIG1vZCB0byB0aGUgTW9kTGlzdCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZE1vZChzb3VyY2VNb2Q6IFNvdXJjZU1vZDxhbnksIGFueT4pIHtcblx0U291cmNlTW9kcy5wdXNoKHNvdXJjZU1vZCk7XG59XG4iLCAiLyoqXG4gKiBUaGlzIGlzIHRoZSBtb2R1bGUgdGhhdCBpcyAqbWFpbmx5KiByZXNwb25zYWJsZSBmb3Igc291cmNlIGNvZGUgbW9kaWZpY2F0aW9uXG4gKiBAYXV0aG9yIEdyaWZtaW5cbiAqICovXG5cbmltcG9ydCB7IGNzcywgZGVidWdEZWJ1ZywgZGVidWdFcnJvciwgZGVidWdJbmZvLCBkZWJ1Z1dhcm4gfSBmcm9tIFwiLi4vbG9nZ2luZ1wiO1xuaW1wb3J0IHsgTW9kTG9hZGVyIH0gZnJvbSBcIi4vTW9kTG9hZGVyXCI7XG5pbXBvcnQgeyBTb3VyY2VNb2RzIH0gZnJvbSBcIi4vbW9kc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU291cmNlTW9kPFQgZXh0ZW5kcyBQc2V1ZG9TZXR0aW5ncywgTSBleHRlbmRzIHJlYWRvbmx5IHN0cmluZ1tdPihcblx0ZGF0YTogU291cmNlTW9kPFQsIE0+XG4pOiBTb3VyY2VNb2Q8VCwgTT4ge1xuXHRyZXR1cm4gZGF0YTtcbn1cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgZmlsdGVycyBhbGwgbW9kcyB0aGF0IHdlIGN1cnJlbnRseSBoYXZlIG1hcHBpbmdzIGZvci5cbiAqL1xuZnVuY3Rpb24gQWNjZXB0YWJsZU1vZHMobW9kOiBTb3VyY2VNb2Q8YW55LCByZWFkb25seSBzdHJpbmdbXT4pOiBib29sZWFuIHtcblx0aWYgKCFtb2QucmVxdWlyZWRNYXBwaW5ncykgcmV0dXJuIHRydWU7XG5cdGNvbnN0IG1hcCA9IGdldEZ1bGxTb3VyY2VNYXBwaW5ncyhtb2QpO1xuXHRyZXR1cm4gbWFwICE9IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBqdXN0IGEgaGVscGVyIGZ1bmN0aW9uIHRoYXQgaXMgdGhlICpjbG9zZXN0KiB3YXkgdG8gdmFsaWRhdGUganMgc3ludGF4IGkgY291bGQgbWFuYWdlICh3aXRoIG1pbmltYWwgZWZmb3J0KVxuICogVGhpcyBqdXN0IHZhbGlkYXRlcyB0aGF0IHRoaXMgaXNcbiAqICovXG5mdW5jdGlvbiB2YWxpZGF0ZVNvdXJjZUNvZGUoc291cmNlOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gbmV3IEZ1bmN0aW9uKHNvdXJjZSk7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdHJldHVybiBlcnIgYXMgU3ludGF4RXJyb3I7XG5cdH1cbn1cbi8qKlxuICogQSBsaXR0bGUgaGVscGVyIGZ1bmNpdG9uIHRoYXQgcmV0dXJucyBhbGwgdGhlIG1hcHBpbmdzIGZvciBhIHNvdXJjZSBtb2QgKGlmIHRoZXkgZXhpc3QpXG4gKiBPciBpdCByZXR1cm5lZCB1bmRlZmluZWQgd2hpY2ggd2UgY2hlY2sgZm9yIGluIG91ciBjb25kaXRpb25cbiAqL1xuZnVuY3Rpb24gZ2V0RnVsbFNvdXJjZU1hcHBpbmdzKHNvdXJjZU1vZDogU291cmNlTW9kPGFueSwgcmVhZG9ubHkgc3RyaW5nW10+KTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSB8IHVuZGVmaW5lZCB7XG5cdGNvbnN0IHsgcmVxdWlyZWRNYXBwaW5ncyB9ID0gc291cmNlTW9kO1xuXHRjb25zdCB7IHNvdXJjZW1hcHBpbmdzIH0gPSBNb2RMb2FkZXI7XG5cdGNvbnN0IGVudHJpZXNTcmNNYXAgPSBPYmplY3QuZW50cmllcyhzb3VyY2VtYXBwaW5ncylcblx0Ly8gY29uc3QgY29uZGl0aW9uID0gIXJlcXVpcmVkTWFwcGluZ3MgfHwgZW50cmllc1NyY01hcC5sZW5ndGggPT0gMCAgfHwgIWVudHJpZXNTcmNNYXAuZXZlcnkoKFtrZXldKSA9PiByZXF1aXJlZE1hcHBpbmdzLmluY2x1ZGVzKGtleSkpO1xuXHRjb25zdCBjb25kaXRpb24gPSAhcmVxdWlyZWRNYXBwaW5ncyB8fCBlbnRyaWVzU3JjTWFwLmxlbmd0aCA9PSAwICB8fCAhcmVxdWlyZWRNYXBwaW5ncy5ldmVyeShrZXkgPT4gc291cmNlbWFwcGluZ3Nba2V5XSApO1xuXHRpZiAoY29uZGl0aW9uKSByZXR1cm47XG5cdGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhzb3VyY2VtYXBwaW5ncykuZmlsdGVyKChba2V5LCB2YWx1ZV0pID0+IHJlcXVpcmVkTWFwcGluZ3MuaW5jbHVkZXMoa2V5KSk7XG5cdGNvbnN0IHNwZWNpZmllZE1hcHBpbmdzID0gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpO1xuXHRyZXR1cm4gc3BlY2lmaWVkTWFwcGluZ3M7XG59XG5cbi8qKlxuICogdGhpcyBhdHRlbXB0cyB0byBzYWZlbHkgZXhlY3V0ZSB0aGUgbW9kaWZpY2F0aW9uIG9mIHRoZSBnYW1lIHNvdXJjZSB3aGlsZSBoYW5kbGluZyBteSBvd24gZXJyb3JzXG4gKiBBc3N1bWVzIHRoYXQgd2Ugd2lsbCBoYXZlIHRoZSBtYXBwaW5ncy4gKG5lZWQgdG8gaGFuZGxlIHRoYXQgY29uZGl0aW9uIGV4dGVybmFsbHkpXG4gKiAqL1xuZnVuY3Rpb24gYXR0ZW1wdFNvdXJjZU1vZChcblx0c291cmNlTW9kOiBTb3VyY2VNb2Q8YW55LCByZWFkb25seSBzdHJpbmdbXT4sXG5cdGN1cnJlbnRTb3VyY2U6IHN0cmluZ1xuKTogTW9kTG9hZFN0YXRle1xuXHRjb25zdCBzcGVjaWZpZWRNYXBwaW5ncyA9IGdldEZ1bGxTb3VyY2VNYXBwaW5ncyhzb3VyY2VNb2QpO1xuXHRjb25zdCBMb2FkU3RhdGU6IE1vZExvYWRTdGF0ZSA9IHtkaXNhYmxlZDogISFzb3VyY2VNb2QuZGlzYWJsZWR9IFxuXHRpZiAoTG9hZFN0YXRlLmRpc2FibGVkKSByZXR1cm4gTG9hZFN0YXRlO1xuXHR0cnkge1xuXHRcdGNvbnN0IG5ld1NvdXJjZSA9IExvYWRTdGF0ZS5zb3VyY2UgPSBzb3VyY2VNb2QubW9kaWZ5KGN1cnJlbnRTb3VyY2UsIHNwZWNpZmllZE1hcHBpbmdzIGFzIFRPRE8pO1xuXHRcdGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlU291cmNlQ29kZShuZXdTb3VyY2UpO1xuXHRcdGlmIChyZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikgdGhyb3cgcmVzdWx0OyAvLyB3ZSB3aWxsIGp1c3QgdGhyb3cgaXQgYW5kIHBhc3MgdG8gdGhlIGNhdGNoIGNsYXVzZS5cblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0TG9hZFN0YXRlLmVycm9yID0gZXJyIGFzIEVycm9yO1xuXHR9XG5cdHJldHVybiBMb2FkU3RhdGUgYXMgTW9kTG9hZFN0YXRlO1xufVxuXG4vKipcbiAqIFRoaXMgaGFuZGxlcyB0aGUgaW50ZXJuYWwgbW9kaWZpY2F0aW9uIG9mIGVnZyBnYW1lIHNvdXJjZSBjb2RlLlxuICpcbiAqIFRoaXMgaXMganVzdCBhIFwiZ2V0IGl0IHVwIGFuZCB3b3JraW5nXCIgc3RhdGUgb2YgdGhlIGxvYWRlclxuICogQHRvZG8gKEdyaWYpIC0gZmluaXNoIGZpbmFsIGltcGxlbWVudGF0aW9uXG4gKiAtIHRvZG86IGltcGxlbWVudCByZXF1ZXN0ZWRNYXBwaW5ncyBoYW5kbGluZy5cbiAqIG5lZWRzIHRvIGJlYWJsZSB0byBiZSBhYmxlIHRvIFwic2tpcFwiIG1vZHMgd2l0aG91dCB0aGUgcmVxdWVzdGVkIG1hcHBpbmdzLCB0aGVuIGFmdGVyIHRoZSBmYWN0IGF0dGVtcHQgdG8gaGFuZGxlIHRoZW1cbiAqIHJlY3Vyc2l2ZT9cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENvcmVMb2FkZXIoXG5cdG9yaWdpbmFsU291cmNlOiBzdHJpbmcsXG5cdHNvdXJjZU1vZHMgPSBTb3VyY2VNb2RzIGFzIFNvdXJjZU1vZFtdLFxuXHRpdGVyYXRpb246IG51bWJlciA9IDAsXG5cdG1heEl0ZXJhdGlvbjogbnVtYmVyID0gc291cmNlTW9kcy5sZW5ndGhcbik6IHN0cmluZyB7XG5cdGxldCBtb2RpZmllZFNvdXJjZSA9IG9yaWdpbmFsU291cmNlO1xuXHRjb25zdCBzb3VyY2VNb2RzTW9kaWZpY2F0aW9uU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTsgLy8gdGhpcyBpcyB0aGUgc3RhcnR0aW1lclxuXHRjb25zdCBbU291cmNlTW9kc1RvTG9hZCwgc2tpcHBlZE1vZHNdID0gW3NvdXJjZU1vZHMuZmlsdGVyKEFjY2VwdGFibGVNb2RzKSwgc291cmNlTW9kcy5maWx0ZXIoKG0pID0+ICFBY2NlcHRhYmxlTW9kcyhtKSldO1xuXHRmb3IgKGNvbnN0IHNvdXJjZU1vZCBvZiBTb3VyY2VNb2RzVG9Mb2FkKSB7XG5cdFx0Y29uc3Qgc291cmNlTW9kU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcblx0XHRjb25zdCByZXN1bHQgPSBhdHRlbXB0U291cmNlTW9kKHNvdXJjZU1vZCwgbW9kaWZpZWRTb3VyY2UpO1xuXHRcdGNvbnN0IHNvdXJjZU1vZER1cmF0aW9uID0gKHBlcmZvcm1hbmNlLm5vdygpIC0gc291cmNlTW9kU3RhcnQpLnRvRml4ZWQoMik7XG5cdFx0aWYgKHJlc3VsdC5lcnJvcikge1xuXHRcdFx0Y29uc3QgZXJyb3JtZXNzYWdlID0gYExvYWRpbmcgc291cmNlbW9kICR7c291cmNlTW9kLm5hbWV9ICVjJHtzb3VyY2VNb2REdXJhdGlvbn0lY21zIC0gYDtcblx0XHRcdGRlYnVnRXJyb3IoZXJyb3JtZXNzYWdlLCBjc3MubnVtYmVyLCBcIlwiLCByZXN1bHQuZXJyb3IubWVzc2FnZSk7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9IGVsc2UgaWYgKHJlc3VsdC5kaXNhYmxlZCkge1xuXHRcdFx0ZGVidWdXYXJuKGBTb3VyY2UgTW9kaWZpY2F0aW9uICR7c291cmNlTW9kLm5hbWV9IGRpc2FibGVkLmApO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fSBlbHNlIGlmICghcmVzdWx0LnNvdXJjZSkge1xuXHRcdFx0ZGVidWdXYXJuKGBTb3VyY2UgTW9kaWZpY2F0aW9uICR7c291cmNlTW9kLm5hbWV9IGRpZG50IHJldHVybiB0eXBlIHN0cmluZ2AsIHsgcmVzdWx0IH0pO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXHRcdG1vZGlmaWVkU291cmNlID0gcmVzdWx0LnNvdXJjZSBhcyBzdHJpbmc7IFxuXHRcdGRlYnVnSW5mbyhgU291cmNlIE1vZGlmaWNhdGlvbiAke3NvdXJjZU1vZC5uYW1lfSAlYyR7c291cmNlTW9kRHVyYXRpb259JWNtc2AsIGNzcy5udW1iZXIsIFwiXCIpO1xuXHR9XG5cdGlmIChza2lwcGVkTW9kcy5sZW5ndGggfHwgaXRlcmF0aW9uID4gMCkge1xuXHRcdGlmIChpdGVyYXRpb24gPj0gbWF4SXRlcmF0aW9uIHx8IFNvdXJjZU1vZHNUb0xvYWQubGVuZ3RoID09IDApIHtcblx0XHRcdGNvbnN0IG1zZyA9IGBVbmFibGUgdG8gbG9hZCAke3NraXBwZWRNb2RzLmxlbmd0aH0gU291cmNlIG1vZCR7c2tpcHBlZE1vZHMubGVuZ3RoID09IDEgPyBcIlwiIDogXCJzXCJ9OiBgO1xuXHRcdFx0aWYgKHNraXBwZWRNb2RzLmxlbmd0aCAhPSAwKSBkZWJ1Z1dhcm4obXNnLCBza2lwcGVkTW9kcy5tYXAoKG1vZCkgPT4gbW9kLm5hbWUpLmpvaW4oXCIsIFwiKSk7XG5cdFx0XHRyZXR1cm4gbW9kaWZpZWRTb3VyY2U7XG5cdFx0fVxuXHRcdG1vZGlmaWVkU291cmNlID0gQ29yZUxvYWRlcihtb2RpZmllZFNvdXJjZSwgc2tpcHBlZE1vZHMsIGl0ZXJhdGlvbiArIDEsIG1heEl0ZXJhdGlvbik7IC8vIGFuZCB3ZSBob3BlIHRoaW5ncyBkb250IGdldCAqdG9vKiBicm9rZW4gOmtla3c6XG5cdH1cblx0aWYgKGl0ZXJhdGlvbiA+IDApIHJldHVybiBtb2RpZmllZFNvdXJjZTsgLy8gaSBhcHBhcmVudGx5IGhhdmUgYSBsb2dpYyBlcnJvciBzb21ld2hlcmUuIHRoaXMgd2lsbCBiZSBhIHRlbXAgcGF0Y2ggYXMgaSBjYmYgYXRtXG5cdGNvbnN0IHRvdGFsRHVyYXRpb24gPSAocGVyZm9ybWFuY2Uubm93KCkgLSBzb3VyY2VNb2RzTW9kaWZpY2F0aW9uU3RhcnQpLnRvRml4ZWQoMik7XG5cdGRlYnVnSW5mbyhgQWxsIFNvdXJjZSBNb2RpZmljYXRpb25zIGNvbXBsZXRlZCBpbiAlYyR7dG90YWxEdXJhdGlvbn0lY21zYCwgY3NzLm51bWJlciwgXCJcIik7XG5cdHJldHVybiBtb2RpZmllZFNvdXJjZTtcbn1cblxuLy8gIyB0eXBlcyAvIGludGVyZmFjZXNcbnR5cGUgUHNldWRvU2V0dGluZ3MgPSBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuXG5leHBvcnQgaW50ZXJmYWNlIFNvdXJjZU1vZDxUIGV4dGVuZHMgUHNldWRvU2V0dGluZ3MgPSBQc2V1ZG9TZXR0aW5ncywgTSBleHRlbmRzIHJlYWRvbmx5IHN0cmluZ1tdID0gcmVhZG9ubHkgW10+IHtcblx0bmFtZTogc3RyaW5nO1xuXHRkZXNjcmlwdGlvbjogc3RyaW5nO1xuXHRvcHRpb25zPzogVDtcblx0dmVyc2lvbj86IGFueTtcblx0ZGlzYWJsZWQ/OiBib29sZWFuXG5cdC8qKkEgc3BlY2lmaWVyIHRvIG9ubHkgbG9hZCBpZiB0aGUgcmVxdWVzdGVkIG1hcHBpbmdzIGFyZSBhdmFpbGFibGUuICovXG5cdHJlYWRvbmx5IHJlcXVpcmVkTWFwcGluZ3M/OiBNO1xuXHQvLyBtb2RpZnkoc291cmNlOiBzdHJpbmcpOiBzdHJpbmc7XG5cdG1vZGlmeShcblx0XHRzb3VyY2U6IHN0cmluZyxcblx0XHRyZXF1ZXN0ZWRNYXBwaW5nczogTSBleHRlbmRzIG5ldmVyID8gbmV2ZXIgOiBNW1wibGVuZ3RoXCJdIGV4dGVuZHMgMCA/IG5ldmVyIDogeyBbSyBpbiBNW251bWJlcl1dOiBzdHJpbmcgfVxuXHQpOiBzdHJpbmc7XG5cdC8qKlxuXHQgKiBAdG9kbyAoR3JpZikgLSB0aGluayBvZiBhIGJldHRlciBzeXN0ZW0gZm9yIHRoaXNcblx0ICovXG59XG5cbmludGVyZmFjZSBNb2RMb2FkU3RhdGUge1xuXHRlcnJvcj86IEVycm9yLFxuXHRzb3VyY2U/OiBzdHJpbmcsXG5cdGRpc2FibGVkOiBib29sZWFuLFxufSIsICIvKipcbiAqIFRoaXMgbW9kdWxlIGlzIHdoZXJlIEkgaW50ZW5kIG9uIGRvaW5nIHNvbWUgYmlnIGZhbmN5IHNvdXJjZSBtb2RpZmljYXRpb25zLlxuICogTm90IHF1aXRlIHN1cmUgKmV4YWN0bHkqIGhvdyBJIGludGVuZCBvbiBtYWtpbmcgdGhpcyBleHRlbmRhYmxlIHRvIG90aGVyIHNjcmlwdHMgYXMgb2YgeWV0LlxuICogQnV0IEkgc2hhbGwgdGhpbmsgb2YgYSB3YXkgc29tZWhvd1xuICogQGF1dGhvciBHcmlmbWluXG4gKi9cblxuaW1wb3J0IHsgYXR0ZW1wdERlZmluZU1vZGxvYWRlciwgTW9kTG9hZGVyIH0gZnJvbSBcIi4vTW9kTG9hZGVyXCI7XG5pbXBvcnQgeyBkZWJ1Z1dhcm4gfSBmcm9tIFwiLi4vbG9nZ2luZ1wiO1xuaW1wb3J0IHsgQ29yZUxvYWRlciB9IGZyb20gXCIuL2xvYWRlclwiO1xuaW1wb3J0IHsgY3JlYXRlRXh0ZW5zaW9uIH0gZnJvbSBcIi4uL1wiO1xuaW1wb3J0IHsgU291cmNlTW9kcyB9IGZyb20gXCIuL21vZHNcIjtcblxuLyoqVGhpcyBpcyBteSBwc3VkbyB3YXkgdG8gdmFsaWRhdGUgaWYgdGhpcyBpcyBhY3R1YWxseSBzaGVsbCBjb2RlIG9yIG5vdCAqL1xuZnVuY3Rpb24gaXNFZ2dHYW1lU291cmNlKHNvdXJjZTogc3RyaW5nKTogYm9vbGVhbiB7XG5cdGlmIChzb3VyY2Uuc3RhcnRzV2l0aChcIigoKT0+e1wiKSkgcmV0dXJuIHRydWU7XG5cdHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gQXBwbHlTb3VyY2VJbnRlcmNlcHRpb24oKSB7XG5cdGNvbnN0IG9yaWdpbmFsID0gSFRNTEVsZW1lbnQucHJvdG90eXBlLmFwcGVuZENoaWxkO1xuXHQvLyBhcHBhcmVudGx5IHRoaXMgaXMgdGhlIFwibmV3IG1ldGhvZFwiIHRvIGludGVyY2VwdCBpbmdhbWUgc291cmNlIGNvZGUuIGJpZyBmYW5jeVxuXHRIVE1MRWxlbWVudC5wcm90b3R5cGUuYXBwZW5kQ2hpbGQgPSBmdW5jdGlvbiA8VCBleHRlbmRzIE5vZGU+KG5vZGU6IFQpOiBUIHtcblx0XHRpZiAobm9kZSBpbnN0YW5jZW9mIEhUTUxTY3JpcHRFbGVtZW50ICYmIGlzRWdnR2FtZVNvdXJjZShub2RlLmlubmVySFRNTCkpIHtcblx0XHRcdE1vZExvYWRlci5zcmMgPSBub2RlLmlubmVySFRNTDtcblx0XHRcdG5vZGUuaW5uZXJIVE1MID0gQ29yZUxvYWRlcihub2RlLmlubmVySFRNTCk7XG5cdFx0XHRIVE1MRWxlbWVudC5wcm90b3R5cGUuYXBwZW5kQ2hpbGQgPSBvcmlnaW5hbDsgLy8gcmVzdG9yZSBvbmNlIHdlIGFyZSBkb25lXG5cdFx0fVxuXHRcdHJldHVybiBvcmlnaW5hbC5jYWxsKHRoaXMsIG5vZGUpIGFzIFQ7XG5cdH07XG5cdGF0dGVtcHREZWZpbmVNb2Rsb2FkZXIoKTtcbn1cblxubGV0IGluaXRpYWxNb2RTZXR0aW5ncyE6IFRPRE87XG5jb25zdCBiYXNlTGFiZWwgPSBcIkVuYWJsZSBHYW1lIE1vZGlmaWNhdGlvbnMgKHRoZSBiYXNlIHNldHRpbmcpXCI7XG5jb25zdCBkZXNjcmlwdGlvbiA9IC8qKkB0cmltICovIGBcbk1vZGlmaWVzIHRoZSBnYW1lJ3MgaW50ZXJuYWwgc291cmNlIGNvZGUgb24gbG9hZCBpbi5cblRvZ2dsaW5nIG1vZHMgbm90IGltcGxlbWVudGVkIGFzIG9mIHlldC4gKGFzIGkgY2JmKVxuYC50cmltKCk7XG5leHBvcnQgY29uc3QgRXh0ZW5zaW9uID0gY3JlYXRlRXh0ZW5zaW9uKHtcblx0dW5pcXVlSWRlbnRpZmllcjogXCJHcmlmbWluLVNvdXJjZUV4dGVuc2lvbnNcIixcblx0aWNvblVybDogXCJcIixcblx0bmFtZTogXCJTb3VyY2UgRXh0ZW5zaW9uIExvYWRlclwiLFxuXHRhdXRob3I6IFwiR3JpZm1pblwiLFxuXHR2ZXJzaW9uOiBcIjAuMiBhbHBoYVwiLCAvLyB5ZWEgdGhpcyBpcyBhbHBoYSB1bnRpbCBJIGZpbmQgYSBtb3JlIGNvbnNpc3RhbnQgLyBzdGFibGUgd2F5IHRvIGltcGxlbW5lbnQgdGhpc1xuXHRkZXNjcmlwdGlvbixcblx0ZGVmYXVsdFNldHRpbmdzOiB7IGVuYWJsZWQ6IGZhbHNlLCBtb2RTdGF0ZXM6IHt9IGFzIFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+IH0sIC8vIGRlY2lkZWQgdG8gZGlzYWJsZSBieSBkZWZhdWx0LiAoZm9yY2VzIHVzZXIgY2hvaWNlLiBwbHVzIGl0cyBhIG1pdGlnYXRpb24gYWdhaW5zdCBzb2Z0bG9ja3MpXG5cdGNvbmZpZygpIHtcblx0XHRjb25zdCBjb25maWdPcHRpb25zID0gW3sgdHlwZTogXCJUb2dnbGVcIiwgbGFiZWw6IGJhc2VMYWJlbCwgdmFsdWU6IHRoaXMuc2V0dGluZ3MuZW5hYmxlZCB9XTtcblx0XHRmb3IgKGNvbnN0IHsgbmFtZSB9IG9mIFNvdXJjZU1vZHMpIHtcblx0XHRcdGxldCBzdGF0ZSA9IHRoaXMuc2V0dGluZ3MubW9kU3RhdGVzW25hbWVdO1xuXHRcdFx0aWYgKHN0YXRlID09IHVuZGVmaW5lZCkgc3RhdGUgPSB0cnVlO1xuXHRcdFx0Y29uc3QgaW5kaXZpZHVhbE1vZE9wdGlvbnMgPSB7IHR5cGU6IFwiVG9nZ2xlXCIsIGxhYmVsOiBgJHtuYW1lfSAtIHRvZ2dsZWAsIHZhbHVlOiBzdGF0ZX07XG5cdFx0XHRjb25maWdPcHRpb25zLnB1c2goaW5kaXZpZHVhbE1vZE9wdGlvbnMpO1xuXHRcdH1cblx0XHRyZXR1cm4gY29uZmlnT3B0aW9ucyBhcyBUT0RPOyAvLyByZWVcblx0fSxcblx0aW5pdDogZnVuY3Rpb24gKCk6IHZvaWQge1xuXHRcdGluaXRpYWxNb2RTZXR0aW5ncyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5zZXR0aW5ncykpOyAvLyB1cGRhdGUgc3RhdGVcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVkID09IGZhbHNlKSByZXR1cm47XG5cdFx0Zm9yIChsZXQgW21vZE5hbWUsIGVuYWJsZWRdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuc2V0dGluZ3MubW9kU3RhdGVzKSkge1xuXHRcdFx0aWYgKGVuYWJsZWQgPT0gdW5kZWZpbmVkKSBlbmFibGVkID0gdHJ1ZTtcblx0XHRcdGNvbnN0IG1vZCA9IFNvdXJjZU1vZHMuZmluZCgobW9kKSA9PiBtb2QubmFtZSA9PSBtb2ROYW1lKTtcblx0XHRcdGlmIChtb2QpIE9iamVjdC5hc3NpZ24obW9kLCB7IGRpc2FibGVkOiAhZW5hYmxlZCB9KTtcblx0XHR9XG5cdFx0QXBwbHlTb3VyY2VJbnRlcmNlcHRpb24oKTtcblx0fSxcblx0b25PcHRpb25zQ2hhbmdlKHVwZGF0ZWRTdGF0ZSkge1xuXHRcdGlmICh1cGRhdGVkU3RhdGUudHlwZSAhPSBcIlRvZ2dsZVwiKSByZXR1cm4gZmFsc2U7XG5cdFx0Ly8gZGVidWdXYXJuKGAke3RoaXMubmFtZX0gLSB3aW5kb3cgcmVmcmVzaCByZXF1ZXN0LiAtIEdyaWYgZml4IHRoaXMgeW91IGxhenkgYmFzdGFyZC5gKTtcblxuXHRcdGlmICh1cGRhdGVkU3RhdGUubGFiZWwgPT0gYmFzZUxhYmVsKSB7XG5cdFx0XHR0aGlzLnNldHRpbmdzLmVuYWJsZWQgPSB1cGRhdGVkU3RhdGUudmFsdWU7XG5cdFx0XHRyZXR1cm4gdXBkYXRlZFN0YXRlLnZhbHVlO1xuXHRcdH1cblx0XHRjb25zdCBtb2ROYW1lID0gKHVwZGF0ZWRTdGF0ZS5sYWJlbCBhcyBzdHJpbmcpPy5yZXBsYWNlKFwiIC0gdG9nZ2xlXCIsIFwiXCIpO1xuXHRcdGNvbnN0IHRhcmdldE1vZCA9IFNvdXJjZU1vZHMuZmluZCgobW9kKSA9PiBtb2QubmFtZSA9PSBtb2ROYW1lKTtcblx0XHRpZiAoIXRhcmdldE1vZCkge1xuXHRcdFx0ZGVidWdXYXJuKGBVbmFibGUgdG8gZmluZCB0YXJnZXQgbW9kIHRvIHRvZ2dsZSB0aGUgc3RhdGUgb2Ygd2l0aCAke3VwZGF0ZWRTdGF0ZS5sYWJlbH0/YCk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdGNvbnN0IG5ld1N0YXRlID0gdGhpcy5zZXR0aW5ncy5tb2RTdGF0ZXM7XG5cdFx0bmV3U3RhdGVbbW9kTmFtZV0gPSAhbmV3U3RhdGVbbW9kTmFtZV07XG5cdFx0dGhpcy5zZXR0aW5ncy5tb2RTdGF0ZXMgPSBuZXdTdGF0ZTtcblx0XHQvKipcblx0XHQgKiBiZWNhdXNlIG15IHNldHRpbmdzIHByb3h5IGlzbnQgcmVjdXJzaXZlbHkgcHJveHlpbmcgZWFjaCBvYmplY3QsIGl0IG5lZWRzIHRvIHNlZSB0aGUgdG9wIGxldmVsIG9iamVjdCB1cGRhdGVcblx0XHQgKiBndWVzcyB0aGF0cyBqdXN0IGFub3RoZXIgdGhpbmcgdG8gZ28gYmFjayBhbmQgZG8uXG5cdFx0ICogQHRvZG8gKEdyaWYpIC0gbWFrZSBzZXR0aW5ncyByZWN1cnNpdmVseSBwcm94eSBlYWNoIG9iamVjdCB0byBkZXRlY3QgbXV0YXRpb25zXG5cdFx0ICovXG5cdFx0cmV0dXJuIHVwZGF0ZWRTdGF0ZS52YWx1ZTtcblx0fSxcblx0aXNFbmFibGVkKCkge1xuXHRcdHJldHVybiB0aGlzLnNldHRpbmdzLmVuYWJsZWQ7XG5cdH0sXG5cdHJlcXVlc3RSZWZyZXNoKCkge1xuXHRcdGNvbnN0IGVuYWJsZWRTdGF0ZU1hdGNoZXMgPSB0aGlzLnNldHRpbmdzLmVuYWJsZWQgPT0gKGluaXRpYWxNb2RTZXR0aW5ncyBhcyB0eXBlb2YgdGhpcy5zZXR0aW5ncykuZW5hYmxlZDtcblx0XHRjb25zdCBpbml0aWFsTW9kU3RhdGVzID0gKGluaXRpYWxNb2RTZXR0aW5ncyBhcyB0eXBlb2YgdGhpcy5zZXR0aW5ncykubW9kU3RhdGVzO1xuXHRcdGNvbnN0IG1vZFN0YXRlc01hdGNoID0gT2JqZWN0LmVudHJpZXModGhpcy5zZXR0aW5ncy5tb2RTdGF0ZXMpLmV2ZXJ5KChba2V5LCB2YWx1ZV0pID0+IGluaXRpYWxNb2RTdGF0ZXNba2V5XSA9PSB2YWx1ZSk7XG5cdFx0cmV0dXJuICFlbmFibGVkU3RhdGVNYXRjaGVzIHx8ICFtb2RTdGF0ZXNNYXRjaDtcblx0fSxcbn0pO1xuIiwgIi8qKlxuICogVGhpcyBtb2R1bGUgaXMgaW50ZW5kZWQgdG8gaW1wbGVtZW50IGEgZmV3IHZhcmlvdXMgbWV0aG9kcyB0byBhc3Npc3QgYXQgcHJvdGVjdGluZyB0aGUgY2xpZW50LlxuICogRmFpcmx5IHNpbXBsZSwgYW5kIG5vdCBtdWNoIG5lZWRlZCB0byBnbyBpbnRvIHRoaXMuXG4gKiBBbHRob3VnaCBpdCBpcyBhICpiaXQqIHRpbWluZyByZWxhdGVkLlxuICpcbiAqIEkgY291bGQgZ28gZm9yIGEgZGlmZmVyZW50IHJvdXRlIGFuZCBjcmVhdGUgYSB2aXJ1dGFsIElmcmFtZSwgYW5kIHN0ZWFsIHRoZSBvcmlnaW5hbCB1bm1vZGlmaWVkIG1ldGhvZHMgLyBwcm9wZXJ0aWVzIGluc2lkZS5cbiAqIEVoaCwgdGhpcyB3b3JrcyBmb3Igbm93LlxuICogQGF1dGhvciBHcmlmbWluXG4gKi9cbmltcG9ydCB7IGNyZWF0ZUV4dGVuc2lvbiB9IGZyb20gXCIuLi9cIjtcbmltcG9ydCB7IGRlYnVnV2FybiB9IGZyb20gXCIuLi9sb2dnaW5nXCI7XG5cbi8qKlxuICogVGhpcyBpcyBhIGxpc3Qgb2Ygb2JqZWN0cyB0aGF0IEkgKmRvIG5vdCogd2FudCBtb2RpZmllZCBvciBmdWNrZWQgd2l0aC5cbiAqL1xuY29uc3QgUHJvdGVjdGVkID0gW1xuXHRJbnRlcnNlY3Rpb25PYnNlcnZlcixcblx0QnJvYWRjYXN0Q2hhbm5lbCxcblx0Ly8gU3RyaW5nLCAvLyB3ZSBoYXZlIHRvIG1ha2UgYSBzcGVjaWFsIGVkZ2UgY2FzZSBmb3IgYFN0cmluZ2AgYXMgd2UgYXJlIGV4cGVjdGluZyBlZ2cgZ2FtZSB0byBleHRlbmQgaXQuIGllOiBTdHJpbmcucHJvdG90eXBlLihmb3JtYXQgfCBmKVxuXHRSZWdFeHAsIC8vIHBlcnNvbmFsbHksIGkgZG9udCBtb2RpZnkganMgZGVmYXVsdHMgdW5sZXNzIGkgaGF2ZSB0by4gZXNwZWljYWxseSB0byB3b3JrIGFyb3VuZCBqdXN0IGhhbmRsaW5nIG15IG93biBlcnJvcnMuXG5cdE9iamVjdCxcblx0UHJveHksXG5cdC8vIEFycmF5LCAvLyBhcHBhcmVudGx5LCBiYWJ5bG9uanMgaGFzIGRlZmF1bHQgZnVuY3Rpb25hbGl0eSB0aGF0IHJlcXVpcmVzIG92ZXJ3cml0aW5nIEFycmF5LnByb3RvdHlwZS5wdXNoIDpjYXRmYWxsOlxuXHRGdW5jdGlvbixcblx0TnVtYmVyLFxuXHRCb29sZWFuLFxuXHREYXRlLFxuXTtcbi8qKlxuICogVGhpcyBpcyBhIGxpc3Qgb2YgdGhpbmdzIEkgZG9udCBtaW5kIGV4dGVuc2lvbnMgYmVpbmcgYWRkZWQgdG8gaXRcbiAqIChtb3JlIGFjY3VyYXRlbHkgdGhhdCBJIGtub3cgaGFzIGV4dGVuc2lvbnMgaW5nYW1lLCBidXQgYWxzbyB0aGUgZ2FtZSBhdHRlbXB0cyB0byB0aHdhcnQgbW9kZGluZyB3aXRoKVxuICovXG5jb25zdCBQcm90ZWN0QWxsb3dFeHRlbnNpb24gPSBbU3RyaW5nXTtcblxuLyoqXG4gKiB0aGlzIGZyZWV6ZXMgYW4gb2JqZWN0OyBqdXN0IGFib3V0IHRoZSBzYWZlc3QgdGhpbmcgdGhhdCB3ZSBjYW4gZG8gaW4ganNcbiAqIFtkb2NzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvZnJlZXplKVxuICovXG5mdW5jdGlvbiBGcmVlemVPYmplY3Qob2JqOiBhbnkpIHtcblx0aWYgKG9iaj8ucHJvdG90eXBlKSB7XG5cdFx0T2JqZWN0LmZyZWV6ZShvYmoucHJvdG90eXBlKTtcblx0fVxuXHRPYmplY3QuZnJlZXplKG9iaik7XG59XG5cbi8qKlxuICogVGhpcyBpcyBvdXIgc3BlY2lhbCBjYXNlIHdoZXJlIHdlIGNoYW5nZSBhbGwgcHJvcGVydHkgZGVzY3JpcHRvcnMgdG8gZGlzIGFsbG93IG1vZGlmaWNhaXRvblxuICovXG5jb25zdCBQcm90ZWN0SW50ZXJuYWxzID0gKG9iajogYW55KSA9PiB7XG5cdGNvbnN0IGhhcmRlbmVkID0geyB3cml0YWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogZmFsc2UgfTtcblx0Zm9yIChjb25zdCBbcHJvcGVydHksIGRlc2NyaXB0b3JdIG9mIE9iamVjdC5lbnRyaWVzKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9iai5wcm90b3R5cGUpKSkge1xuXHRcdGlmICghZGVzY3JpcHRvci5jb25maWd1cmFibGUpIGNvbnRpbnVlO1xuXHRcdC8vIG5vdCAqZXhhY3RseSogcGVyZmVjdC4gYnV0IHdpbGwgZG8gZm9yIG5vd1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmoucHJvdG90eXBlLCBwcm9wZXJ0eSwgaGFyZGVuZWQpO1xuXHR9XG59O1xuZnVuY3Rpb24gUHJvdGVjdCgpIHtcblx0dHJ5IHtcblx0XHRQcm90ZWN0ZWQuZm9yRWFjaChGcmVlemVPYmplY3QpOyAvLyBmcmVlemUgdGhlc2Vcblx0XHRQcm90ZWN0QWxsb3dFeHRlbnNpb24uZm9yRWFjaChQcm90ZWN0SW50ZXJuYWxzKTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0aWYgKCEoZXJyIGluc3RhbmNlb2YgVHlwZUVycm9yKSkgdGhyb3cgZXJyOyAvLyBqdXN0IHBhc3MgdGhlIGVycm9yIGJhY2sgdG8gdGhlIGV4dGVuc2lvbiBsb2FkZXI7XG5cdFx0Y29uc29sZS5sb2coZXJyKTtcblx0XHR0aHJvdyBlcnI7XG5cdH1cbn1cbmxldCBpbml0aWFsTG9hZENvbmRpdGlvbiE6IGJvb2xlYW47XG5jb25zdCBkZXNjcmlwdGlvbiA9LyoqQHRyaW0gKi9gXG5Qcm90ZWN0cyB2YXJpb3VzIGpzIE9iamVjdCBwcm90b3R5cGVzLiAodXNlZnVsIHdoZW4gYXR0ZW1wdGluZyB0byBtaXRpZ2F0ZSBlZ2cgZ2FtZXMgdmFyaW91cyBhbnRpIG1vZGRpbmcgYXBwcm9hY2hlcylcblRoaXMgY291bGQgY2F1c2Ugc29tZSBpbmNvbXBhdGliaWxpdHkgd2l0aCBvdGhlciBtb2RzLiAoYXMgaXQgYXR0ZW1wdHMgdG8gcHJvdGVjdCBpbnRlcm5hbCB2YXJpYWJsZXMpXG5gLnRyaW0oKTtcbmV4cG9ydCBjb25zdCBFeHRlbnNpb24gPSBjcmVhdGVFeHRlbnNpb24oe1xuXHR1bmlxdWVJZGVudGlmaWVyOiBgR3JpZm1pbi1Qcm90ZWNgLFxuXHRkZWZhdWx0U2V0dGluZ3M6IHsgZW5hYmxlZDogdHJ1ZSB9LFxuXHRhdXRob3I6IFwiR3JpZm1pblwiLFxuXHRkZXNjcmlwdGlvbixcblx0dmVyc2lvbjogYDEuMGAsXG5cdG5hbWU6IFwiSW50ZXJuYWwgUHJvdGVjdGlvbnNcIixcblx0Y29uZmlnKCkge1xuXHRcdHJldHVybiBbeyB0eXBlOiBcIlRvZ2dsZVwiLCBsYWJlbDogXCJFbmFibGVcIiwgdmFsdWU6IHRoaXMuc2V0dGluZ3MuZW5hYmxlZCB9XTtcblx0fSxcblx0aW5pdCgpIHtcblx0XHRpbml0aWFsTG9hZENvbmRpdGlvbiA9IHRoaXMuc2V0dGluZ3MuZW5hYmxlZDtcblx0XHRpZiAoIXRoaXMuc2V0dGluZ3MuZW5hYmxlZCkgcmV0dXJuO1xuXHRcdFByb3RlY3QoKTtcblx0fSxcblx0b25PcHRpb25zQ2hhbmdlKHVwZGF0ZWRTdGF0ZSkge1xuXHRcdGlmICh1cGRhdGVkU3RhdGUudHlwZSAhPSBcIlRvZ2dsZVwiKSByZXR1cm4gZmFsc2U7IC8vIGVybSB3aGF0XG5cdFx0dGhpcy5zZXR0aW5ncy5lbmFibGVkID0gdXBkYXRlZFN0YXRlLnZhbHVlO1xuXHRcdC8qKkB0b2RvIChHcmlmKSAtIG5vdyB3ZSBuZWVkIGEgd2F5IHRvIHJlcXVlc3Qgd2luZG93IHJlZnJlc2gqL1xuXHRcdC8vIGRlYnVnV2FybihgJHt0aGlzLm5hbWV9IC0gd2luZG93IHJlZnJlc2ggcmVxdWVzdC4gLSBHcmlmIGZpeCB0aGlzIHlvdSBsYXp5IGJhc3RhcmQuYCk7XG5cdFx0Ly8gcmVmcmVzaCB3aW5kb3cgY29uZGl0aW9uIHNob3VsZCBqdXN0ICptYWdpY2FsbHkqIHdvcmsgbm93LiBcblx0XHRyZXR1cm4gdXBkYXRlZFN0YXRlLnZhbHVlO1xuXHR9LFxuXHRpc0VuYWJsZWQoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuc2V0dGluZ3MuZW5hYmxlZDtcblx0fSxcblx0cmVxdWVzdFJlZnJlc2goKSB7XG5cdFx0cmV0dXJuIGluaXRpYWxMb2FkQ29uZGl0aW9uICE9IHRoaXMuc2V0dGluZ3MuZW5hYmxlZDtcblx0fSxcbn0pO1xuIiwgIi8qKlxuICogVGhpcyBtb2R1bGUgaXMgaW50ZW5kZWQgdG8gYWxsb3cgZm9yIG90aGVyIG1vZHMgLyBleHRlbnNpb25zIHRvIGVhc2lseSBob29rIGludG8gYW5kIGFkZCB0aGVpciBvd24gdGhlbWVzIC8gY3NzIHN0dWZmIGR5bmFtaWNhbGx5LlxuICogSSBpbnRlbmQgb24gZG9pbmcgdGhpcyBldmVudCBiYXNlZCBzbyB0aGF0IG90aGVyIGV4dGVuc2lvbnMgY2FuIHNpbXBseSB3cml0ZSB0aGVpciBvd24gY3NzIGFuZCBkbyBzb21ldGhpbmcgZWFzeSBsaWtlIHRoaXNcbiAqIGBgYGpzXG4gKiBhZGRFdmVudExpc3RlbmVyKCdldmVudCBuYW1lIHRvIGJlIGRldGVybWluZWQnLCAoZXZlbnQpID0+IHtcbiAqIFx0XHRldmVudC5kZXRhaWwuYWRkQ1NTKGAvL2NzcyBnb2VzIGhlcmVgLCBcIm9wdGlvbmFsIHVuaXF1ZSBpZCAoZm9yIHRvZ2dsaW5nIC8gdXBkYXRpbmcgcHVycG9zZXMpXCIpO1xuICogfSlcbiAqIGBgYFxuICogQHRvZG8gKEdyaWYpIC0gZmluaXNoIHRoaXMgaWYgaSBldmVyIGdldCB0aGUgdGltZSAvIG5lcnZlXG4gKiBAYXV0aG9yIEdyaWZtaW5cbiAqL1xuaW1wb3J0IHsgV2FpdEZvckNvbmRpdGlvbiB9IGZyb20gXCIuL1V0aWxpdGllcy50c1wiO1xuXG5jb25zdCBzdHlsZURpdklkZW50aWZpZXIgPSBcIlRoZW1lTWFuYWdlci1kaXZcIjtcbmxldCBUaGVtZURpdiE6IEhUTUxEaXZFbGVtZW50O1xuXG5hc3luYyBmdW5jdGlvbiBnZXREaXYoKSB7XG5cdGlmIChUaGVtZURpdikgcmV0dXJuIFRoZW1lRGl2O1xuXHRhd2FpdCBXYWl0Rm9yQ29uZGl0aW9uKCgpID0+IGRvY3VtZW50LnJlYWR5U3RhdGUgPT0gXCJjb21wbGV0ZVwiKTtcblx0Y29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0ZGl2LmlkID0gc3R5bGVEaXZJZGVudGlmaWVyO1xuXHRkb2N1bWVudC5ib2R5LmFwcGVuZChkaXYpO1xuXHRUaGVtZURpdiA9IGRpdjtcblx0cmV0dXJuIFRoZW1lRGl2O1xufVxuXG4vKipcbiAqIFRoaXMgaXMganVzdCB0byBhc3Npc3Qgd2l0aCBtYW5hZ2luZyBpbnRlcm5hbCBjc3MgLyBzdHlsZXNcbiAqIEFsc28gbWFrZXMgaXQgcXVpdGUgZWFzeSB0byBkaXNhYmxlIHRoZSBzdHlsZXMgdmlhIGV4dGVybmFsIGV4dGVuc2lvbnMgKGlmIGFueW9uZSBhY3R1YWxseSBjYXJlZCB0byBkbyBzbylcbiAqXG4gKiBOb3QgZXhhY3RseSBteSBiZXN0IHdvcmssIGJ1dCBpdCB3aWxsIGRvIGZvciBub3dcbiAqL1xuZXhwb3J0IGNvbnN0IFRoZW1lTWFuYWdlcjogVGhlbWVNYW5hZ2VySW50ZXJmYWNlID0ge1xuXHR0aGVtZXM6IHt9LFxuXHRhZGRTdHlsZTogYXN5bmMgZnVuY3Rpb24gKHN0eWxlRWxlbWVudDogSFRNTFN0eWxlRWxlbWVudCB8IHN0cmluZywgaWRlbnRpZmllcj86IHN0cmluZyk6IFByb21pc2U8SFRNTFN0eWxlRWxlbWVudD4ge1xuXHRcdC8vIHN0eWxlRWxlbWVudC5pZCA9IGlkZW50aWZpZXI7IC8vIGp1c3QgaW5jYXNlIHNvbWUgc29tZW9uZSBkZWNpZGVzIHRvIGRvIHNvbWUgc2hlbmFuaWdhbnNcblx0XHRpZiAodHlwZW9mIHN0eWxlRWxlbWVudCA9PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRjb25zdCBjc3MgPSBzdHlsZUVsZW1lbnQ7XG5cdFx0XHRzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cdFx0XHRzdHlsZUVsZW1lbnQuaW5uZXJIVE1MID0gY3NzO1xuXHRcdFx0aWYgKGlkZW50aWZpZXIpIHN0eWxlRWxlbWVudC5pZCA9IGlkZW50aWZpZXI7XG5cdFx0fVxuXG5cdFx0aWYgKCFpZGVudGlmaWVyKSBpZGVudGlmaWVyID0gc3R5bGVFbGVtZW50LmlkO1xuXHRcdGlmIChkb2N1bWVudC5ib2R5KSB7XG5cdFx0XHRjb25zdCBUaGVtZURpdiA9IGF3YWl0IGdldERpdigpO1xuXHRcdFx0VGhlbWVEaXYuYXBwZW5kKHN0eWxlRWxlbWVudCk7XG5cdFx0XHR0aGlzLnRoZW1lc1tpZGVudGlmaWVyXSA9IHN0eWxlRWxlbWVudDtcblx0XHRcdHJldHVybiBzdHlsZUVsZW1lbnQ7XG5cdFx0fVxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG5cdFx0XHRcIkRPTUNvbnRlbnRMb2FkZWRcIixcblx0XHRcdCgpID0+IHtcblx0XHRcdFx0Z2V0RGl2KCkudGhlbigoVGhlbWVEaXYpID0+IHtcblx0XHRcdFx0XHRUaGVtZURpdi5hcHBlbmQoc3R5bGVFbGVtZW50KTtcblx0XHRcdFx0XHR0aGlzLnRoZW1lc1tpZGVudGlmaWVyXSA9IHN0eWxlRWxlbWVudDtcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0eyBvbmNlOiB0cnVlIH0sXG5cdFx0KTtcblx0XHRyZXR1cm4gc3R5bGVFbGVtZW50O1xuXHR9LFxufTtcblxuLy8gLyoqXG4vLyAgKiBUaGlzIGZ1bmN0aW9uIGlzIG5vdCBpbXBsZW1lbnRlZCBhcyBvZiB5ZXRcbi8vICAqL1xuLy8gZnVuY3Rpb24gYWRkQ1NTKGNzczogc3RyaW5nLCB1bmlxdWVJZD86IHN0cmluZykge1xuLy8gXHR0aHJvdyBuZXcgRXJyb3IoXCJGdW5jdGlvbiBub3QgaW1wbGVtZW50ZWRcIik7XG4vLyB9XG5cbi8vIGNvbnN0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwiW0ctVHdlYWtzIFRoZW1lTWFuYWdlcl1cIiwgeyBkZXRhaWw6IHsgYWRkQ1NTIH0gYXMgY29uc3QgfSk7XG5cbi8vIGFkZEV2ZW50TGlzdGVuZXIoXCJjdXN0b21cIiwgKGV2ZW50OiB0eXBlb2YgY3VzdG9tRXZlbnQpID0+IHtcbi8vIFx0Y29uc3QgeyBkZXRhaWwgfSA9IGV2ZW50O1xuLy8gXHRjb25zdCBleGFtcGxlQ3NzID0gLypjc3MqLyBgXG4vLyBcdC50ZXN0aW5nMTIzIHtcbi8vIFx0XHRjb2xvcjpyZ2IoMjU1LCAwLCAwKTtcbi8vIFx0fVxuLy8gXHRgLnRyaW0oKTtcbi8vIFx0ZGV0YWlsLmFkZENTUyhleGFtcGxlQ3NzLCBcInRlc3RpbmcgMTIzXCIpO1xuLy8gXHRyZXR1cm47XG4vLyB9KTtcblxuLy8gZGlzcGF0Y2hFdmVudChjdXN0b21FdmVudCk7XG5cbi8vIGV4cG9ydCBjb25zdCBFeHRlbnNpb24gPSBjcmVhdGVFeHRlbnNpb24oe1xuLy8gXHR1bmlxdWVJZGVudGlmaWVyOiBgVGhlbWVNYW5hZ2VyYCxcbi8vIFx0bmFtZTogXCJUaGVtZSBNYW5hZ2VyXCIsXG4vLyBcdGF1dGhvcjogXCJ0YmQgKGhvcGVmdWxseSBub3QgR3JpZilcIixcbi8vIFx0ZGVmYXVsdFNldHRpbmdzOiB7fSxcbi8vIFx0aW5pdCgpIHtcbi8vIFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGdW5jdGlvbiBub3QgaW1wbGVtZW50ZWQuXCIpO1xuLy8gXHR9LFxuLy8gfSk7XG5cbi8qKlRoaXMgaXMgdG8gZXh0ZW5kIHRoZSBDbGllbnQgaW5zdGFuY2UgKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGhlbWVNYW5hZ2VySW50ZXJmYWNlIHtcblx0LyoqQSBsaXN0IG9mIGFsbCBzdHlsZSAvIGNzcyAqL1xuXHR0aGVtZXM6IFJlY29yZDxzdHJpbmcsIEhUTUxTdHlsZUVsZW1lbnQ+O1xuXHRhZGRTdHlsZShzdHlsZUVsZW1lbnQ6IEhUTUxTdHlsZUVsZW1lbnQgfCBzdHJpbmcsIGlkZW50aWZpZXI/OiBzdHJpbmcpOiBQcm9taXNlPEhUTUxTdHlsZUVsZW1lbnQ+O1xufVxuIiwgIi8qIHRoaXMgaXMganVzdCBhIHNhZmV0eSBwcmVjYXV0aW9uLiBpdCBzaG91bGRudCBldmVyIGJlIHZpc2libGUsIGJ1dCBqdXN0IGluY2FzZSBpbSBnb2luZyB0byBlbnN1cmUgaXQgaXMgKi9cbi5maXJlYmFzZUlEIHtcblx0dmlzaWJpbGl0eTogaGlkZGVuICFpbXBvcnRhbnQ7XG5cdGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcblx0b3BhY2l0eTogMCAhaW1wb3J0YW50OyAvKiB0aGVzZSAzIHNob3VsZCBiZSBlbm91Z2ggZm9yIGl0IHRvIG5ldmVyIGJlIGFjY2lkZW50YWxseSByZXZlYWxlZCAqL1xufVxuIiwgIi8qKlxuICogVGhpcyBtb2R1bGUgaXMga2luZCBvZiBtZW50IHRvIGJlIHRoZSBwcmltYXJ5IHdheSBldmVyeXRoaW5nICpjYW4qIGNvbW11bmljYXRlIHRvZ2V0aGVyIGlzaC4gaWRrXG4gKiBIb3BlZnVsbHkgdGhpcyAqbW9zdGx5KiBzdGF5cyB0aGUgc2FtZSBpZiBub3QgKnNvbWV3aGF0KiBzdGFibGU/XG4gKiBAYXV0aG9yIEdyaWZtaW5cbiAqL1xuaW1wb3J0IHsgRXh0ZW5zaW9uIH0gZnJvbSBcIi4uL1wiO1xuaW1wb3J0IHsgVGhlbWVNYW5hZ2VyLCBUaGVtZU1hbmFnZXJJbnRlcmZhY2UgfSBmcm9tIFwiLi90aGVtZS5qc1wiO1xuaW1wb3J0IHsgY3NzLCBkZWJ1Z0Vycm9yLCBkZWJ1Z0luZm8sIGRlYnVnV2FybiB9IGZyb20gXCIuLi9sb2dnaW5nXCI7XG5pbXBvcnQgZGVmYXVsdGNzcyBmcm9tIFwiLi9kZWZhdWx0LmNzc1wiO1xuXG5jb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuZXhwb3J0IGxldCBDbGllbnQhOiBDbGllbnRJbnRlcmZhY2VCYXNlO1xuXG5mdW5jdGlvbiBnZXROZXdDbGllbnRJbnN0YW5jZSgpIHtcblx0Y29uc3QgQ2xpZW50SW5zdGFuY2U6IENsaWVudEludGVyZmFjZUJhc2UgPSB7XG5cdFx0dGhlbWVtYW5hZ2VyOiBUaGVtZU1hbmFnZXIsXG5cdFx0cmVhZHlTdGF0ZTogZmFsc2UsIC8vIGZhbHNlIHVudGlsIHdlIGFyZSBkb25lLlxuXHRcdGV4dGVuc2lvbnM6IFtdLFxuXHRcdGFkZEV4dGVuc2lvbihuZXdFeHRlbnNpb24pIHtcblx0XHRcdGlmIChcblx0XHRcdFx0dGhpcy5leHRlbnNpb25zLnNvbWUoXG5cdFx0XHRcdFx0KGV4aXN0aW5nRXh0ZW5zaW9uKSA9PiBleGlzdGluZ0V4dGVuc2lvbi51bmlxdWVJZGVudGlmaWVyID09IG5ld0V4dGVuc2lvbi51bmlxdWVJZGVudGlmaWVyXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHRcdFx0cmV0dXJuIGRlYnVnV2FybihgZHVwbGljYXRlIEV4dGVuc2lvbiAtICR7bmV3RXh0ZW5zaW9uLnVuaXF1ZUlkZW50aWZpZXJ9YCk7IC8vIGVybS4gd2UgZG9udCB3YW50IGR1cGxpY2F0ZXNcblx0XHRcdGlmICghbmV3RXh0ZW5zaW9uLmlkKSBuZXdFeHRlbnNpb24uaWQgPSB0aGlzLmV4dGVuc2lvbnMubGVuZ3RoO1xuXHRcdFx0dGhpcy5leHRlbnNpb25zLnB1c2gobmV3RXh0ZW5zaW9uKTtcblx0XHR9LFxuXHRcdGdldCBzdGFydFRpbWUoKSB7XG5cdFx0XHRyZXR1cm4gc3RhcnRUaW1lO1xuXHRcdH0sXG5cdH07XG5cdHJldHVybiBDbGllbnRJbnN0YW5jZTtcbn1cblxuZnVuY3Rpb24gYXR0ZW1wdENsaWVudERlZmluaXRpb24oKSB7XG5cdHRyeSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgXCJDbGllbnRcIiwge1xuXHRcdFx0Z2V0OiAoKSA9PiBDbGllbnQsXG5cdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHQvLyBeIGlsbCBwcm9iYWJseSBkaXNhYmxlIHRoaXMgYXQgc29tZXBvaW50LiBidXQgaWxsIGxlYXZlIGVuYWJsZWQgZm9yIGRlYnVnZ2luZ1xuXHRcdH0pO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRkZWJ1Z0Vycm9yKGBFcnJvciB3aGVuIGF0dGVtcHRpbmcgdG8gdXBkYXRlIENsaWVudCBkZWZpbml0aW9uc2AsIGVycik7XG5cdH1cbn1cbi8qKmFkZHMgc29tZSBkZWZhdWx0IGNzcyB0aGF0IGlzIHByb2JhYmx5IG5ldmVyIGEgYmFkIHRoaW5nIHRvIGFkZCAqL1xuZnVuY3Rpb24gYWRkRGVmYXVsdENzcygpIHtcblx0VGhlbWVNYW5hZ2VyLmFkZFN0eWxlKGRlZmF1bHRjc3MsICdkZWZhdWx0LWNzcycpO1xuXG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0Q2xpZW50KCkge1xuXHRpZiAoXCJDbGllbnRcIiBpbiB3aW5kb3cpIHtcblx0XHRjb25zdCBkZWZpbmVkID0gd2luZG93LkNsaWVudCBhcyBUT0RPOyAvLyBncmFiIGFuZCB1cGRhdGUgdGhlIGV4aXN0aW5nIG9uZSBpZiBvbmUgZXhpdHMuXG5cdFx0Y29uc3QgZmlsdGVyZWRFbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoZ2V0TmV3Q2xpZW50SW5zdGFuY2UoKSkuZmlsdGVyKChba2V5LCB2YWx1ZV0pID0+ICFkZWZpbmVkW2tleV0pO1xuXHRcdGNvbnN0IG5ld0luc3RhbmNlID0gT2JqZWN0LmZyb21FbnRyaWVzKGZpbHRlcmVkRW50cmllcyk7XG5cdFx0Q2xpZW50ID0gT2JqZWN0LmFzc2lnbihuZXdJbnN0YW5jZSwgd2luZG93LkNsaWVudCBhcyBhbnkpIGFzIENsaWVudEludGVyZmFjZUJhc2U7XG5cdFx0LyoqXG5cdFx0ICogVGhpcyB3YXkgKnNvbWV3aGF0KiBpbnN1cmVzIHRoYXQgb3VyIGBDbGllbnRgIGluc3RhbmNlIHdpbGwgaGF2ZSB0aGUgcHJvcGVyIGZpZWxkcy5cblx0XHQgKiBOb3cgYWN0dWFsbHkga25vd2luZyBpZiB0aGUgZmllbGRzIGFyZSB0aGUgY29ycmVjdCB0eXBlIGFuZCB2YWx1ZXMuLi4gOmJsb2JzaHJ1Zzpcblx0XHQgKiBCdXQgdGhpcyB3YXkgKmF0IGxlYXN0KiBpdCBwcm92aWRlcyAoaG9wZWZ1bGx5IHNvbWUpIGluc3VyYW5jZSBpbmNhc2Ugc29tZSBvdGhlclxuXHRcdCAqIG1vZCBkZXZlbG9wZXIgd2FudHMgdG8gaGF2ZSB0aGVpciBvd24gYENsaWVudGAgZGVmaW5pdGlvbihzKVxuXHRcdCAqL1xuXHRcdGNvbnN0IGVyciA9IG5ldyBFcnJvcihgQ2xpZW50IGFscmVhZHkgZXhpc3RzIG9uIHdpbmRvdyBvYmplY3QgYCwgeyBjYXVzZTogd2luZG93LkNsaWVudCB9KTtcblx0XHRhdHRlbXB0Q2xpZW50RGVmaW5pdGlvbigpO1xuXHRcdHJldHVybiBkZWJ1Z1dhcm4oYCVjRXJyb3I6YCwgY3NzLndhcm4sIGVycik7XG5cdH1cblx0Q2xpZW50ID0gZ2V0TmV3Q2xpZW50SW5zdGFuY2UoKTtcblx0Y29uc3QgVGltZVN0YW1wU3RyaW5nID0gbmV3IERhdGUoQ2xpZW50LnN0YXJ0VGltZSkudG9Mb2NhbGVTdHJpbmcoKTtcblx0ZGVidWdJbmZvKGBTdGFydHVwIHRpbWU6ICR7VGltZVN0YW1wU3RyaW5nfWApO1xuXHRhdHRlbXB0Q2xpZW50RGVmaW5pdGlvbigpO1xuXHRhZGREZWZhdWx0Q3NzKClcbn1cblxuaW50ZXJmYWNlIENsaWVudEludGVyZmFjZUJhc2Uge1xuXHR2dWU/OiBUT0RPOyAvL0NvbWJpbmVkVnVlSW5zdGFuY2U8YW55LCBvYmplY3QsIG9iamVjdCwgb2JqZWN0LCBSZWNvcmQ8bmV2ZXIsIGFueT4+XG5cdC8qKkFsbCBjdXJyZW50bHkgbG9hZGVkIGV4dGVuc2lvbnMgKi9cblx0ZXh0ZW5zaW9uczogRXh0ZW5zaW9uPGFueT5bXTtcblx0YWRkRXh0ZW5zaW9uPFQgZXh0ZW5kcyBFeHRlbnNpb248YW55Pj4oRXh0OiBUKTogdm9pZDtcblx0LyoqVGhlIHRpbWUgdGhlIGNsaWVudCBzdGFydGVkIChtYXliZSkgKi9cblx0c3RhcnRUaW1lOiBudW1iZXI7XG5cdC8vIHRoaXMgbGV0cyBvdGhlciBleHRlbnNpb25zIGtub3cgd2hlbiB0aGUgY2xpZW50IGlzIGZ1bGx5IHJlYWR5XG5cdHJlYWR5U3RhdGU6IGJvb2xlYW47XG5cdHRoZW1lbWFuYWdlcjogVGhlbWVNYW5hZ2VySW50ZXJmYWNlO1xufVxuIiwgIi8qXG5uZWF0IG5vdGVzIGkgZm91bmQ6IFxuMWVtID0gMS4zNzVlbSAocm91Z2hseSkgXG5BbHNvIGknZCBsaWtlIHRvIHNheSwgaSBwcmV0dHkgbXVjaCBnb3QgY2hhdGdwdCB0byBnZW5lcmF0ZSBhbGwgb2YgdGhpcyBjc3MgKGJlY2F1c2UgaSBoYXRlIGRlYWxpbmcgd2l0aCBjc3MpLlxuc28gYXQgc29tZXBvaW50LCBJIHdpbGwgbmVlZCB0byBnbyBiYWNrIHRocm91Z2ggYWxsIG9mIHRoaXMgd2l0aCBhIGZpbmUgY29tYiBhbmQgd29yayBvdXQgdGhlIGtpbmtzXG51c2luZyBgcHhgIEkga25vdyBpcyB2ZXJ5IGJhZCAoZXNwZWNpYWxseSBmb3IgY29uc2lzdGFuY3kpXG4qL1xuXG4ubW9kbWVudS1zY3JlZW4ge1xuXHRkaXNwbGF5OiBmbGV4O1xuXHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0bWluLWhlaWdodDogMTAwdmg7XG59XG5cbi5tb2QtbWVudS1yZWZyZXNoQnRuIHtcblx0YmFja2dyb3VuZC1jb2xvcjogb3JhbmdlO1xufVxuXG4ubW9kbWVudS1wYWdlLWNvbnRlbnQge1xuXHRoZWlnaHQ6IGNhbGMoMTAwdmggLSAxMGVtKTtcblx0d2lkdGg6IDEwMCU7XG5cdGJvcmRlcjogdmFyKC0tc3MtY29tbW9uLWJvcmRlci13aWR0aCkgc29saWQgdmFyKC0tc3MtYmx1ZTUpO1xuXHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zcy1ibHVlNikgIWltcG9ydGFudDtcblx0Ym9yZGVyLXJhZGl1czogLjkzNzVlbTtcblx0Ym94LXNoYWRvdzogMCAuNWVtIDEuNWVtIHJnYmEoMCwgMCwgMCwgMC40KTtcblx0cG9zaXRpb246IHJlbGF0aXZlO1xuXHQvKiBwYWRkaW5nOiAxLjI1ZW07ICovXG5cdG92ZXJmbG93OiBoaWRkZW47IC8qIG5vIGVzY2FwaW5nIG15IGJveCBwbGVhc2UgKi9cbn1cbi5tb2RtZW51LXRpdGxlIHtcblx0cG9zaXRpb246IGFic29sdXRlO1xuXHRyaWdodDogNTAlO1xufVxuXG4ubW9kbWVudS1oZWFkZXIge1xuICAgIHBhZGRpbmc6IC41ZW07XG4gICAgd2lkdGg6IDEwMCU7XG5cdGhlaWdodDogMjAlO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG5cbi5tb2Qtc2NyZWVuLWNvbnRlbnQge1xuXHRkaXNwbGF5OiBmbGV4O1xuXHRoZWlnaHQ6IDEwMCU7XG5cdG92ZXJmbG93OiBoaWRkZW47XG59XG5cbi8qIG1vZCBtZW51IGxpc3QgKi9cbi5tb2QtbGlzdCB7XG4gICAgZGlzcGxheTogZmxleDtcblx0ZmxleDogMCAwIDMwJTtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXHRtYXgtd2lkdGg6IDMwJTtcblx0b3ZlcmZsb3cteTogYXV0bztcblx0b3ZlcmZsb3cteDogaGlkZGVuO1xuXHRtYXgtaGVpZ2h0OiA4NSU7XG5cdGJvcmRlci1yYWRpdXM6IC41ZW07XG5cdGJveC1zaGFkb3c6IGluc2V0IDAgLS41ZW0gLjYyNWVtIC0uMzc1ZW0gcmdiYSgwLCAwLCAwLCAwLjQpO1xuICAgIGdhcDogLjI1ZW07XG4gICAgaGVpZ2h0OiA4MCU7XG4gICAgcGFkZGluZzogLjVlbTtcbn1cblxuLm1vZC1pdGVtIHtcblx0Ym9yZGVyLXJhZGl1czogLjYyNWVtO1xuXHRib3JkZXI6IHZhcigtLXNzLWNvbW1vbi1ib3JkZXItd2lkdGgpIHNvbGlkIHZhcigtLXNzLWJsdWU1KTtcblx0ZGlzcGxheTogZmxleDtcblx0cGFkZGluZzogLjMxMjVlbTtcblx0LyogdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjNzIGVhc2U7ICovXG59XG4ubW9kLWl0ZW0gLm1vZC1pY29uIHtcbiAgICBmbGV4LXNocmluazogMDtcbn1cblxuLm1vZC1pdGVtOm50aC1jaGlsZChvZGQpIHtcblx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc3MtYmx1ZTMpO1xufVxuXG4ubW9kLWl0ZW06bnRoLWNoaWxkKGV2ZW4pIHtcblx0YmFja2dyb3VuZC1jb2xvcjogIzc3Y2JlNjtcbn1cblxuLm1vZC1pY29uIHtcblx0d2lkdGg6IDZlbTtcblx0aGVpZ2h0OiA2ZW07XG5cdG1hcmdpbi1yaWdodDogLjVlbTtcblx0Ym9yZGVyLXJhZGl1czogLjVlbTtcbn1cblxuLm1vZC1pbmZvIC5uYW1lIHtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBmb250LXNpemU6IDEuMmVtO1xuICAgIGNvbG9yOiB3aGl0ZTtcbn1cblxuLm1vZC1pbmZvIC5hdXRob3Ige1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGZvbnQtc2l6ZTogMWVtO1xuICAgIG1hcmdpbi1ib3R0b206IC4zMTI1ZW07XG4gICAgY29sb3I6ICM5MjRlZmY7XG59XG5cbi5tb2QtaW5mbyB7XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgIG1heC13aWR0aDogMTAwJTtcbn1cblxuLm1vZC1kZXRhaWxzIHtcblx0ZGlzcGxheTogZmxleDtcblx0ZmxleDogMTtcblx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcblx0cGFkZGluZzogLjVlbTtcbiAgICBwYWRkaW5nLWJvdHRvbTogMS41ZW07IC8qIHRoaXMgaXMgdG8gcHJldmVudCB0aGUgZGVzY3JpcHRpb24gZnJvbSBvdmVyZmxvd2luZyAqL1xuXHRtYXgtaGVpZ2h0OiA4NSU7XG4gICAgaGVpZ2h0OiA4NSU7XG5cdG92ZXJmbG93OiBoaWRkZW47XG59XG5cbi5tb2Qtc2VsZWN0LWhlYWRlciB7XG5cdGRpc3BsYXk6IGZsZXg7XG5cdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdGdhcDogLjYyNWVtO1xuXHRwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5tb2QtZGVzYyB7XG5cdGZvbnQtc2l6ZTogMWVtO1xuXHRsaW5lLWhlaWdodDogMS40O1xuXHR3aGl0ZS1zcGFjZTogcHJlLWxpbmU7XG59XG5cbi5tb2QtY29uZmlnIHtcblx0bWFyZ2luLWJvdHRvbTogMWVtO1xufVxuXG4vKiB0aGlzIGlzIHNoYXJlZCBiZXR3ZWVuIHRoZSB0d28gKi9cbi5tb2QtY29uZmlnLCAubW9kLWRlc2Mge1xuXHQvKiBib3JkZXI6IHJlZCBzb2xpZDsgKi9cblx0Ym9yZGVyOiB2YXIoLS1zcy1jb21tb24tYm9yZGVyLXdpZHRoKSBzb2xpZCB2YXIoLS1zcy1ibHVlNSk7XG5cdGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNzLWJsdWUyKTtcblx0Ym9yZGVyLXJhZGl1czogLjI1ZW07XG5cdG1hcmdpbi10b3A6IC42MjVlbTtcblx0cGFkZGluZzogLjYyNWVtO1xuXHRvdmVyZmxvdy15OiBhdXRvO1xuXHRmbGV4OiAxO1xufVxuLyogdGhpcyBmaXhlcyB0aGUgbGFiZWxzIGJlaW5nIGRpZmZpY3VsdCB0byByZWFkIG9uIHRoZSBjb25maWcgcGFnZSAqL1xuLm1vZC1jb25maWcgbGFiZWwge1xuXHRmb250LXdlaWdodDogNjAwO1xuXHRkaXNwbGF5OiBmbGV4O1xuXHRmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7XG5cdGp1c3RpZnktY29udGVudDogbGVmdDtcbn1cblxuLm1vZC1jb25maWctYnV0dG9uIHtcblx0aGVpZ2h0OiAyLjEyNWVtO1xuXHR3aWR0aDogOWVtO1xuXHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0cmlnaHQ6IDBlbTtcblx0Ym90dG9tOiAwZW07XG59XG5cbi5jb250cm9scyBsYWJlbCB7XG5cdGRpc3BsYXk6IGJsb2NrO1xuXHRtYXJnaW46IC4zMTI1ZW0gMDtcbn1cblxuLyogUmVzcG9uc2l2ZSBhZGp1c3RtZW50cyAqL1xuQG1lZGlhIChtYXgtd2lkdGg6IDM3LjVlbSkge1xuXHQubW9kbWVudS1wYWdlLWNvbnRlbnQge1xuXHRcdG1heC13aWR0aDogOTUlO1xuXHRcdHBhZGRpbmc6IC42MjVlbTtcblx0fVxuXG5cdC5tb2QtaXRlbSB7XG5cdFx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcblx0XHRhbGlnbi1pdGVtczogc3RyZXRjaDtcblx0fVxuXG5cdC5tb2QtaWNvbiB7XG5cdFx0YWxpZ24tc2VsZjogY2VudGVyO1xuXHRcdG1hcmdpbi1ib3R0b206IC42MjVlbTtcblx0XHRtYXJnaW4tcmlnaHQ6IDA7XG5cdH1cbn1cbiIsICI8ZGl2IHYtaWY9XCJzaG91bGREaXNwbGF5XCIgY2xhc3M9XCJtb2RtZW51LXNjcmVlblwiPlxuXHQ8ZGl2IGNsYXNzPVwic2lkZWJhciBtb2RtZW51LXBhZ2UtY29udGVudCByb3VuZG1lX3NtIHNzX21hcmdpbnJpZ2h0IGJnX2JsdWU2IGNvbW1vbi1ib3gtc2hhZG93XCI+XG5cdFx0PGRpdiBjbGFzcz1cIm1vZG1lbnUtaGVhZGVyIGJnX2JsdWUzXCI+XG5cdFx0XHQ8aGVhZGVyIGNsYXNzPVwiZl9yb3cgYWxpZ24taXRlbXMtY2VudGVyIG1vZG1lbnUtdGl0bGVcIj5cblx0XHRcdFx0PHNlY3Rpb24+XG5cdFx0XHRcdFx0PGgxIGNsYXNzPVwidGV4dC1zaGFkb3ctYmxhY2stNDAgdGV4dF93aGl0ZSBub3NwYWNlXCI+TW9kczwvaDE+XG5cdFx0XHRcdFx0PGgyIHYtc2hvdz1cInJlZnJlc2hSZXF1ZXN0ZWRcIiBjbGFzcz1cIm1vZC1tZW51LXJlZnJlc2hCdG4gc3NfYnV0dG9uXCIgQGNsaWNrPVwibG9jYXRpb24ucmVsb2FkKClcIj5SZWZyZXNoIFJlcXVlc3Q8L2gyPlxuXHRcdFx0XHQ8L3NlY3Rpb24+XG5cdFx0XHQ8L2hlYWRlcj5cblx0XHRcdDxhc2lkZSBjbGFzcz1cIidqdXN0aWZ5LXNlbGYtZW5kIHRleHQtcmlnaHRcIj57eyBtb2RzLmxlbmd0aCB9fSBtb2RzPC9hc2lkZT5cblx0XHRcdDxpbnB1dCB2LW1vZGVsPVwic2VhcmNoXCIgcGxhY2Vob2xkZXI9XCJTZWFyY2ggTW9kcy4uLlwiIGNsYXNzPVwibW9kLW1lbnVzZWFyY2ggc3NfZmllbGRcIiAvPlxuXHRcdDwvZGl2PlxuXHRcdDxkaXYgY2xhc3M9XCJtb2Qtc2NyZWVuLWNvbnRlbnRcIj5cblx0XHRcdDxkaXYgIGNsYXNzPVwibW9kLWxpc3RcIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cIm1vZC1pdGVtXCIgdi1mb3I9XCIobW9kLCBpKSBpbiBmaWx0ZXJlZE1vZHNcIiA6a2V5PVwiaVwiIEBjbGljaz1cInNlbGVjdE1vZChtb2QpXCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1vZC1pY29uXCJcblx0XHRcdFx0XHRcdDpzdHlsZT1cInsgYmFja2dyb3VuZEltYWdlOiBtb2QuaWNvblVybCA/IG1vZC5pY29uVXJsIDogYmFja3VwVVJMLCBiYWNrZ3JvdW5kU2l6ZTogJ2NvdmVyJyB9XCJcblx0XHRcdFx0XHRcdGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG5cdFx0XHRcdFx0PjwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtb2QtaW5mb1wiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm5hbWVcIj57eyBtb2QubmFtZSB9fTwvZGl2PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImF1dGhvclwiPnt7IG1vZC5hdXRob3IgfX08L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHRcdDxkaXYgY2xhc3M9XCJtb2QtZGV0YWlsc1wiIHYtaWY9XCJzZWxlY3RlZE1vZFwiPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kLW1ldGFcIj5cblx0XHRcdFx0XHQ8aGVhZGVyIGNsYXNzPVwibW9kLXNlbGVjdC1oZWFkZXJcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtb2QtaWNvblwiIFxuXHRcdFx0XHRcdFx0XHQ6c3R5bGU9XCJ7IGJhY2tncm91bmRJbWFnZTogc2VsZWN0ZWRNb2QuaWNvblVybCA/IHNlbGVjdGVkTW9kLmljb25VcmwgOiBiYWNrdXBVUkwgLCBiYWNrZ3JvdW5kU2l6ZTogJ2NvdmVyJyB9XCJcblx0XHRcdFx0XHRcdFx0YXJpYS1oaWRkZW49XCJ0cnVlXCJcblx0XHRcdFx0XHRcdD48L2Rpdj5cblx0XHRcdFx0XHRcdDxkaXY+XG5cdFx0XHRcdFx0XHRcdDxoMz4ge3sgc2VsZWN0ZWRNb2QubmFtZSB9fTwvaDM+XG5cdFx0XHRcdFx0XHRcdDxwPlxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiYXV0aG9yLXRleHRcIj5BdXRob3I6IDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImF1dGhvclwiPnt7c2VsZWN0ZWRNb2QuYXV0aG9yfX08L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0XHRcdFx0PHAgdi1pZj1cInNlbGVjdGVkTW9kLnZlcnNpb25cIj5WZXJzaW9uOiB7eyBzZWxlY3RlZE1vZC52ZXJzaW9ufX08L3A+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDxhc2lkZT5cblx0XHRcdFx0XHRcdFx0PGJ1dHRvbiB2LWlmPVwic2VsZWN0ZWRNb2QuY29uZmlnXCIgY2xhc3M9XCJtb2QtY29uZmlnLWJ1dHRvbiBzc19idXR0b25cIiBAY2xpY2s9XCJjb25maWd1cmF0aW9uU2VsZWN0ZWQoKVwiID4ge3sgY29uZmlnQnV0dG9uVGV4dCB9fSA8L2J1dHRvbj5cblx0XHRcdFx0XHRcdDwvYXNpZGU+XG5cdFx0XHRcdFx0PC9oZWFkZXI+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8cCB2LWlmPVwiZGVzY2lwdGlvblNjcmVlblwiIGNsYXNzPVwibW9kLWRlc2NcIj57eyBzZWxlY3RlZE1vZC5kZXNjcmlwdGlvbiB9fTwvcD5cblx0XHRcdFx0PGRpdiB2LWlmPVwiIWRlc2NpcHRpb25TY3JlZW5cIiBjbGFzcz1cIm1vZC1jb25maWdcIj5cblx0XHRcdFx0XHQ8ZGl2IHYtZm9yPVwiKG9wdGlvbiwgaWR4KSBpbiBzZWxlY3RlZE1vZC5jb25maWcoKVwiIDprZXk9XCJpZHhcIj5cblx0XHRcdFx0XHRcdDxsYWJlbD5cblx0XHRcdFx0XHRcdFx0e3tvcHRpb24ubGFiZWwgPz8gXCJEZWZhdWx0IE9wdGlvbihzKVwifX1cblx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIHYtaWY9XCJvcHRpb24udHlwZSA9PSAnVG9nZ2xlJ1wiIHYtbW9kZWw9XCJvcHRpb24udmFsdWVcIiBAY2hhbmdlPVwib25PcHRpb25zQ2hhbmdlKG9wdGlvbiwgaWR4KVwiPlxuXHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInJhbmdlXCIgdi1pZj1cIm9wdGlvbi50eXBlID09ICdTbGlkZXInXCIgdi1tb2RlbC5udW1iZXI9XCJvcHRpb24udmFsdWVcIiA6bWluPVwib3B0aW9uLm1pblwiIDptYXg9XCJvcHRpb24ubWF4XCIgQGNoYW5nZT1cIm9uT3B0aW9uc0NoYW5nZShvcHRpb24sIGlkeClcIj5cblx0XHRcdFx0XHRcdFx0PCEtLSA8aW5wdXQgdHlwZT1cInRleHRcIiB2LWlmPVwib3B0aW9uLnR5cGUgPT0gJ0lucHV0J1wiIC4uLj4gLS0+XG5cdFx0XHRcdFx0XHRcdDwhLS0gdG9kbzogaW1wbGVtZW50IGlucHV0IGJveCArIGFkZCBpbiBzbGlkZXIgaW5jcmVtZW50IC0tPlxuXHRcdFx0XHRcdFx0PC9sYWJlbD5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHQ8L2Rpdj5cblx0PC9kaXY+XG48L2Rpdj5cbiIsICIvKipcbiAqIFRoaXMgbW9kdWxlIGlzIHRvIGJ1aWxkIGFuZCBoYW5kbGUgdGhlIFVJIGNvbXBvbmVudHMgb2YgdGhlIGBNb2QgTWVudWBcbiAqIFRoaXMgaXMgYWxsIHByb2JhYmx5IHN1YmplY3QgdG8gY2hhbmdlIGF0IGFueSBwb2ludFxuICogQGF1dGhvciBHcmlmbWluXG4gKi9cbmltcG9ydCB7IEV4dGVuc2lvbkluc3RhbmNlLCBjcmVhdGVFeHRlbnNpb24gfSBmcm9tIFwiLi4vXCI7XG5pbXBvcnQgeyBDbGllbnQgfSBmcm9tIFwiLi4vQ2xpZW50XCI7XG5pbXBvcnQgeyBXYWl0Rm9yQ29uZGl0aW9uIH0gZnJvbSBcIi4uL0NsaWVudC9VdGlsaXRpZXNcIjtcbmltcG9ydCB7IGRlYnVnRGVidWcsIGRlYnVnRXJyb3IsIGRlYnVnSW5mbyB9IGZyb20gXCIuLi9sb2dnaW5nXCI7XG5pbXBvcnQgQ1NTIGZyb20gXCIuL21vZG1lbnUuY3NzXCI7XG4vLyBpbXBvcnQgbW9kbWVudV9pdGVtX3RlbXBsYXRlIGZyb20gXCIuL21vZG1lbnVfaXRlbV90ZW1wbGF0ZS5odG1sXCI7XG5pbXBvcnQgbW9kbWVudV9zY3JlZW5fdGVtcGxhdGUgZnJvbSBcIi4vbW9kbWVudV9zY3JlZW5fdGVtcGxhdGUuaHRtbFwiO1xuXG5jb25zdCBtb2RNZW51U2NyZWVuSW5kZXggPSA1OyAvLyB0aGUgc2NyZWVuIGluZGV4XG5jb25zdCBNb2RNZW51TmFtZSA9IFwiTW9kIE1lbnVcIjtcblxuLyoqVGhpcyBpcyB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBtYWluIHZ1ZUFwcCBvZiBlZ2cgZ2FtZS4gICovXG5mdW5jdGlvbiBzd2l0Y2hUb01vZE1lbnVVaSh0aGlzOiB2dWVBcHBDb250ZXh0KSB7XG5cdHRoaXMuc2hvd1NjcmVlbiA9IHRoaXMuc2NyZWVucy5tb2RtZW51O1xuXHR0aGlzLiRyZWZzLmVxdWlwU2NyZWVuLnJlbW92ZUtleWJvYXJkU3RhbXBQb3NpdGlvbkhhbmRsZXJzKCk7XG5cdHRoaXMuZXF1aXAuZGlzcGxheUFkSGVhZGVyUmVmcmVzaCA9IHRydWU7XG5cdHRoaXMuaGlkZUdhbWVNZW51KCk7XG5cdEJBV0sucGxheShcInVpX3RvZ2dsZXRhYlwiKTtcblx0dGhpcy5nYW1lVWlSZW1vdmVDbGFzc0Zvck5vU2Nyb2xsKCk7XG5cdGV4dGVybi5yZXNldFBhcGVyRG9sbCgpO1xufVxuXG4vKipUaGlzIGZ1bmN0aW9uIGNvbmRpdGlvbmFsbHkgdXBkYXRlcyB0aGUgdnVlQXBwIGlmIG5lZWRlZCAqL1xuZnVuY3Rpb24gdXBkYXRlVnVlQXBwKCkge1xuXHQvLyB0aGlzIGlzIHdoZXJlIGkgdXBkYXRlIHRoZSB2dWVEYXRhIHRvIGluc2VydCBteSBvd24gc2NyZWVuLlxuXHRpZiAodnVlRGF0YS5zY3JlZW5zLm1vZG1lbnUpIHJldHVybjtcblxuXHRPYmplY3QuYXNzaWduKHZ1ZUFwcCwgeyBzd2l0Y2hUb01vZE1lbnVVaSB9KTtcblx0dnVlRGF0YS5zY3JlZW5zLm1vZG1lbnUgPSBtb2RNZW51U2NyZWVuSW5kZXg7IC8vIGFkZCBhbiBleHRyYSBtZW51IHVpIHRvIHRoaXNcblx0T2JqZWN0LmFzc2lnbih2dWVEYXRhLmxvYywgeyBtb2RtZW51X3RpdGxlX3NjcmVlbjogXCJtb2QgbWVudVwiIH0pO1xuXHR2dWVEYXRhLnVpLm1haW5NZW51LnB1c2goe1xuXHRcdGxvY0tleTogXCJtb2RtZW51X3RpdGxlX3NjcmVlblwiLFxuXHRcdGljb246IFwiaWNvLXNldHRpbmdzXCIsXG5cdFx0c2NyZWVuOiA1LFxuXHRcdG1vZGU6IFtdLFxuXHRcdGhpZGVPbjogW10sXG5cdH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBXYWl0VW50aWxTZXR1cCgpIHtcblx0ZnVuY3Rpb24gaXNSZWFkeSgpOiBib29sZWFuIHtcblx0XHRpZiAoIShcInZ1ZUFwcFwiIGluIHdpbmRvdykgfHwgIShcIlZ1ZVwiIGluIHdpbmRvdykpIHJldHVybiBmYWxzZTtcblx0XHRyZXR1cm4gW1Z1ZSwgQ2xpZW50LnJlYWR5U3RhdGUsIHZ1ZUFwcF0uZXZlcnkoKHZhbHVlKSA9PiB2YWx1ZSk7XG5cdH1cblx0YXdhaXQgV2FpdEZvckNvbmRpdGlvbihpc1JlYWR5KS5jYXRjaCgocmVhc29uKSA9PiBkZWJ1Z0Vycm9yKGBNb2RNZW51IGlzUmVhZHkgLSAke3JlYXNvbn1gKSk7XG5cdGlmIChDbGllbnQudnVlKSByZXR1cm4gZGVidWdJbmZvKGBJdCBzZWVtcyB0aGUgTW9kIE1lbnUgVnVlIGluc3RhbmNlIGlzIGFscmVhZHkgbW91bnRlZC4gYCk7XG5cdC8vIGNvbnN0IGNzc0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYHN0eWxlYCk7XG5cdC8vIGNzc0Rpdi5pZCA9IGBtb2RtZW51LWNzc2A7XG5cdC8vIGNzc0Rpdi5pbm5lckhUTUwgPSBDU1M7XG5cdENsaWVudC50aGVtZW1hbmFnZXIuYWRkU3R5bGUoQ1NTLCBcIm1vZG1lbnUtY3NzXCIpO1xuXHQvLyBkb2N1bWVudC5ib2R5LmFwcGVuZChjc3NEaXYpO1xuXHQvLyBkZWJ1Z0luZm8oYFN0YXJ0aW5nIG1vZG1lbnUgdjIgc2V0dXBgKTtcblxuXHQvLyBjb25zdCBNb2RNZW51SXRlbSA9IFZ1ZS5leHRlbmQoe1xuXHQvLyBcdHRlbXBsYXRlOiBtb2RtZW51X2l0ZW1fdGVtcGxhdGUsXG5cdC8vIFx0cHJvcHM6IHtcblx0Ly8gXHRcdG1vZDogeyB0eXBlOiBPYmplY3QgYXMgKCkgPT4gRXh0ZW5zaW9uPGFueT4sIHJlcXVpcmVkOiB0cnVlIH0sXG5cdC8vIFx0fSxcblx0Ly8gXHRkYXRhKCkge1xuXHQvLyBcdFx0bGV0IGlzRW5hYmxlZCA9IHRoaXMubW9kLnByb2Nlc3NlZDtcblx0Ly8gXHRcdC8vIGRlYnVnSW5mbyhgJHt0aGlzLm1vZC5uYW1lfTogbG9hZGVkYCwge2lzRW5hYmxlZH0pXG5cdC8vIFx0XHRpZiAoXCJpc0VuYWJsZWRcIiBpbiB0aGlzLm1vZCkge1xuXHQvLyBcdFx0XHRpc0VuYWJsZWQgPSAodGhpcy5tb2QgYXMgeyBpc0VuYWJsZWQ6IEZ1bmN0aW9uIH0pLmlzRW5hYmxlZCgpO1xuXHQvLyBcdFx0XHQvLyBkZWJ1Z0luZm8oYCR7dGhpcy5tb2QubmFtZX06IGlzRW5hYmxlZCgpIGFmdGVyOmAsIHtpc0VuYWJsZWR9KVxuXHQvLyBcdFx0fVxuXHQvLyBcdFx0cmV0dXJuIHsgaXNFbmFibGVkIH07XG5cdC8vIFx0XHQvLyByZXR1cm4geyBpc0VuYWJsZWQ6ICEhdGhpcy5tb2QubG9hZGVkIH07XG5cdC8vIFx0fSxcblx0Ly8gXHRtZXRob2RzOiB7XG5cdC8vIFx0XHRvblRvZ2dsZUNoYW5nZSgpIHtcblx0Ly8gXHRcdFx0aWYgKHR5cGVvZiB0aGlzLm1vZC50b2dnbGUgPT0gXCJmdW5jdGlvblwiKSB7XG5cdC8vIFx0XHRcdFx0dHJ5IHtcblx0Ly8gXHRcdFx0XHRcdC8vIHRoaXMubW9kLnRvZ2dsZSh0aClcblx0Ly8gXHRcdFx0XHRcdCh0aGlzLm1vZCBhcyB7IHRvZ2dsZTogRnVuY3Rpb24gfSkudG9nZ2xlKHRoaXMuaXNFbmFibGVkKTtcblx0Ly8gXHRcdFx0XHRcdHRoaXMuJGVtaXQoXCJ0b2dnbGVcIiwgdGhpcy5pc0VuYWJsZWQpO1xuXHQvLyBcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0Ly8gXHRcdFx0XHRcdGRlYnVnRXJyb3IoYEVycm9yIG9uIHRvZ2dsZSBvZiAke3RoaXMubW9kLnVuaXF1ZUlkZW50aWZpZXJ9YCwgZSk7XG5cdC8vIFx0XHRcdFx0fVxuXHQvLyBcdFx0XHR9XG5cdC8vIFx0XHR9LFxuXHQvLyBcdH0sXG5cdC8vIH0pO1xuXG5cdGNvbnN0IE1vZE1lbnVTY3JlZW4gPSBWdWUuZXh0ZW5kKHtcblx0XHR0ZW1wbGF0ZTogbW9kbWVudV9zY3JlZW5fdGVtcGxhdGUsXG5cdFx0Ly8gY29tcG9uZW50czogeyBcIm1vZC1pdGVtXCI6IE1vZE1lbnVJdGVtIH0sXG5cdFx0ZGF0YSgpIHtcblx0XHRcdGNvbnN0IGV4dGVuc2lvbnMgPSAod2luZG93IGFzIGFueSk/LkNsaWVudC5leHRlbnNpb25zIGFzIEV4dGVuc2lvbkluc3RhbmNlPGFueSwgYW55PltdIHwgW107XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRiYWNrdXBVUkw6IGB1cmwoJ2h0dHBzOi8vd3d3LnN2Z3JlcG8uY29tL3Nob3cvNDU0MjA5L2dlYXItcGxheWVyLW11bHRpbWVkaWEuc3ZnJylgLFxuXHRcdFx0XHRzZWFyY2g6IFwiXCIsXG5cdFx0XHRcdHNlbGVjdGVkTW9kOiBleHRlbnNpb25zLmZpbmQoKGV4dCkgPT4gZXh0Lm5hbWUgPT0gTW9kTWVudU5hbWUpLFxuXHRcdFx0XHRjb25maWd1cmF0aW9uOiBmYWxzZSxcblx0XHRcdFx0bW9kczogZXh0ZW5zaW9ucyxcblx0XHRcdFx0cmVmcmVzaERldGVjdGVkOiAoKSA9PiB7XG5cdFx0XHRcdFx0ZnVuY3Rpb24gTW9kUmVxdWVzdGVkUmVmcmVzaChtb2Q6IEV4dGVuc2lvbkluc3RhbmNlPGFueSwgYW55Pik6IGJvb2xlYW4ge1xuXHRcdFx0XHRcdFx0aWYgKG1vZC5yZXF1ZXN0UmVmcmVzaCAmJiBtb2QucmVxdWVzdFJlZnJlc2goKSkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gdGhlb3JldGljYWxseSB0aGlzICpzaG91bGQqIHdvcmsuIGJ1dCBpdCBkb2VzbnQuIChiaWcgc2FkZ2UpXG5cdFx0XHRcdFx0cmV0dXJuIGV4dGVuc2lvbnMuc29tZShNb2RSZXF1ZXN0ZWRSZWZyZXNoKTtcblx0XHRcdFx0fSxcblx0XHRcdH07XG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBGb3IgdGhvc2Ugd2hvIGFyZSBqdXN0IGxpa2UgbWUsIGFuZCBoYXZlIGxlZ2l0aW1hdGVseSBuZXZlciB1c2VkIFZ1ZWpzIGJlZm9yZSAob3Igc2VlbiBpdClcblx0XHQgKiB0aGUgYGNvbXB1dGVkYCBmdW5jdGlvbnMgYWN0IGxpa2UgYXR0cmlidXRlcy5cblx0XHQgKiB1bnN1cmUgZXhhY3RseSBob3cgaXQgd29ya3MgYnV0IGVoaC4gZ3Vlc3MgdGhleSBhcmUgY2xvc2VyIHRvIGdldHRlciBmdW5jdGlvbnMgdGhhbiBhY3R1YWwgZnVuY3Rpb25zXG5cdFx0ICovXG5cdFx0Y29tcHV0ZWQ6IHtcblx0XHRcdC8qKkB0b2RvICovXG5cdFx0XHRyZWZyZXNoUmVxdWVzdGVkKCk6IGJvb2xlYW4ge1xuXHRcdFx0XHQvLyBmdW5jdGlvbiBNb2RSZXF1ZXN0ZWRSZWZyZXNoKG1vZDogRXh0ZW5zaW9uSW5zdGFuY2U8YW55LCBhbnk+KTogYm9vbGVhbiB7XG5cdFx0XHRcdC8vIFx0aWYgKG1vZC5yZXF1ZXN0UmVmcmVzaCAmJiBtb2QucmVxdWVzdFJlZnJlc2goKSkge1xuXHRcdFx0XHQvLyBcdFx0cmV0dXJuIHRydWVcblx0XHRcdFx0Ly8gXHR9XG5cdFx0XHRcdC8vIFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHQvLyB9XG5cdFx0XHRcdC8vIC8vIHRoZW9yZXRpY2FsbHkgdGhpcyAqc2hvdWxkKiB3b3JrLiBidXQgaXQgZG9lc250LiAoYmlnIHNhZGdlKVxuXHRcdFx0XHQvLyByZXR1cm4gdGhpcy5tb2RzLnNvbWUoTW9kUmVxdWVzdGVkUmVmcmVzaCk7XG5cdFx0XHRcdHJldHVybiB0aGlzLnJlZnJlc2hEZXRlY3RlZCgpO1xuXHRcdFx0fSxcblx0XHRcdC8qKnRoaXMgaXMgdG8gbGV0IGl0IGtub3cgd2hlbiBpdCBzaG91bGQgYmUgZGlzcGxheWVkICovXG5cdFx0XHRzaG91bGREaXNwbGF5KCk6IGJvb2xlYW4ge1xuXHRcdFx0XHRyZXR1cm4gdnVlQXBwLnNob3dTY3JlZW4gPT0gbW9kTWVudVNjcmVlbkluZGV4O1xuXHRcdFx0fSxcblx0XHRcdC8qKlRoaXMgbGV0cyBpdCBrbm93IGlmIGl0IHNob3VsZCBzaG93IHRoZSBkZXNjcmlwdGlvbiBvciBjb25maWd1cmF0aW9uIHNjcmVlbiAqL1xuXHRcdFx0ZGVzY2lwdGlvblNjcmVlbigpOiBib29sZWFuIHtcblx0XHRcdFx0cmV0dXJuICF0aGlzLmNvbmZpZ3VyYXRpb247XG5cdFx0XHR9LFxuXHRcdFx0LyoqVGhpcyBjb21wdXRlcyB3aGF0IHRoZSBjb25maWdCdXR0b24gdGV4dCBpcyAqL1xuXHRcdFx0Y29uZmlnQnV0dG9uVGV4dCgpOiBcIkRlc2NyaXB0aW9uXCIgfCBcIkNvbmZpZ3VyYXRpb25cIiB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmNvbmZpZ3VyYXRpb24gPyBcIkRlc2NyaXB0aW9uXCIgOiBcIkNvbmZpZ3VyYXRpb25cIjtcblx0XHRcdH0sXG5cdFx0XHQvKipUaGlzIGdpdmVzIGJhY2sgdGhlIEV4dGVuc2lvbnMgKGZpbHRlcmVkIGJ5IHNlYXJjaCBpbnB1dCkgKi9cblx0XHRcdGZpbHRlcmVkTW9kcygpOiBFeHRlbnNpb25JbnN0YW5jZTxhbnksIGFueT5bXSB7XG5cdFx0XHRcdGNvbnN0IGlucHV0ID0gdGhpcy5zZWFyY2gudG9Mb3dlckNhc2UoKSA/PyBcIlwiO1xuXHRcdFx0XHQvLyBpZiAoIWlucHV0KSByZXR1cm4gdGhpcy5tb2RzO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5tb2RzLmZpbHRlcigobW9kKSA9PiBtb2QubmFtZT8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhpbnB1dCkpO1xuXHRcdFx0fSxcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIE1ldGhvZHMgYWxsb3cgZm9yIHRoZSBjb25maWd1cmF0aW9uIGFuZCBtdXRhdGlvbiBvZiB0aGUgaW50ZXJuYWwgY29tcG9uZW50c1xuXHRcdCAqL1xuXHRcdG1ldGhvZHM6IHtcblx0XHRcdHNlbGVjdE1vZChtb2Q6IEV4dGVuc2lvbkluc3RhbmNlPGFueSwgYW55Pik6IHZvaWQge1xuXHRcdFx0XHR0aGlzLnNlbGVjdGVkTW9kID0gbW9kO1xuXHRcdFx0XHRtb2QuZGVzY3JpcHRpb24gPSBtb2QuZGVzY3JpcHRpb24/LnRyaW0oKTsgLy8gaSBrZWVwIGZvcmdldHRpbmcgdG8gdHJpbSBzb21lIG9mIG15IGRlc2NyaXB0aW9ucy5cblx0XHRcdFx0dGhpcy5jb25maWd1cmF0aW9uID0gZmFsc2U7IC8vIHJlc2V0IGJhY2sgdG8gZGVzY2lwdGlvbiBzY3JlZW4uXG5cdFx0XHR9LFxuXHRcdFx0Y29uZmlndXJhdGlvblNlbGVjdGVkKCk6IHZvaWQge1xuXHRcdFx0XHR0aGlzLmNvbmZpZ3VyYXRpb24gPSAhdGhpcy5jb25maWd1cmF0aW9uO1xuXHRcdFx0fSxcblx0XHRcdG9uU2xpZGVyKHNsaWRlcjogVE9ETywgaWR4OiBudW1iZXIpOiB2b2lkIHtcblx0XHRcdFx0ZGVidWdJbmZvKGBvblRvZ2dsZWAsIHsgc2xpZGVyLCBpZHggfSk7XG5cdFx0XHR9LFxuXHRcdFx0b25PcHRpb25zQ2hhbmdlKG9wdGlvbjogVE9ETywgaWR4OiBudW1iZXIpOiB2b2lkIHtcblx0XHRcdFx0aWYgKCEodGhpcy5zZWxlY3RlZE1vZCAmJiB0aGlzLnNlbGVjdGVkTW9kLm9uT3B0aW9uc0NoYW5nZSkpIHJldHVybjtcblx0XHRcdFx0dGhpcy5zZWxlY3RlZE1vZC5vbk9wdGlvbnNDaGFuZ2Uob3B0aW9uKTtcblx0XHRcdH0sXG5cdFx0fSxcblx0fSk7XG5cdGNvbnN0IG1haW5TY3JlZW5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluU2NyZWVuc1wiKTtcblx0Y29uc3QgbW9kbWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJtb2RtZW51LXJvb3RcIik7XG5cdG1vZG1lbnUuaWQgPSBcIiNtb2RtZW51LXJvb3RcIjtcblx0aWYgKG1haW5TY3JlZW5zKSBtYWluU2NyZWVucy5hcHBlbmRDaGlsZChtb2RtZW51KTtcblxuXHR1cGRhdGVWdWVBcHAoKTtcblx0Ly8gbW91bnQgaXRcblx0Y29uc3QgTW9kTWVudVZ1ZSA9IG5ldyBWdWUoeyByZW5kZXI6IChoKSA9PiBoKE1vZE1lbnVTY3JlZW4pIH0pLiRtb3VudChtb2RtZW51KTtcblx0VnVlLm1peGluKHtcblx0XHRjcmVhdGVkKCkge1xuXHRcdFx0aWYgKCEoXCJvbk1lbnVJdGVtQ2xpY2tcIiBpbiB0aGlzICYmIHR5cGVvZiB0aGlzLm9uTWVudUl0ZW1DbGljayA9PSBcImZ1bmN0aW9uXCIpKSByZXR1cm47XG5cdFx0XHRjb25zdCBvcmlnaW5hbCA9IHRoaXMub25NZW51SXRlbUNsaWNrLmJpbmQodGhpcyk7XG5cdFx0XHR0aGlzLm9uTWVudUl0ZW1DbGljayA9IChpdGVtOiBUT0RPLCAuLi5hcmdzOiBUT0RPKSA9PiB7XG5cdFx0XHRcdGNvbnN0IHNjcmVlbiA9ICh0aGlzIGFzIFRPRE8pPy5pdGVtPy5zY3JlZW47XG5cdFx0XHRcdGNvbnN0IG1vZG1lbnVTY3JlZW4gPSAodGhpcyBhcyBUT0RPKT8uc2NyZWVucz8ubW9kbWVudTtcblx0XHRcdFx0aWYgKHNjcmVlbiAmJiBtb2RtZW51U2NyZWVuICYmIHNjcmVlbiA9PSBtb2RtZW51U2NyZWVuKSB7XG5cdFx0XHRcdFx0KHZ1ZUFwcCBhcyBUT0RPKT8uc3dpdGNoVG9Nb2RNZW51VWkoKTsgLy8gbXkgbGlsIGludGVyY2VwdGlvbiBmdW5jdGlvblxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBvcmlnaW5hbChpdGVtLCAuLi5hcmdzKTtcblx0XHRcdH07XG5cdFx0fSxcblx0fSk7XG5cdENsaWVudC52dWUgPSBNb2RNZW51VnVlO1xuXHQvLyBkZWJ1Z0luZm8oXCJNb3VudGVkXCIsIHsgTW9kTWVudVZ1ZSB9KTtcbn1cblxuY29uc3QgTW9kTWVudUV4dGVuc2lvbiA9IGNyZWF0ZUV4dGVuc2lvbih7XG5cdHVuaXF1ZUlkZW50aWZpZXI6IFwiR3JpZm1pbi1tb2RtZW51LXYyXCIsXG5cdG5hbWU6IE1vZE1lbnVOYW1lLFxuXHRhdXRob3I6IFwiR3JpZm1pblwiLFxuXHR2ZXJzaW9uOiBcIjAuM2FcIixcblx0ZGVzY3JpcHRpb246IC8qKkB0cmltICovIGBcblx0bW9kIG1lbnUgdjIgaW1wbGVtZW50YXRpb25cblx0V29yayBpbiBwcm9ncmVzc2AudHJpbSgpLFxuXHRpY29uVXJsOiBcInVybCgnaHR0cHM6Ly9tZWRpYTEudGVub3IuY29tL20vNzdycU1qM3VvbW9BQUFBZC9ncml0aXRvLmdpZilcIiwgLy8gdGhpcyBpcyBob3cgaSBmZWx0IG1ha2luZyB0aGlzIGJ0dy5cblx0ZGVmYXVsdFNldHRpbmdzOiB7IGVuYWJsZWQ6IHRydWUgfSwgLy8gbWFkZSB0aGlzIHRvZ2dsYWJsZSB2aWEgYSBtYW51YWwgZW50cnkuIChpbmNhc2Ugc29tZSBvdGhlciBtb2QgY29tZXMgdXAgd2l0aCBhIGJldHRlciBtb2QgbWVudSBvciBoYXMgc29tZSByZWFzb24gdG8gaGlkZSB0aGlzIGlkaylcblx0aW5pdCgpIHtcblx0XHRpZiAoIXRoaXMuc2V0dGluZ3MuZW5hYmxlZCkgcmV0dXJuO1xuXHRcdFdhaXRVbnRpbFNldHVwKCk7XG5cdH0sXG5cdC8vIGNvbmZpZygpIHtcblx0Ly8gXHRyZXR1cm4gW1xuXHQvLyBcdFx0eyB0eXBlOiBcIlRvZ2dsZVwiLCBsYWJlbDogXCJUZXN0IDFcIiwgdmFsdWU6IHRydWUgfSxcblx0Ly8gXHRcdHsgdHlwZTogXCJUb2dnbGVcIiwgbGFiZWw6IFwiVGVzdCAyXCIsIHZhbHVlOiBmYWxzZSB9LFxuXHQvLyBcdFx0eyB0eXBlOiBcIlNsaWRlclwiLCBsYWJlbDogXCJUZXN0IHNsaWRlclwiLCBtYXg6IDEwMCwgbWluOiAwLCB2YWx1ZTogNTAgfSxcblx0Ly8gXHRdO1xuXHQvLyB9LFxuXHRvbk9wdGlvbnNDaGFuZ2UodXBkYXRlU3RhdGUpIHtcblx0XHRkZWJ1Z0RlYnVnKGAke3RoaXMubmFtZX0gLSAke3RoaXMub25PcHRpb25zQ2hhbmdlPy5uYW1lfTogYCwgdXBkYXRlU3RhdGUpO1xuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcbn0pO1xuXG5leHBvcnQgeyBNb2RNZW51RXh0ZW5zaW9uIGFzIEV4dGVuc2lvbiB9O1xuXG4vKip0aGlzIGlzIGp1c3QgdG8gc2h1dCB0cyB1cCwgaSBrbm93IGl0cyB0aGVyZSAqL1xuaW50ZXJmYWNlIHZ1ZUFwcENvbnRleHQge1xuXHRzaG93U2NyZWVuOiBUT0RPO1xuXHQkcmVmczogVE9ETztcblx0ZXF1aXA6IFRPRE87XG5cdGhpZGVHYW1lTWVudSgpOiB1bmtub3duO1xuXHRnYW1lVWlSZW1vdmVDbGFzc0Zvck5vU2Nyb2xsKCk6IHVua25vd247XG5cdHNjcmVlbnM6IFRPRE87XG59XG4iLCAiLyoqXG4gKiBUaGlzIGV4dGVuc2lvbiBlc3NlbnRpYWxseSBqdXN0IGFsbG93cyBmb3IgdGhlIHVzZSBvZiB0aGUgYFRhYmAga2V5IGluc2lkZSBvZiB0aGUgZ2FtZSBhcyBhIGZ1bGwgb24ga2V5YmluZCAoaWYgd2FudGVkKVxuICogQGF1dGhvciBHcmlmbWluXG4gKi9cblxuaW1wb3J0IHsgUGF0dGVybk1hdGNoRmFpbGVkIH0gZnJvbSBcIi4uL0NsaWVudC9VdGlsaXRpZXNcIjtcbmltcG9ydCB7IGNyZWF0ZVNvdXJjZU1vZCB9IGZyb20gXCIuLi9zb3VyY2UvbG9hZGVyXCI7XG5pbXBvcnQgeyBhZGRNb2QgfSBmcm9tIFwiLi4vc291cmNlL21vZHNcIjtcbmltcG9ydCB7IGNyZWF0ZUV4dGVuc2lvbiB9IGZyb20gXCIuLi9cIjtcblxuLy8gIyB2YXJpYWJsZXNcbmxldCBpbnRlcm5hbF9TQ0I6IHNldHRpbmdzX2NvbnRyb2xfYmluZGVyO1xuY29uc3QgdGFyZ2V0VmFyID0gXCJjb21wX3NldHRpbmdzX2NvbnRyb2xfYmluZGVyXCI7XG5jb25zdCB0YXJnZXRNZXRob2QgPSBcIm9uS2V5VXBcIjtcbmNvbnN0IExhYmVsID0gXCJFbmFibGVcIjtcblxuLy8gc291cmNlIG1vZGlmaWNhdGlvbiBsb2NhdGlvblxuY29uc3QgU291cmNlTW9kID0gY3JlYXRlU291cmNlTW9kKHtcblx0bmFtZTogXCJTdG9wIFRhYi1LZXkgZnJvbSBwYXVzaW5nXCIsXG5cdGRlc2NyaXB0aW9uOiBcIlRoZSBzb3VyY2UgbW9kIHRoYXRnZXRzIHJpZCBvZiB0aGUgdGhlIGFubm95aW5nIHRhYiBrZXkgdGhpbmcgaW4gZWdnIGdhbWVcIixcblx0bW9kaWZ5KHNvdXJjZTogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRjb25zdCByZWdleFBhdHRlcm4gPSAvXCJUYWJcIj09W1xcdyRdKyYmXFwoP1tcXHckXSs9XCJFU0NBUEVcIixbXFx3JF0rXFwucHJldmVudERlZmF1bHRcXChcXCkoLChbXFx3JF0rKVxcKFwiZG93blwiXFwpKS9nbTtcblx0XHRjb25zdCBtYXRjaCA9IHJlZ2V4UGF0dGVybi5leGVjKHNvdXJjZSk7XG5cdFx0aWYgKCFtYXRjaCkgdGhyb3cgbmV3IFBhdHRlcm5NYXRjaEZhaWxlZChgRmFpbGVkIHRvIGdyYWJgKTtcblx0XHRjb25zdCBbLCBhbm5veWFuY2VdID0gbWF0Y2g7XG5cdFx0c291cmNlID0gc291cmNlLnJlcGxhY2UoYW5ub3lhbmNlLCBcIi8qJDEqL1wiKTtcblx0XHRjb25zdCBDaGF0UmUgPVxuXHRcdFx0L2Nhc2UoPzpcInwnfGApVGFiKD86XCJ8J3xgKTooW1xcdyRfXSspXFwucHJldmVudERlZmF1bHRcXChcXCksXFwxXFwuc3RvcFByb3BhZ2F0aW9uXFwoXFwpLCgoPzpbXFx3JF9dKylcXChcXCkpfS9nbTtcblx0XHRjb25zdCBpbkNoYXRNYXRjaCA9IENoYXRSZS5leGVjKHNvdXJjZSk7XG5cdFx0aWYgKGluQ2hhdE1hdGNoKSB7XG5cdFx0XHQvLyBzaW5jZSB0aGlzIGlzbnQgXCJzdHJpY3RseVwiIG5lY2Vzc2FyeSwgaSB3b250IHJlcXVpcmUgaXQgZm9yIHRoaXMgKGl0cyBtb3JlIG9mIGEganVzdCBuaWNlIHRvIGhhdmUpXG5cdFx0XHRsZXQgW3RhcmdldFNyYywgZXZlbnQsIGV4aXRDaGF0Q2FsbF0gPSBpbkNoYXRNYXRjaDtcblx0XHRcdGNvbnN0IG5ld0NhbGwgPSBgLyoke2V4aXRDaGF0Q2FsbH0vLyB3ZSBuZWVkIHRvIGV4aXQsIGJ1dCBpIGRvbnQgd2FudCB0byBleGl0IG9uICd0YWInIGtleSAqLyR7ZXZlbnR9LmtleSAhPSAnVGFiJyAmJiAke2V4aXRDaGF0Q2FsbH1gXG5cdFx0XHRjb25zdCBuZXdzb3VyY2UgPSB0YXJnZXRTcmMucmVwbGFjZShleGl0Q2hhdENhbGwsIG5ld0NhbGwpO1xuXHRcdFx0c291cmNlID0gc291cmNlLnJlcGxhY2UodGFyZ2V0U3JjLCBuZXdzb3VyY2UpO1xuXHRcdH1cblx0XHRyZXR1cm4gc291cmNlO1xuXHRcdC8vIHRoaXMganVzdCBjb21tZW50cyBvdXQgdGhlIGAscGF1c2VHYW1lKCdkb3duJylgLiBiZWNhdXNlIG5vXG5cdH0sXG59KTtcblxuLyoqVGhlIHVwZGF0ZWQgZnVuY3Rpb24gdGhhdCB3ZSB3YW50IHRvIHVzZSBhcyBhbiBhbHRlcm5hdGl2ZSB0byB0aGUgb3JpZ2luYWwgZ2FtZXMgYG9uS2V5VXBgICovXG5mdW5jdGlvbiBhbHRlcm5hdGl2ZSh0aGlzOiB0YXJnZXRWdWVDb250ZXh0LCBldmVudDogS2V5Ym9hcmRFdmVudCkge1xuXHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0bGV0IHsga2V5IH0gPSBldmVudDtcblx0aWYgKGtleSA9PSBcIkVzY2FwZVwiIC8qfHwga2V5ID09ICdUYWInKi8gfHwga2V5ID09IFwiRW50ZXJcIikge1xuXHRcdHJldHVybjsgLy8gXiB0aGlzIHdhcyB0aGUgb3JpZ2luYWwgY29uZGl0aW9uLiBpdmUganVzdCBjb21tZW50ZWQgaXQgb3V0XG5cdH1cblx0aWYgKGtleSA9PSBcIiBcIikge1xuXHRcdGtleSA9IFwic3BhY2VcIjtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9XG5cdHRoaXMuY2FwdHVyZShrZXkpO1xufVxuXG4vKipcbiAqIFRoaXMgcHJldmVudHMgdGhlIGBUYWJgIGtleSBmcm9tIGNoYW5naW5nIGZvY3VzIG9mZiBvZiB0aGUgY3VycmVudCBmb2N1c2VkIGVsZW1lbnQgKGNhdXNpbmcgeW91IHRvIHRhYiBvdXQgb2YgdGhlIGdhbWUpXG4gKiBzZWUgW21kbiBhZGRFdmVudExpc3RlbmVyI29wdGlvbnNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FdmVudFRhcmdldC9hZGRFdmVudExpc3RlbmVyI29wdGlvbnMpXG4gKi9cbmZ1bmN0aW9uIGFwcGx5RXZlbnRJbnRlcmNlcHQoKSB7XG5cdGZ1bmN0aW9uIGtleWRvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcblx0XHRpZiAoZXZlbnQua2V5ID09IFwiVGFiXCIpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdH1cblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwga2V5ZG93biwgdHJ1ZSk7XG59XG5cbi8qKlxuICogVGhpcyBpcyB0aGUgcG9ydGVkIHZlcnNpb24gb2YgbXkgVUkgaW50ZXJtaW5nbGluZy5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlVnVlQ29tcCgpIHtcblx0ZnVuY3Rpb24gdXBkYXRlTWV0aG9kKCkge1xuXHRcdGludGVybmFsX1NDQi5tZXRob2RzW3RhcmdldE1ldGhvZF0gPSBhbHRlcm5hdGl2ZTtcblx0fVxuXHRpZiAodGFyZ2V0VmFyIGluIHdpbmRvdykge1xuXHRcdGludGVybmFsX1NDQiA9IHdpbmRvd1t0YXJnZXRWYXJdIGFzIHNldHRpbmdzX2NvbnRyb2xfYmluZGVyO1xuXHRcdHVwZGF0ZU1ldGhvZCgpO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csIHRhcmdldFZhciwge1xuXHRcdHNldDogKHY6IHNldHRpbmdzX2NvbnRyb2xfYmluZGVyKSA9PiB7XG5cdFx0XHRpbnRlcm5hbF9TQ0IgPSB2O1xuXHRcdFx0dXBkYXRlTWV0aG9kKCk7XG5cdFx0fSxcblx0XHRnZXQ6ICgpID0+IGludGVybmFsX1NDQixcblx0fSk7XG59XG4vLyB0aGlzIGlzIGp1c3QgZm9yIG1lIHRvIG1hcmsgbXkgb3JpZ2luYWwgbG9hZCBzZXR0aW5ncyAodG8gY29tcGFyZSB0byBmb3IgbGF0ZXIpXG5sZXQgb3JpZ2luYWxTZXR0aW5ncyE6IFRPRE87XG4vLyBleHRlbnNpb24gcGFydFxuZXhwb3J0IGNvbnN0IEV4dGVuc2lvbiA9IGNyZWF0ZUV4dGVuc2lvbih7XG5cdHVuaXF1ZUlkZW50aWZpZXI6IFwiR3JpZm1pbi1UYWJrZXlyZW1hcFwiLFxuXHRuYW1lOiBcIlRhYiBLZXkgUmVtYXBcIixcblx0YXV0aG9yOiBcIkdyaWZtaW5cIixcblx0dmVyc2lvbjogXCIxLjBcIiwgLy8gKDExLjIuMjUpIGRhdGUgb2YgcG9ydCAvIHJlZmFjdG9yLlxuXHRkZXNjcmlwdGlvbjogXCJBbGxvd3MgdGhlIHVzZSBvZiB0aGUgYFRhYmAga2V5IGFzIGFueSBrZXliaW5kLCBhbmQgcHJldmVudHMgaXQgZnJvbSB0YWJiaW5nIHlvdSBvdXQgaW5nYW1lXCIsXG5cdGRlZmF1bHRTZXR0aW5nczogeyBlbmFibGVkOiBmYWxzZSB9LCAvLyBteSBkZWZhdWx0IHNldHRpbmdzIHNoaXRcblx0Y29uZmlnKCkge1xuXHRcdHJldHVybiBbeyB0eXBlOiBcIlRvZ2dsZVwiLCBsYWJlbDogTGFiZWwsIHZhbHVlOiB0aGlzLnNldHRpbmdzLmVuYWJsZWQgfV07XG5cdH0sXG5cdGluaXQoKSB7XG5cdFx0b3JpZ2luYWxTZXR0aW5ncyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5zZXR0aW5ncykpOyAvLyBub3QgZXhhY3RseSBwcmV0dHksIGJ1dCB3aWxsIGRvLiBcblx0XHRpZiAoIXRoaXMuc2V0dGluZ3MuZW5hYmxlZCkgcmV0dXJuO1xuXHRcdGFkZE1vZChTb3VyY2VNb2QpO1xuXHRcdHVwZGF0ZVZ1ZUNvbXAoKTtcblx0XHRhcHBseUV2ZW50SW50ZXJjZXB0KCk7XG5cdH0sIC8vIHllYSwgd2UgcmVhbGx5IGRvbid0IGRvIG11Y2ggaGVyZS4uXG5cdG9uT3B0aW9uc0NoYW5nZSh1cGRhdGVkU3RhdGUpIHtcblx0XHRpZiAodXBkYXRlZFN0YXRlLnR5cGUgIT0gXCJUb2dnbGVcIiB8fCB1cGRhdGVkU3RhdGUubGFiZWwgIT0gTGFiZWwpIHJldHVybiBmYWxzZTtcblx0XHR0aGlzLnNldHRpbmdzLmVuYWJsZWQgPSB1cGRhdGVkU3RhdGUudmFsdWU7XG5cdFx0XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cdGlzRW5hYmxlZCgpIHtcblx0XHRyZXR1cm4gdGhpcy5zZXR0aW5ncy5lbmFibGVkO1xuXHR9LFxuXHRyZXF1ZXN0UmVmcmVzaCgpIHtcblx0XHQvLyBub3QgZXhhY3RseSB0aGUgcHJldHRpZXN0LCBidXQgc2hvdWxkIHdvcmsgZm9yIG5vdy4gaXNoXG5cdFx0Y29uc3QgY29uZGl0aW9uID0gKG9yaWdpbmFsU2V0dGluZ3MgYXMgdHlwZW9mIHRoaXMuc2V0dGluZ3MpLmVuYWJsZWQgIT0gdGhpcy5zZXR0aW5ncy5lbmFibGVkO1xuXHRcdHJldHVybiBjb25kaXRpb25cblx0fVxufSk7XG5cbi8qKlxuICogdGhpcyBpcyBqdXN0IHRoZSBtaW5pbWFsIGN0eCBmb3IgdGhlIGNvbXBvbmVudCB3ZSBhcmUgaW5qZWN0aW5nIGludG9cbiAqIGJ1dCBhcyB0aGlzIGlzIGFsbCBpbSB1c2luZywgaSBkb250IHNlZSBhIHJlYXNvbiB0byBhZGQgbW9yZS5cbiAqICovXG5pbnRlcmZhY2UgdGFyZ2V0VnVlQ29udGV4dCB7XG5cdG9uS2V5VXAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkO1xuXHRjYXB0dXJlKGtleTogc3RyaW5nKTogdm9pZDtcbn1cblxuLyoqXG4gKiBhIHF1aWNrIC8gYnJlaWYgbGF5b3V0IC8gdmlldyBvZiB0aGUgc2V0dGluZ3MgYmluZGVyIHN0dWZmXG4gKi9cbmludGVyZmFjZSBzZXR0aW5nc19jb250cm9sX2JpbmRlciB7XG5cdHRlbXBsYXRlOiBzdHJpbmc7XG5cdHByb3BzOiBzdHJpbmdbXTtcblx0ZGF0YSgpOiB7IGN1cnJlbnRWYWx1ZTogYm9vbGVhbjsgaXNDYXB0dXJpbmc6IGZhbHNlIH07XG5cdG1ldGhvZHM6IHtcblx0XHRwbGF5U291bmQoc291bmQ6IHN0cmluZyk6IHZvaWQ7IC8vIHN0cmFpZ2h0IHVwIGEgd3JhcHBlciB0byBCQVdLLnBsYXkoc291bmQpIGlkayB3aHkgdGhpcyBleGlzdHMgdGJoXG5cdFx0cmVzZXQoKTogdm9pZDtcblx0XHRjYXB0dXJlKHZhbHVlOiBzdHJpbmcpOiB2b2lkO1xuXHRcdG9uTW91c2VEb3duKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZDtcblx0XHRvbktleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkO1xuXHRcdG9uS2V5VXAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkO1xuXHRcdG9uV2hlZWwoZXZlbnQ6IHVua25vd24pOiB2b2lkO1xuXHRcdG9uRm9jdXNPdXQoZXZlbnQ6IHVua25vd24pOiB2b2lkO1xuXHR9O1xufVxuIiwgIi8qIG5vdGlmaWNhdGlvbnMgc3R1ZmYgKi9cbiNyZS1ub3RpZmljYXRpb24ge1xuXHQvKiBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMjUpO1xuXHRib3gtc2hhZG93OiAwLjFlbSAwLjFlbSAwLjRlbSByZ2JhKDAsIDAsIDAsIDAuNSk7XG5cdHBhZGRpbmc6IDAuNzVlbTsgKi9cblx0YmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjE1KSAhaW1wb3J0YW50O1xuXHRib3JkZXI6IDAuMDYyNWVtIHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4yKSAhaW1wb3J0YW50O1xuXHRib3gtc2hhZG93OiAwIC4yNWVtIC41ZW0gcmdiYSgwLCAwLCAwLCAwLjIpICFpbXBvcnRhbnQ7XG5cdGJvcmRlci1yYWRpdXM6IDAuOTM3NWVtICFpbXBvcnRhbnQ7XG5cdHBhZGRpbmc6IDAuOTM3NWVtICFpbXBvcnRhbnQ7XG5cblx0cG9zaXRpb246IGFic29sdXRlO1xuXHRjb2xvcjogd2hpdGU7XG5cdGZvbnQtd2VpZ2h0OiBib2xkO1xuXHQvKiBjb2xvcjogdmFyKC0tZWdnLWJyb3duKTsgKi9cblx0bGVmdDogNzUlO1xuXHR0b3A6IDFlbTtcblx0dHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xuXHRkaXNwbGF5OiBub25lO1xuXHR0ZXh0LWFsaWduOiBsZWZ0O1xufVxuXG4jcmUtbm90aWZpY2F0aW9uIGltZyB7XG5cdHdpZHRoOiAyZW07XG5cdGhlaWdodDogMmVtO1xuXHRtYXJnaW4tcmlnaHQ6IDAuNzVlbTtcbn0iLCAiPGRpdiBpZD1cInJlLW5vdGlmaWNhdGlvblwiIGNsYXNzPVwicm91bmRlZEJvcmRlclwiPjwvZGl2PlxuICAgIDwhLS08aW1nIHNyYz1cIi9pbWcvbm90aWZpY2F0aW9uSWNvbi5wbmdcIj4gLS0+XG4gICAgPCEtLSA8aW1nIHNyYz1cIi9mYXZpY29uMTkyLnBuZ1wiPiAtLT5cbiAgICA8IS0tIFxuICAgIF4gdGhpcyBpcyB0aGUgY2xvc2VzdCBpbWFnZSB0byB0aGUgb3JpZ2luYWxcbiAgICBhbHRob3VnaCwgaW0gbm90IHJlYWxseSBhIGZhbiBvZiBpdCwgc28gaW0gZ29pbmcgdG8gcmVtb3ZlIGl0XG4gICAgLS0+XG4gICAgPGRpdiBpZD1cInJlLW5vdGlmaWNhdGlvbk1lc3NhZ2VcIj48L2Rpdj5cbjwvZGl2PiIsICIvKipcbiAqIEBhdXRob3IgR3JpZm1pblxuICovXG5pbXBvcnQgeyBjcmVhdGVFeHRlbnNpb24sIEV4dGVuc2lvbkluc3RhbmNlIH0gZnJvbSBcIi4uL1wiO1xuaW1wb3J0IHsgQ2xpZW50IH0gZnJvbSBcIi4uL0NsaWVudFwiO1xuaW1wb3J0IHsgV2FpdEZvckNvbmRpdGlvbiB9IGZyb20gXCIuLi9DbGllbnQvVXRpbGl0aWVzXCI7XG5pbXBvcnQgY3NzU3RyIGZyb20gXCIuL25vdGlmaWNhdGlvbi5jc3NcIjtcbmltcG9ydCBodG1sU3RyIGZyb20gXCIuL25vdGlmaWNhdGlvbi5odG1sXCI7XG5cbi8vICMgdmFyc1xuXG5sZXQgZW5hYmxlZFN0YXRlOiBib29sZWFuID0gZmFsc2U7XG5cblxuLy8gI2Z1bmN0aW9uc1xuXG4vKipcbiAqIFJlLWltcGxlbWVudGF0aW9uIG9mIHRoZSBkaXNtaXNzTm90aWZpY2F0aW9uIChyZXF1aXJlZCBmb3Igbm90aWZ5KVxuICovXG5mdW5jdGlvbiBkaXNtaXNzTm90aWZpY2F0aW9uKGNhbGxiYWNrPzogRnVuY3Rpb24pIHtcblx0Y29uc3Qgbm90aWZ5RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZS1ub3RpZmljYXRpb25cIik7XG5cdGlmICghbm90aWZ5RGl2KSByZXR1cm47XG5cdGxldCBhbmltID0gODtcblx0bGV0IGFuaW1JbiA9IHNldEludGVydmFsKCgpID0+IHtcblx0XHRub3RpZnlEaXYuc3R5bGUub3BhY2l0eSA9IGAke2FuaW0gLyA4fWA7XG5cdFx0bm90aWZ5RGl2LnN0eWxlLnRvcCA9IGFuaW0gLyAyIC0gMy41ICsgXCJlbVwiO1xuXHRcdGlmICgwICE9IC0tYW5pbSkgcmV0dXJuO1xuXHRcdGNsZWFySW50ZXJ2YWwoYW5pbUluKTtcblx0XHRub3RpZnlEaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXHRcdGlmIChjYWxsYmFjaykgY2FsbGJhY2soKTtcblx0fSwgMzIpO1xufVxuLyoqXG4gKiBSZS1pbXBsZW1lbnRhdGlvbiBvZiB0aGUgb2xlIG5vdGlmeSBmdW5jdGlvbiB0aGF0IHdhcyBmb3Igc29tZSByZWFzb24gZGVwcmVjYXRlZCAvIGxvc3QgdG8gdGltZSBpbiBzaGVsbC5cbiAqL1xuZnVuY3Rpb24gbm90aWZ5KG1zZzogc3RyaW5nLCB0aW1lb3V0PzogbnVtYmVyKSB7XG5cdGlmICghZW5hYmxlZFN0YXRlKSByZXR1cm47IC8vIG5vIG5vdGlmaWNhdGlvbnMgXG5cdGNvbnN0IG5vdGlmeURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmUtbm90aWZpY2F0aW9uXCIpO1xuXHRpZiAoIW5vdGlmeURpdikgcmV0dXJuO1xuXHQvLyBjb25zdCBub3RpZnlEaXZNZXNzYWdlID0gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmUtbm90aWZpY2F0aW9uTWVzc2FnZVwiKVxuXHRub3RpZnlEaXYuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuXHRub3RpZnlEaXYuc3R5bGUudG9wID0gXCItMy41ZW1cIjtcblx0bm90aWZ5RGl2LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcblx0Ly8gbm90aWZ5RGl2TWVzc2FnZS50ZXh0Q29udGVudCA9IG1zZztcblx0bm90aWZ5RGl2LnRleHRDb250ZW50ID0gbXNnO1xuXHRsZXQgYW5pbSA9IDA7XG5cdGNvbnN0IGFuaW1JbiA9IHNldEludGVydmFsKCgpID0+IHtcblx0XHQvLyB3YWl0IGZvciBpdCB0byBiZSB2aXNpYmxlIGJlZm9yZSBkb2luZyBhbnl0aGluZy5cblx0XHRpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09IFwiaGlkZGVuXCIpIHJldHVybjtcblx0XHRhbmltKys7XG5cdFx0bm90aWZ5RGl2LnN0eWxlLm9wYWNpdHkgPSBgJHthbmltIC8gOH1gO1xuXHRcdG5vdGlmeURpdi5zdHlsZS50b3AgPSBhbmltIC8gMiAtIDMuNSArIFwiZW1cIjtcblx0XHRpZiAoOCAhPSBhbmltKSByZXR1cm47XG5cdFx0Y2xlYXJJbnRlcnZhbChhbmltSW4pO1xuXHRcdGlmICh0aW1lb3V0KSB7XG5cdFx0XHRzZXRUaW1lb3V0KGRpc21pc3NOb3RpZmljYXRpb24sIHRpbWVvdXQpO1xuXHRcdH1cblx0fSwgMzIpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBhZGRIdG1sKCkge1xuXHRhd2FpdCBXYWl0Rm9yQ29uZGl0aW9uKCgpID0+IENsaWVudC5yZWFkeVN0YXRlKTtcblx0Ly8gYWRkIGNzc1xuXHRDbGllbnQudGhlbWVtYW5hZ2VyLmFkZFN0eWxlKGNzc1N0ciwgXCJyZS1ub3RpZmljYWl0b24tY3NzXCIpO1xuXHQvLyBhZGQgaHRtbFxuXHRjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRkaXYuaWQgPSAnRy10d2Vha3MtaHRtbCdcblx0ZGl2LmlubmVySFRNTCA9IGh0bWxTdHI7XG5cdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgXCJub3RpZnlcIiwge1xuXHRcdGdldDogKCkgPT4gbm90aWZ5LFxuXHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSwgLy8gd2h5IG5vdFxuXHR9KTtcbn1cblxuLy8gIyBpbml0XG5cbmV4cG9ydCBjb25zdCBFeHRlbnNpb24gPSBjcmVhdGVFeHRlbnNpb24oe1xuXHR1bmlxdWVJZGVudGlmaWVyOiBcIkdyaWZtaW4tcmVOb3RpZmljYXRpb25cIixcblx0ZGVmYXVsdFNldHRpbmdzOiB7IGVuYWJsZWQ6IGZhbHNlIH0sXG5cdG5hbWU6IFwiTG9iYnkgQ2xvc2UgTm90aWZpY2F0aW9uc1wiLFxuXHRhdXRob3I6IFwiR3JpZm1pblwiLFxuXHR2ZXJzaW9uOiBcIjEuMFwiLCAvLyBwb3J0ZWQgZGF0ZTogMTEuMi4yNVxuXHRkZXNjcmlwdGlvbjogXCJhZGRzIGJhY2sgdGhlIG9yaWdpbmFsIG5vdGlmaWNhdGlvbnMgZm9yIHdoZW4gYSBsb2JieSBpcyBjbG9zaW5nXCIsXG5cdGNvbmZpZygpIHtcblx0XHRyZXR1cm4gW3sgdHlwZTogXCJUb2dnbGVcIiwgbGFiZWw6IFwiRW5hYmxlXCIsIHZhbHVlOiB0aGlzLnNldHRpbmdzLmVuYWJsZWQgfV07XG5cdH0sXG5cdGluaXQ6IGZ1bmN0aW9uICgpOiB2b2lkIHtcblx0XHRlbmFibGVkU3RhdGUgPSB0aGlzLnNldHRpbmdzLmVuYWJsZWQ7IC8vIHNldCB0aGUgc3RhdGUgXG5cdFx0YWRkSHRtbCgpO1xuXHR9LFxuXHRvbk9wdGlvbnNDaGFuZ2UodXBkYXRlZFN0YXRlKSB7XG5cdFx0aWYgKHVwZGF0ZWRTdGF0ZS50eXBlICE9IFwiVG9nZ2xlXCIgfHwgdXBkYXRlZFN0YXRlLmxhYmVsICE9IFwiRW5hYmxlXCIpIHJldHVybiBmYWxzZTtcblx0XHR0aGlzLnNldHRpbmdzLmVuYWJsZWQgPSB1cGRhdGVkU3RhdGUudmFsdWU7XG5cdFx0ZW5hYmxlZFN0YXRlID0gdGhpcy5zZXR0aW5ncy5lbmFibGVkO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXHRpc0VuYWJsZWQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuc2V0dGluZ3MuZW5hYmxlZDtcblx0fVxufSk7XG4iLCAiLyoqXG4gKiBhc2RkIGluIGNvbW1hcyB0byB0aGUgZ2FtZXMgaW4gc3RhdHMsIGN1cnJlbnQgY3VycmVuY3ksIGFuZCBzaG9wXG4gKiBAYXV0aG9yIEdyaWZtaW5cbiAqL1xuaW1wb3J0IHsgY3JlYXRlRXh0ZW5zaW9uIH0gZnJvbSBcIi4uL1wiO1xuaW1wb3J0IHsgV2FpdEZvckNvbmRpdGlvbiB9IGZyb20gXCIuLi9DbGllbnQvVXRpbGl0aWVzXCI7XG5cbi8vICMgdmFyaWFibGVzXG5sZXQgaW50ZXJuYWxjb21wX2l0ZW0hOiBDb21wSXRlbTtcblxuLy8gIyBGdW5jdGlvbnNcbmZ1bmN0aW9uIGlzUmVhZHkoKSB7XG5cdHJldHVybiBcIlZ1ZVwiIGluIHdpbmRvdztcbn1cblxuLyoqQWx0ZXJuYXRpdmUgc2V0dXBTdGF0IGZ1bmNpdG9uIChyZXR1cm5zIHdpdGggY29tbWFzKSAqL1xuZnVuY3Rpb24gc2V0dXBTdGF0QWx0ZXJuYXRpdmUodGhpczogU3RhdFRlbXBsYXRlQ3R4LCBzdGF0OiBzdGF0VmFyKSB7XG5cdGlmICh0aGlzLnN0YXQua2RyICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHN0YXQgIT0gXCJudW1iZXJcIiAmJiB0eXBlb2Ygc3RhdFswXSA9PSBcIm51bWJlclwiKSB7XG5cdFx0cmV0dXJuIHRoaXMua2RyKHN0YXRbMF0sIHN0YXRbMV0pO1xuXHR9IGVsc2UgaWYgKHN0YXQgJiYgdHlwZW9mIHN0YXQgIT0gXCJudW1iZXJcIikge1xuXHRcdGNvbnN0IFtmaXJzdCwgc2Vjb25kXSA9IHN0YXQubWFwKCh2KSA9PiAodHlwZW9mIHYgPT0gXCJudW1iZXJcIiA/IHYudG9Mb2NhbGVTdHJpbmcoKSA6IHYpKTtcblx0XHRyZXR1cm4gYDxkaXY+JHtmaXJzdH08L2Rpdj4gPGRpdj4ke3NlY29uZC50b0xvY2FsZVN0cmluZygpfTwvZGl2PmA7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIHR5cGVvZiBzdGF0ID09IFwibnVtYmVyXCIgPyBzdGF0LnRvTG9jYWxlU3RyaW5nKCkgOiBzdGF0O1xuXHR9XG59XG5cbmZ1bmN0aW9uIGl0ZW1QcmljZUFsdGVybmF0aXZlKHRoaXM6IENvbXBJdGVtJHRoaXMpIHtcblx0aWYgKHRoaXMuaGlkZVByaWNlICYmIHRoaXMuaXNJdGVtT3duZWQpIHtcblx0XHRyZXR1cm4gdGhpcy5sb2MuZXFfb3duZWQ7XG5cdH1cblx0cmV0dXJuICF0aGlzLmlzSXRlbU93bmVkID8gdGhpcy5pdGVtLnByaWNlLnRvTG9jYWxlU3RyaW5nKCkgOiB0aGlzLmxvYy5lcV9vd25lZCArIFwiIVwiO1xufVxuLyoqXG4gKiBUaGlzIGFkZHMgaW4gY29tbWFzIHRvIHRoZSBzdGF0cyAocHJvZmlsZSkgc2NyZWVuLiBcbiAqL1xuYXN5bmMgZnVuY3Rpb24gc3RhdFRlbXBsYXRlTWl4aW4oKSB7XG5cdGF3YWl0IFdhaXRGb3JDb25kaXRpb24oaXNSZWFkeSwgNTApO1xuXHRWdWUubWl4aW4oe1xuXHRcdGNyZWF0ZWQoKSB7XG5cdFx0XHRpZiAoXCJzZXR1cFN0YXRcIiBpbiB0aGlzKSB0aGlzLnNldHVwU3RhdCA9IHNldHVwU3RhdEFsdGVybmF0aXZlO1xuXHRcdH0sXG5cdH0pO1xufVxuLyoqXG4gKiBBcHBhcmVudGx5LCB0aGV5IGFkZGVkIHRoaXMgaW4gYXMgYSBkZWZhdWx0IGZlYXR1cmUgc2VtaSByZWNlbnRseS5cbiAqIEkgd2FzIHNvIGNvbmZ1c2VkIHRyeWluZyB0byBmaWd1cmUgaG93IG15IG1peGluIHdhcyBydW5uaW5nIHdoZW4gaSBkaXNhYmxlZCBpdCAob25seSB0byBmaW5kIG91dCBpdHMgYSBuZXcgZGVmYXVsdCBmZWF0dXJlIGxtZmFvKVxuICogQGRlcHJlY2F0ZWRcbiAqL1xuYXN5bmMgZnVuY3Rpb24gYWNjb3VudFBhbmVsTWl4aW4oKSB7XG5cdGF3YWl0IFdhaXRGb3JDb25kaXRpb24oaXNSZWFkeSwgNTApO1xuXHRsZXQgYmFsOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cdFZ1ZS5taXhpbih7XG5cdFx0Y3JlYXRlZCgpIHtcblx0XHRcdGlmICghKFwiZ2V0RWdnc0xvY2FsU3RvcmFnZVwiIGluIHRoaXMpKSByZXR1cm47XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJlZ2dCYWxhbmNlXCIsIHtcblx0XHRcdFx0c2V0OiAodikgPT4gKGJhbCA9IHYpLFxuXHRcdFx0XHRnZXQ6ICgpID0+IChiYWwgPyBiYWw/LnRvTG9jYWxlU3RyaW5nKCkgOiBiYWwpLFxuXHRcdFx0fSk7XG5cdFx0fSxcblx0fSk7XG59XG4vKipcbiAqIFRoaXMgaXMgdGhlIG1ldGhvZCBJIHVzZSB0byB1cGRhdGUgdGVoIFZ1ZSBjb21wdXRlZCBmdW5jdGlvbiB3aXRoIG15IGFsdGVybmF0aXZlIG1ldGhvZC5cbiAqL1xuZnVuY3Rpb24gY29tcF9pdGVtJEl0ZW1QcmljZU92ZXJ3cml0ZSgpIHtcblx0ZnVuY3Rpb24gdXBkYXRlKHRhcmdldENvbXBvbmVudDogQ29tcEl0ZW0pIHtcblx0XHR0YXJnZXRDb21wb25lbnQuY29tcHV0ZWQuaXRlbVByaWNlID0gaXRlbVByaWNlQWx0ZXJuYXRpdmU7XG5cdFx0aW50ZXJuYWxjb21wX2l0ZW0gPSB0YXJnZXRDb21wb25lbnQ7XG5cdH1cblx0aWYgKFwiY29tcF9pdGVtXCIgaW4gd2luZG93KSB1cGRhdGUod2luZG93LmNvbXBfaXRlbSBhcyBDb21wSXRlbSk7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csIFwiY29tcF9pdGVtXCIsIHtcblx0XHRzZXQ6IHVwZGF0ZSxcblx0XHRnZXQ6ICgpID0+IGludGVybmFsY29tcF9pdGVtLFxuXHR9KTtcbn1cblxubGV0IGluaXRpYWxMb2FkQ29uZGl0aW9uITogYm9vbGVhbjtcbi8vICMgZXh0ZW5zaW9uXG5leHBvcnQgY29uc3QgRXh0ZW5zaW9uID0gY3JlYXRlRXh0ZW5zaW9uKHtcblx0dW5pcXVlSWRlbnRpZmllcjogXCJHcmlmbWluLXVpX2NvbW1hc1wiLFxuXHRkZWZhdWx0U2V0dGluZ3M6IHsgZW5hYmxlOiBmYWxzZSB9LFxuXHRhdXRob3I6IFwiR3JpZm1pblwiLFxuXHRuYW1lOiBcIkZhbmN5IGNvbW1hc1wiLFxuXHR2ZXJzaW9uOiBcIjEuMFwiLFxuXHRkZXNjcmlwdGlvbjogXCJBZGRzIGNvbW1hcyB0byB0aGUgc3RhdHMgKHByb2ZpbGUpIHBhZ2UsIGN1cnJlbmN5LCBhbmQgc2hvcCBpdGVtc1wiLFxuXHRjb25maWcoKSB7XG5cdFx0cmV0dXJuIFt7IHR5cGU6IFwiVG9nZ2xlXCIsIGxhYmVsOiBcIkVuYWJsZWRcIiwgdmFsdWU6IHRoaXMuc2V0dGluZ3MuZW5hYmxlIH1dO1xuXHR9LFxuXHRpbml0OiBmdW5jdGlvbiAoKTogdm9pZCB7XG5cdFx0aW5pdGlhbExvYWRDb25kaXRpb24gPSB0aGlzLnNldHRpbmdzLmVuYWJsZTsgLy8gZWhoLiBcblx0XHRpZiAoIXRoaXMuc2V0dGluZ3MuZW5hYmxlKSByZXR1cm47XG5cdFx0Y29tcF9pdGVtJEl0ZW1QcmljZU92ZXJ3cml0ZSgpO1xuXHRcdHN0YXRUZW1wbGF0ZU1peGluKCk7XG5cdFx0Ly8gYWNjb3VudFBhbmVsTWl4aW4oKTsgLy8gYXBwYXJlbnRseSBzb21ld2hlcmUgYWxvbmcgdGhlIGxpbmUgdGhleSBhZGRlZCB0aGlzIGluIGFzIGEgZGVmYXVsdCBmZWF0dXJlPz8/IChndWVzcyBpdCB3YXMgc2VtaSByZWNlbnRseSlcblx0XHQvKipcblx0XHQgKiBPdGhlciBtb3JlIG5pY2hlIGFyZWFzIHRvIGFkZCBjb21tYXM6XG5cdFx0ICpcblx0XHQgKiBjaGFsbGVuZ2VzOiBDaGFsbGVuZ2VzLih0b3RhbCB8IHVuaXF1ZSkgLSBpbiBzdGF0c1xuXHRcdCAqIENoYWxsZW5nZXM6IHNpZGUgcGFuZWwgLSAocmV3YXJkIGFtb3VudClcblx0XHQgKiBcblx0XHQgKiBDaGlja2VuV2lubmVyIGVnZyByZXdhcmRcblx0XHQgKiBDaGlja2VuIHdpbm5lciBcIndha2UgdXBcIiBhbW91bnRcblx0XHQgKiBcblx0XHQgKiBpdGVtQ29kZVJlZGVlbSAocG9zc2libGUgZWdnIGN1cnJlbmN5IGFtb3VudClcblx0XHQgKi9cblx0fSxcblx0b25PcHRpb25zQ2hhbmdlKHVwZGF0ZWRTdGF0ZSkge1xuXHRcdGlmICh1cGRhdGVkU3RhdGUubGFiZWwgIT0gXCJFbmFibGVkXCIgfHwgdXBkYXRlZFN0YXRlLnR5cGUgIT0gXCJUb2dnbGVcIikgcmV0dXJuIGZhbHNlO1xuXHRcdHRoaXMuc2V0dGluZ3MuZW5hYmxlID0gdXBkYXRlZFN0YXRlLnZhbHVlO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXHRpc0VuYWJsZWQoKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cdC8qKlxuXHQgKiBJIHNob3VsZCBhY3R1YWxseSBiZSBhYmxlIHRvIG1ha2UgdGhpcyBob3QgdG9nZ2xhYmxlLlxuXHQgKiBCdXQgdGhhdCB3b3VsZCByZXF1aXJlIGEgYml0IG9mIGV4dHJhIGVmZm9ydC4gUGx1cyBpbSB1bnN1cmUgaWYgdXNpbmcgbWl4aW5zIGNvdWxkIGNhdXNlIGNvbmZsaWN0aW9ucyB3aXRoIG90aGVyIG1vZHMuLi5cblx0ICogXG5cdCAqIEB0b2RvIChHcmlmKSAtIHJlIHZpc2l0IHRoaXMgYXQgc29tZSBwb2ludC4gXG5cdCAqL1xuXHRyZXF1ZXN0UmVmcmVzaCgpIHtcblx0XHRyZXR1cm4gaW5pdGlhbExvYWRDb25kaXRpb24gIT0gdGhpcy5zZXR0aW5ncy5lbmFibGU7XG5cdH1cbn0pO1xuXG4vLyAjIHR5cGVzXG5cbnR5cGUgc3RhdFZhciA9IG51bWJlciB8IFtudW1iZXIgfCBzdHJpbmcsIG51bWJlcl07XG5cbmludGVyZmFjZSBTdGF0VGVtcGxhdGVDdHgge1xuXHRrZHIoa2lsbHM6IG51bWJlciwgZGVhdGhzOiBudW1iZXIpOiBudW1iZXI7XG5cdHN0YXQ6IHtcblx0XHRrZHI/KGtpbGxzOiBudW1iZXIsIGRlYXRoczogbnVtYmVyKTogbnVtYmVyO1xuXHR9O1xufVxuXG50eXBlIENvbXBJdGVtJHRoaXMgPSB7IGhpZGVQcmljZTogYm9vbGVhbjsgaXNJdGVtT3duZWQ6IGJvb2xlYW47IGxvYzogYW55OyBpdGVtOiB7IHByaWNlOiBudW1iZXIgfSB9O1xuXG5pbnRlcmZhY2UgQ29tcEl0ZW0ge1xuXHR0ZW1wbGF0ZTogc3RyaW5nO1xuXHRwcm9wczogdW5rbm93bjtcblx0ZGF0YSgpOiB1bmtub3duO1xuXHRtb3VudGVkKCk6IHZvaWQ7XG5cdGJlZm9yZURlc3Ryb3koKTogdm9pZDtcblx0bWV0aG9kczogYW55O1xuXHRjb21wdXRlZDoge1xuXHRcdGlzSXRlbU93bmVkKCk6IGJvb2xlYW47XG5cdFx0aXRlbVByaWNlKHRoaXM6IENvbXBJdGVtJHRoaXMpOiB2b2lkO1xuXHR9O1xuXHR3YXRjaDoge1xuXHRcdGl0ZW0odmFsOiB1bmtub3duKTogdm9pZDtcblx0fTtcbn1cbiIsICJ0eXBlIEJsdWVQcmludDxUPiA9IHtcblx0W0sgaW4ga2V5b2YgVF06IFRbS107XG59O1xudHlwZSBzZXR0aW5ncyA9IFJlY29yZDxzdHJpbmcsIGFueT5cbi8qKlxuICogQW4gYXR0ZW1wdCBhdCBhIHBlcnNpc3RhbnQgb2JqZWN0IChzZW1pIHBlcnNpc3RhbnQuIG11c3QgYmUgSlNPTiBzZXJpYWxpemFibGUpXG4gKi9cbi8vIFRPRE86IChHcmlmKSAtIG1ha2Ugc2V0dGluZ3MgYmUgYWJsZSB0byByZWN1cnNpdmVseSBjaGFuZ2Ugc2V0dGluZ3NcbmZ1bmN0aW9uIHN0b3JhZ2VQcm94eTxUIGV4dGVuZHMgc2V0dGluZ3M+KGtleTogc3RyaW5nLCBibHVlcHJpbnQ6IEJsdWVQcmludDxUPik6IFQge1xuXHRjb25zdCBsb2FkID0gKCk6IFQgPT4ge1xuXHRcdGNvbnN0IHNhdmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcblx0XHRyZXR1cm4gc2F2ZWQgPyB7IC4uLmJsdWVwcmludCwgLi4uSlNPTi5wYXJzZShzYXZlZCkgfSA6IHsgLi4uYmx1ZXByaW50IH07XG5cdH07XG5cdGxldCBkYXRhID0gbG9hZCgpO1xuXHRyZXR1cm4gbmV3IFByb3h5KGRhdGEsIHtcblx0XHRnZXQoXywgcHJvcDogc3RyaW5nKSB7XG5cdFx0XHQvLyBjb25zb2xlLmxvZyhgZ2V0ICR7cHJvcH1gKVxuXHRcdFx0cmV0dXJuIGRhdGFbcHJvcCBhcyBrZXlvZiBUXTtcblx0XHR9LFxuXHRcdHNldChfLCBwcm9wOiBzdHJpbmcsIHZhbHVlKSB7XG5cdFx0XHQvLyBjb25zb2xlLmxvZyhgc2V0ICR7cHJvcH1gKVxuXHRcdFx0ZGF0YVtwcm9wIGFzIGtleW9mIFRdID0gdmFsdWU7XG5cdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0sXG5cdFx0ZGVsZXRlUHJvcGVydHkoXywgcHJvcDogc3RyaW5nKSB7XG5cdFx0XHRkZWxldGUgZGF0YVtwcm9wIGFzIGtleW9mIFRdO1xuXHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9LFxuXHR9KSBhcyBUO1xufVxuXG5leHBvcnQgeyBzdG9yYWdlUHJveHksIHNldHRpbmdzIH07XG4iLCAiLyogQWRzIC8gSnVuayB0aGV5IGF0dGVtcHQgdG8gc3R1ZmYgZG93biBvdXIgdGhyb2F0ICovXG4uaG91c2UtYWQtd3JhcHBlciwgI3Jlc3Bhd24tYWQtdHdvLCAjcmVzcGF3bi1hZC10d28sICN3ZWxjb21lLWJ1bmRsZS11aSwgLndlbGNvbWUtYnVuZGxlLXVpIHtcblx0ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xufVxuaW1nW3NyYz1cImltZy9lZ2dzdHJhLXZhbHVlLXBhY2sud2VicFwiXSB7XG5cdC8qIGZ1Y2sgb2ZmICovXG5cdGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbn1cbi8qIHZpcCBjbHViIGFubm95YW5jZXMgKi9cbi5mcmVlLWdhbWVzLWxvZ28sIC52aXAtY2x1Yi1jdGEsIC5mcmVlLWdhbWVzLXRpdGxlICNjaGlja2VuQmFkZ2Uge1xuXHRkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XG59XG4vKiBwbGF5ZXJMaXN0IHN0dWZmICovXG4ucGxheWVyU2xvdC0tbmFtLXNjb3JlIHtcblx0Ym9yZGVyLXJhZGl1czogMC41ZW07XG59XG4uaXMtcGF1c2VkIC5wYXVzZS11aS1lbGVtZW50IHtcblx0bGVmdDogMWVtO1xufVxuLmlzLXBhdXNlZCAuY2hhdC1pdGVtOmZpcnN0LWNoaWxkLmNoYXQtcGlubmVkLWl0ZW0ge1xuXHRiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50OyAvKiBmb3Igc29tZSByZWFzb24gaSBoYXZlIHRvIGFkZCB0aGlzIGFzIGl0IHNldHMgdGhlIGJhY2tncm91bmQgY29sb3Igb24gdGhlIHBpbm5lZCBkaXYgdG8gYmx1ZS4uLiAqL1xufVxuXG4uY2hhdC1jb250YWluZXIge1xuXHRkaXNwbGF5OiBncmlkO1xuXHRncmlkLXRlbXBsYXRlLXJvd3M6IDFmciBhdXRvO1xuXHRiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMTUpICFpbXBvcnRhbnQ7XG5cdGJvcmRlcjogMC4wNjI1ZW0gc29saWQgcmdiYSgwLCAwLCAwLCAwLjIpICFpbXBvcnRhbnQ7XG5cdGJveC1zaGFkb3c6IDAgMC4yNWVtIDAuNWVtIHJnYmEoMCwgMCwgMCwgMC4yKSAhaW1wb3J0YW50O1xuXHRib3JkZXItcmFkaXVzOiAwLjkzNzVlbSAhaW1wb3J0YW50O1xuXHRwYWRkaW5nOiAwLjkzNzVlbSAhaW1wb3J0YW50O1xuXHRzY3JvbGwtYmVoYXZpb3I6IHNtb290aDtcblx0bWF4LWhlaWdodDogMTIuMjVlbTtcblx0LyogXiB0aGlzIGFsbG93cyBmb3IgYSAoZGVjZW50IGluIG15IG9waW5pb24pIHNpemUgd2luZG93IChmb3IgbWF4IHNpemUpKi9cbn1cbiNjaGF0T3V0IHtcblx0c2Nyb2xsYmFyLWNvbG9yOiB0cmFuc3BhcmVudCB0cmFuc3BhcmVudDsgXG5cdG92ZXJmbG93LXk6IGF1dG87XG5cdHNjcm9sbC1iZWhhdmlvcjogc21vb3RoO1xuXHRvdmVyZmxvdzogc2Nyb2xsO1xuXHRtYXNrLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoXG5cdFx0dG8gYm90dG9tLFxuXHRcdHRyYW5zcGFyZW50IDAlLFxuXHRcdGJsYWNrIDEwJSxcblx0XHRibGFjayAxNSUsXG5cdFx0YmxhY2sgMjUlLFxuXHRcdGJsYWNrIDg1JSxcblx0XHRibGFjayAxMDAlXG5cdCk7XG5cdGh5cGhlbnM6IGF1dG87XG5cdG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7XG5cdC8qIG1hc2staW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIFxuICAgICAgICB0cmFuc3BhcmVudCAwJSwgXG4gICAgICAgIHRyYW5zcGFyZW50IDEwJSwgXG4gICAgICAgIGJsYWNrIDI1JSwgXG4gICAgICAgIGJsYWNrIDc1JSwgXG4gICAgICAgIHRyYW5zcGFyZW50IDkwJSwgXG4gICAgICAgIHRyYW5zcGFyZW50IDEwMCVcbiAgICApO1xuICAgIC13ZWJraXQtbWFzay1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgXG4gICAgICAgIHRyYW5zcGFyZW50IDAlLCBcbiAgICAgICAgdHJhbnNwYXJlbnQgMTAlLCBcbiAgICAgICAgYmxhY2sgMjUlLCBcbiAgICAgICAgYmxhY2sgNzUlLCBcbiAgICAgICAgdHJhbnNwYXJlbnQgOTAlLCBcbiAgICAgICAgdHJhbnNwYXJlbnQgMTAwJVxuICAgICk7ICovXG59XG4jY2hhdEluIHtcblx0cG9zaXRpb246IHN0aWNreTtcblx0b3ZlcmZsb3cteTogYXV0bztcblx0c2Nyb2xsLWJlaGF2aW9yOiBzbW9vdGg7XG5cdGJvdHRvbTogMDtcbn1cbi5pcy1wYXVzZWQgI2NoYXRJbiB7XG5cdHdpZHRoOiAxMDAlO1xuXHRsZWZ0OiAxZW07XG59XG5cbi5pcy1wYXVzZWQgLmNoYXQtY29udGFpbmVyIHtcblx0ZGlzcGxheTogZ3JpZCAhaW1wb3J0YW50OyAvKnN0b3AgY2hhbmdpbmcgd2hlbiBwYXVzaW5nIHBsZWFzZSovXG5cdG1hcmdpbi1sZWZ0OiB1bnNldDtcblx0aGVpZ2h0OiBhdXRvO1xufVxuLmlzLXBhdXNlZCAjY2hhdEluIHtcblx0cG9zaXRpb246IHN0aWNreTtcbn1cbi8qIHRoaXMgcGxhY2VzIHRoZSBjaGF0IGVsZW1lbnQgYmFjayBpbnNpZGUgdGhlIGRpdiAqL1xuLyogT3ZlcndyaXR0aW5nIHRoZSBkZWZhdWx0cyAqL1xuLmNoYXQtd3JhcHBlciAucGF1c2UtdWktZWxlbWVudCB7XG5cdGJvdHRvbTogdmFyKC0tc3Mtc3BhY2UtbGcpICFpbXBvcnRhbnQgO1xuXHRiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xuXHRib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcblx0d2lkdGg6IDMwJSAhaW1wb3J0YW50O1xuXHRoZWlnaHQ6IGF1dG8gIWltcG9ydGFudDtcbn1cbi5pcy1wYXVzZWQgLnBhdXNlLXVpLWVsZW1lbnQge1xuXHRib3R0b206IHZhcigtLXNzLXNwYWNlLWxnKTtcblx0YmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG5cdGJvcmRlcjogbm9uZTtcblx0d2lkdGg6IDMwJTtcblx0aGVpZ2h0OiBhdXRvICFpbXBvcnRhbnQ7XG59XG4vKmFkZENoYXQgZml0bGVkIG1lc3NhZ2UgY29sb3IqL1xuLmFkZENoYXRmaWx0ZXJlZCB7XG5cdGNvbG9yOiByZWQ7XG59XG4iLCAiLyoqXG4gKiBAdG9kbyAoR3JpZikgLSByZW1vdmUgdGhpc1xuICovXG5cbmltcG9ydCB7IENsaWVudCB9IGZyb20gXCIuLi9DbGllbnRcIjtcbmltcG9ydCB7IFdhaXRGb3JDb25kaXRpb24gfSBmcm9tIFwiLi4vQ2xpZW50L1V0aWxpdGllc1wiO1xuaW1wb3J0IGRlZmF1bHRjc3MgZnJvbSBcIi4vbGVnYWN5X2d0d2Vha3MuY3NzXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIHNldHVwVGVtcCgpIHtcblx0YXdhaXQgV2FpdEZvckNvbmRpdGlvbigoKSA9PiBDbGllbnQucmVhZHlTdGF0ZSk7XG5cdENsaWVudC50aGVtZW1hbmFnZXIuYWRkU3R5bGUoZGVmYXVsdGNzcywgJ2xlZ2FjeS1ndHdlYWtzLWNzcycpXG59XG5cbmV4cG9ydCB7IHNldHVwVGVtcCB9O1xuIiwgIi8qKlxuICogVGhpcyBtb2R1bGUgaXMgbXkgXCJtYWluXCIgZW50cnlwb2ludCBmb3IgZXZlcnkgY2xpZW50IGV4dGVuc2lvbiB0aGF0IGkgaW50ZW5kIG9uIHVzaW5nLlxuICogQWx0aG91Z2gsIEkgYWxzbyBpbnRlbmQgdG8gYWxsb3cgZm9yICpzZXZlcmFsKiBvdGhlciB3YXlzIHRvIGV4dGVuZCB0aGUgY2xpZW50IGxhdGVyIG9uIDopXG4gKiBAYXV0aG9yIEdyaWZtaW5cbiAqL1xuaW1wb3J0IHsgRXh0ZW5zaW9uIGFzIGFsdGVybmF0aXZlU2VhcmNoLCBFeHRlbnNpb24gfSBmcm9tIFwiLi9hbHRlcm5hdGl2ZVNlYXJjaFwiO1xuLy8gaW1wb3J0IHsgRXh0ZW5zaW9uIGFzIE1vZE1lbnVfYnJva2VuIH0gZnJvbSBcIi4vYm9ya2VuX21vZG1lbnVcIjsgLy8gdGhpcyB3YXMgbXkgZmlyc3QgYXR0ZW1wdGVkIGltcGxlbWVudGF0aW9uIChkaWRudCBnbyB3ZWxsKVxuaW1wb3J0IHsgRXh0ZW5zaW9uIGFzIFNvdXJjZUV4dGVuc2lvbnMgfSBmcm9tIFwiLi9zb3VyY2VcIjtcbmltcG9ydCB7IEV4dGVuc2lvbiBhcyBQcm90ZWN0IH0gZnJvbSBcIi4vUHJvdGVjdGlvbnNcIjtcbmltcG9ydCB7IEV4dGVuc2lvbiBhcyBNb2RNZW51IH0gZnJvbSBcIi4vbW9kbWVudVwiO1xuaW1wb3J0IHsgRXh0ZW5zaW9uIGFzIFRhYktleVBhdGNoIH0gZnJvbSBcIi4vVGFiS2V5XCI7XG5pbXBvcnQgeyBFeHRlbnNpb24gYXMgcmVOb3RpZmljYXRpb24gfSBmcm9tIFwiLi9yZU5vdGlmaWNhdGlvblwiO1xuaW1wb3J0IHsgRXh0ZW5zaW9uIGFzIFVJQ29tbWFzIH0gZnJvbSBcIi4vdnVlQ29tbWFzXCI7XG5pbXBvcnQgeyBDbGllbnQgfSBmcm9tIFwiLi9DbGllbnRcIjtcbmltcG9ydCB7IHN0b3JhZ2VQcm94eSwgc2V0dGluZ3MgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgY3NzLCBkZWJ1Z0Vycm9yLCBkZWJ1Z0luZm8gfSBmcm9tIFwiLi9sb2dnaW5nXCI7XG5pbXBvcnQgeyBzZXR1cFRlbXAgfSBmcm9tIFwiLi9URU1QT1JBUllcIjtcblxuY29uc3QgRXh0ZW5zaW9uTGlzdDogRXh0ZW5zaW9uSW5zdGFuY2U8YW55LCBhbnk+W10gPSBbXG5cdC8vIE1vZE1lbnVfYnJva2VuLFxuXHRQcm90ZWN0LCAvLyB3ZSB3aWxsIGF0dGVtcHQgdG8gcnVuIHRoaXMgZmlyc3Rcblx0YWx0ZXJuYXRpdmVTZWFyY2gsXG5cdFNvdXJjZUV4dGVuc2lvbnMsXG5cdE1vZE1lbnUsXG5cdFRhYktleVBhdGNoLFxuXHRyZU5vdGlmaWNhdGlvbixcblx0VUlDb21tYXMsXG5dO1xuZnVuY3Rpb24gZ2V0U2V0dGluZ3M8VCBleHRlbmRzIEV4dGVuc2lvbkluc3RhbmNlPGFueSwgYW55Pj4oZXh0ZW5zaW9uOiBUKSB7XG5cdGNvbnN0IHNldHRpbmdzID0gc3RvcmFnZVByb3h5KGV4dGVuc2lvbi51bmlxdWVJZGVudGlmaWVyLCBleHRlbnNpb24uZGVmYXVsdFNldHRpbmdzKTtcblx0cmV0dXJuIHNldHRpbmdzO1xufVxuLyoqXG4gKiBUaGlzIGlzIGp1c3QgYSBwc3VkbyBhdHRlbXB0IGF0IHNhZmVndWFyZGluZyB0aGUgZXh0ZW5zaW9ucy5cbiAqIEp1c3QgaW5jYXNlIG9uZSBvZiB0aGVtICpzb21laG93KiBzb21ldGhpbmcgZmFpbHMgdHJhZ2ljYWxseS5cbiAqL1xuZnVuY3Rpb24gYXR0ZW1wdExvYWRFeHRlbnNpb248VCBleHRlbmRzIHNldHRpbmdzPihleHRlbnNpb246IEV4dGVuc2lvbkluc3RhbmNlPFQsIGFueT4pOiBib29sZWFuIHwgRXJyb3Ige1xuXHR0cnkge1xuXHRcdGV4dGVuc2lvbi5pbml0KCk7IC8vIGl0cyBub3QgdGhhdCBpIGRvbnQgdHJ1c3QgbXlzZWxmLCBpIGp1c3QgZG9udCB3YW50IHRvIGRlYWwgd2l0aCB0aGUgcG9zc2liaWxpdHkgdGhhdCB0aGVpciBtaWdodCBiZSBhbiBpc3N1ZVxuXHRcdHJldHVybiB0cnVlO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRyZXR1cm4gZXJyIGFzIEVycm9yO1xuXHR9XG59XG5cbi8qKlRoaXMgaXMganVzdCBhIGJpZyBmYW5jeSB3cmFwcGVyIGZvciBmYW5jeSB0eXBlaGludHMgZXNzZW50aWFsbHkgKi9cbi8qKlxuICogVGhpcyBpcyBhbiBpbnRlcm5hbCBoZWxwZXIgZnVuY3Rpb24gdGhhdCBlc3NlbnRpYWxseSBwcm92aWRlcyBiaWcgZmFuY3kgdHlwZWhpbnRzXG4gKiAoaXQgYWxzbyBhZGRzIHRoZSBzZXR0aW5ncyBwYXJhbWF0ZXIgdG8gdGhlIGV4dGVuc2lvbiBvYmplY3QpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFeHRlbnNpb248VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4sIEMgZXh0ZW5kcyBjb25maWdPcHRpb25zW10+KFxuXHRkYXRhOiBPbWl0PEV4dGVuc2lvbkluc3RhbmNlPFQsIEM+LCBcInNldHRpbmdzXCI+XG4pOiBFeHRlbnNpb25JbnN0YW5jZTxULCBDPiB7XG5cdGNvbnN0IHNldHRpbmdzID0gZ2V0U2V0dGluZ3MoZGF0YSBhcyBhbnkpIGFzIFQ7XG5cdHJldHVybiB7IC4uLmRhdGEsIHNldHRpbmdzIH07XG59XG5cbi8qKlxuICogTG9hZHMgYWxsIGN1cnJlbnQgZXh0ZW5zaW9uc1xuICogQG5vdGUgKEdyaWYpIC0gU2hvdWxkIHdlIGFsc28gaW1wbGVtZW50IHNvbWUgZXZlbnRzIGhlcmU/XG4gKiBpZTogZmlyZSBvZmYgYW4gZXZlbnQgYmVmb3JlIGFuZCBhZnRlciBleHRlbnNpb25zIGxvYWQ/XG4gKiB3ZSBjb3VsZCBhbHNvIGRvIHRoZW0gYWZ0ZXIgZWFjaCBldmVudCA6YmxvYnNocnVnOlxuICogbXkgb25seSBjb25jZXJuIGlzIHRoYXQgaXRzICpwb3NzaWJsZSogdGhhdCBzb21lIGV4dGVuc2lvbnMgbWlnaHQgcmVseSBvZmYgb2YgdGltaW5nLFxuICogd2hpY2ggdGhlbiBjYXVzZXMgYSB3aG9sZSBsaXN0IG9mIHVuZHVlIHNpZGUgZWZmZWN0c1xuICpcbiAqIG1heWJlIGlsbCBqdXN0IHJlbmFtZSB0aGlzIGZ1bmN0aW9uIGFzIHNldHVwSW50ZXJuYWxFeHRlbnNpb25zP1xuICogZWhoLCBpbGwgZGVjaWRlIGxhdGVyIGlmIG5lZWRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldHVwRXh0ZW5zaW9ucygpIHtcblx0Y29uc3Qgc2V0dXBTdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXHRmb3IgKGNvbnN0IGV4dGVuc2lvbiBvZiBFeHRlbnNpb25MaXN0KSB7XG5cdFx0Y29uc3Qgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcblx0XHRjb25zdCByZXN1bHQgPSBhdHRlbXB0TG9hZEV4dGVuc2lvbihleHRlbnNpb24pO1xuXHRcdGNvbnN0IEV4dCA9IHtcblx0XHRcdHByb2Nlc3NlZDogcmVzdWx0ID09IHRydWUsXG5cdFx0XHRsb2FkVGltZTogcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydCxcblx0XHR9IGFzIEV4dGVuc2lvbjxhbnk+O1xuXHRcdE9iamVjdC5hc3NpZ24oRXh0LCBleHRlbnNpb24pO1xuXHRcdENsaWVudC5hZGRFeHRlbnNpb24oRXh0KTtcblx0XHQvLyBDbGllbnQuZXh0ZW5zaW9ucy5wdXNoKEV4dCk7XG5cdFx0aWYgKCEocmVzdWx0IGluc3RhbmNlb2YgRXJyb3IpKSB7XG5cdFx0XHRkZWJ1Z0luZm8oYEV4dGVuc2lvbiBMb2FkZWQ6ICR7RXh0LnVuaXF1ZUlkZW50aWZpZXJ9YCk7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cdFx0ZGVidWdFcnJvcihgTG9hZGluZzogJWMke0V4dC51bmlxdWVJZGVudGlmaWVyfSAtICR7cmVzdWx0Lm1lc3NhZ2V9YCwgcmVzdWx0KTtcblx0fVxuXG5cdGNvbnN0IGR1cmF0aW9uID0gKHBlcmZvcm1hbmNlLm5vdygpIC0gc2V0dXBTdGFydCkudG9GaXhlZCgyKTtcblx0Y29uc3QgbG9hZGVkU3VjY2Vzc2Z1bGx5ID0gQ2xpZW50LmV4dGVuc2lvbnMuZmlsdGVyKChleHRlbnNpb24pID0+IGV4dGVuc2lvbi5wcm9jZXNzZWQgPT0gdHJ1ZSk7XG5cdGNvbnN0IG1lc3NhZ2UgPSBgTG9hZGVkICVjJHtsb2FkZWRTdWNjZXNzZnVsbHkubGVuZ3RofSVjLyVjJHtDbGllbnQuZXh0ZW5zaW9ucy5sZW5ndGh9JWMgZXh0ZW5zaW9ucyBpbiAlYyR7ZHVyYXRpb259JWNtcyBzdWNjZXNzZnVsbHlgO1xuXHRkZWJ1Z0luZm8obWVzc2FnZSwgY3NzLm51bWJlciwgXCJcIiwgY3NzLm51bWJlciwgXCJcIiwgY3NzLm51bWJlciwgXCJcIik7XG5cdENsaWVudC5yZWFkeVN0YXRlID0gdHJ1ZTtcblx0c2V0dXBUZW1wKCk7XG5cdC8qKlxuXHQgKiB3aGVuIHdlIGFyZSBkb25lLCB3ZSBpbml0IHRoZSBjbGllbnRcblx0ICpcblx0ICogQHF1ZXN0aW9uIChHcmlmKSAtIHNob3VsZCB0aGlzIGJlIGFuIGV2ZW50P1xuXHQgKiAqL1xufVxuZXhwb3J0IGludGVyZmFjZSBFeHRlbnNpb25EYXRhPFxuXHRUU2V0dGluZ3MgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55PlxuXHQvLyBTZWxmID0gRXh0ZW5zaW9uSW5zdGFuY2U8VFNldHRpbmdzPlxuPiB7XG5cdC8qKlxuXHQgKiBZb3UgbXVzdCBwcml2ZGUgYSBzb21ld2hhdCB1bmlxdWVJZGVudGlmaWVyIHNvIHRoYXQgeW91IGNhbiBnZXQgeW91ciBvd24gc2V0dGluZ3Ncblx0ICogbXkgcmVjb21lbmRhdGlvbiBpcyBkb2luZyBzb21ldGhpbmcgbGlrZSB0aGlzXG5cdCAqICoqYG15dXNlcm5hbWUtbW9kbmFtZWAqKlxuXHQgKiAqL1xuXHR1bmlxdWVJZGVudGlmaWVyOiBzdHJpbmc7XG5cdGRlZmF1bHRTZXR0aW5nczogVFNldHRpbmdzO1xuXHQvKipcblx0ICogYW4gaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24uXG5cdCAqICoqU3Ryb25nbHkqKiBzdWdnZXN0IHVzaW5nIGZ1bmN0aW9ucyBpbnN0ZWFkIG9mIGFycm93IGZ1bmN0aW9ucyAodG8gYmVhYmxlIHRvIGFjY2VzcyBgdGhpc2Aga2V5d29yZHMqL1xuXHRpbml0KCk6IHZvaWQ7XG5cdGljb25Vcmw/OiBzdHJpbmc7XG5cdGNvbmZpZygpOiBBcnJheTxjb25maWdPcHRpb25zPjtcblx0LyoqdGhpcyB0b2dnbGVzIHRoZSBleHRlbnNpb24gb24gb3Igb2ZmIChpZiBhcHBsaWNhYmxlKSAqL1xuXHQvLyBvbnNldHRpbmdzQ2hhbmdlKHRoaXM6IFNlbGYsIClcblx0b25PcHRpb25zQ2hhbmdlPzogKHVwZGF0ZWRTdGF0ZTogYW55KSA9PiBib29sZWFuO1xuXHRpc0VuYWJsZWQ/KCk6IGJvb2xlYW47XG5cdGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuXHRuYW1lPzogc3RyaW5nO1xuXHRhdXRob3I/OiBzdHJpbmc7XG5cdHZlcnNpb24/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXh0ZW5zaW9uSW5zdGFuY2U8VFNldHRpbmdzIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiwgVENvbmZpZyBleHRlbmRzIGNvbmZpZ09wdGlvbnNbXT4ge1xuXHQvKipcblx0ICogWW91IG11c3QgcHJpdmRlIGEgc29tZXdoYXQgdW5pcXVlSWRlbnRpZmllciBzbyB0aGF0IHlvdSBjYW4gZ2V0IHlvdXIgb3duIHNldHRpbmdzXG5cdCAqIG15IHJlY29tZW5kYXRpb24gaXMgZG9pbmcgc29tZXRoaW5nIGxpa2UgdGhpc1xuXHQgKiAqKmBteXVzZXJuYW1lLW1vZG5hbWVgKipcblx0ICogKi9cblx0dW5pcXVlSWRlbnRpZmllcjogc3RyaW5nO1xuXHRkZWZhdWx0U2V0dGluZ3M6IFRTZXR0aW5ncztcblx0c2V0dGluZ3M6IFRTZXR0aW5ncztcblx0LyoqXG5cdCAqIGFuIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uLlxuXHQgKiAqKlN0cm9uZ2x5Kiogc3VnZ2VzdCB1c2luZyBmdW5jdGlvbnMgaW5zdGVhZCBvZiBhcnJvdyBmdW5jdGlvbnMgKHRvIGJlYWJsZSB0byBhY2Nlc3MgYHRoaXNgIGtleXdvcmRzKi9cblx0aW5pdCh0aGlzOiBFeHRlbnNpb25JbnN0YW5jZTxUU2V0dGluZ3MsIFRDb25maWc+KTogdm9pZDtcblx0aWNvblVybD86IHN0cmluZztcblx0Y29uZmlnPyh0aGlzOiBFeHRlbnNpb25JbnN0YW5jZTxUU2V0dGluZ3MsIFRDb25maWc+KTogQXJyYXk8Y29uZmlnT3B0aW9ucz47XG5cdC8qKnRoaXMgdG9nZ2xlcyB0aGUgZXh0ZW5zaW9uIG9uIG9yIG9mZiAoaWYgYXBwbGljYWJsZSkgKi9cblx0Ly8gb25zZXR0aW5nc0NoYW5nZSh0aGlzOiBFeHRlbnNpb25JbnN0YW5jZTxUU2V0dGluZ3M+LCApXG5cdG9uT3B0aW9uc0NoYW5nZT86IChcblx0XHR0aGlzOiBFeHRlbnNpb25JbnN0YW5jZTxUU2V0dGluZ3MsIFRDb25maWc+LFxuXHRcdHVwZGF0ZWRTdGF0ZTogVENvbmZpZ1tudW1iZXJdICYgeyBsYWJlbD86IHN0cmluZyB9XG5cdCkgPT4gYm9vbGVhbjtcblx0aXNFbmFibGVkPyh0aGlzOiBFeHRlbnNpb25JbnN0YW5jZTxUU2V0dGluZ3MsIFRDb25maWc+KTogYm9vbGVhbjtcblx0LyoqSWYgdGhpcyBpcyB0cnVlIG9uIG9uZSAob3IgYW55KSBleHRlbnNpb24sIHRoZSB3aW5kb3cgcmVxdWVzdCBSZWZyZXNoIGJ1dHRvbiB3aWxsIGJlIGFwcGxpZWQgKi9cblx0cmVxdWVzdFJlZnJlc2g/KHRoaXM6IEV4dGVuc2lvbkluc3RhbmNlPFRTZXR0aW5ncywgVENvbmZpZz4pOiBib29sZWFuO1xuXHRkZXNjcmlwdGlvbj86IHN0cmluZztcblx0bmFtZT86IHN0cmluZztcblx0YXV0aG9yPzogc3RyaW5nO1xuXHR2ZXJzaW9uPzogc3RyaW5nO1xufVxudHlwZSBjb25maWdPcHRpb25zID0gKFRvZ2dsZSB8IFNsaWRlciB8IElucHV0VHlwZSkgJiB7IGxhYmVsPzogc3RyaW5nIH07XG50eXBlIFRvZ2dsZSA9IHsgcmVhZG9ubHkgdHlwZTogXCJUb2dnbGVcIjsgdmFsdWU6IGJvb2xlYW4gfTtcbnR5cGUgU2xpZGVyID0geyByZWFkb25seSB0eXBlOiBcIlNsaWRlclwiOyBtaW46IG51bWJlcjsgbWF4OiBudW1iZXI7IHZhbHVlOiBudW1iZXI7IGluY3JlbWVudD86IG51bWJlciB9O1xudHlwZSBJbnB1dFR5cGUgPSB7IHJlYWRvbmx5IHR5cGU6IFwiSW5wdXRcIjsgaW5wdXQ6IHN0cmluZzsgcGxhY2Vob2xkZXI/OiBzdHJpbmcgfTtcblxuLy8gZXhwb3J0IHR5cGUgRXh0ZW5zaW9uSW5zdGFuY2U8VFNldHRpbmdzIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55Pj4gPSBFeHRlbnNpb25JbnN0YW5jZTxUU2V0dGluZ3M+ICYgeyBzZXR0aW5nczogVFNldHRpbmdzIH07XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXh0ZW5zaW9uPFQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+PiBleHRlbmRzIEV4dGVuc2lvbkluc3RhbmNlPFQsIGFueT4ge1xuXHQvKiogSW50ZXJuYWwgSUQgZm9yIFZ1ZSBjb21wb25lbnRzICovXG5cdGlkOiBudW1iZXI7XG5cdHByb2Nlc3NlZDogYm9vbGVhbjtcblx0LyoqVGltZSBpbiBtcyB0byBsb2FkIHRoZSBleHRlbnNpb24gKGp1c3Qgc29tZXdoYXQgdXNlZnVsIGlmIHlvdSBoYXZlIGEgYnVsa3kgZXh0ZW5zaW9uKSAqL1xuXHRsb2FkVGltZTogbnVtYmVyO1xufVxuIiwgIi8qKlxuICogVGhpcyBpcyB0aGUgbWFpbiBlbnRyeXBvaW50IGZvciBhbGwgbXkgbGl0dGxlIGV4dGVuc2lvbnMgdGhhdCBpIGludGVuZCBvbiB1c2luZy5cbiAqIEBhdXRob3IgR3JpZm1pblxuICovXG5pbXBvcnQgeyBzZXR1cEV4dGVuc2lvbnMgfSBmcm9tIFwiLi9leHRlbnNpb25zXCI7XG5pbXBvcnQgeyBzdGFydENsaWVudCB9IGZyb20gXCIuL2V4dGVuc2lvbnMvQ2xpZW50XCI7XG5zdGFydENsaWVudCgpO1xuc2V0dXBFeHRlbnNpb25zKCk7XG5cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7aUxBU0EsSUFBTUEsRUFBTSxDQUNYLFFBQVMseUZBQ1QsS0FBTSx5RkFDTixLQUFNLHlGQUNOLEtBQU0seUZBQ04sT0FBUSxvRkFDVCxFQUdNLENBQUUsSUFBQUMsR0FBSyxLQUFBQyxHQUFNLE1BQUFDLEdBQU8sS0FBQUMsR0FBTSxNQUFBQyxFQUFNLEVBQUksUUFNMUMsU0FBU0MsRUFBVUMsS0FBb0JDLEVBQWEsQ0FDbkRKLEdBQUssaUJBQWlCLE9BQUFHLEdBQVdQLEVBQUksUUFBUyxHQUFJLEdBQUdRLENBQUssQ0FDM0QsQ0FFQSxTQUFTQyxFQUFXRixLQUFvQkMsRUFBYSxDQUNwREwsR0FBTSx1QkFBdUIsT0FBQUksR0FBV1AsRUFBSSxLQUFNLEdBQUksR0FBR1EsQ0FBSyxDQUMvRCxDQUVBLFNBQVNFLEVBQVVILEtBQW9CQyxFQUFhLENBQ25ETixHQUFLLHNCQUFzQixPQUFBSyxHQUFXUCxFQUFJLEtBQU0sR0FBSSxHQUFHUSxDQUFLLENBQzdELENBRUEsU0FBU0csRUFBV0osS0FBb0JDLEVBQWEsQ0FDcERILEdBQU0sdUJBQXVCLE9BQUFFLEdBQVdQLEVBQUksS0FBTSxHQUFJLEdBQUdRLENBQUssQ0FDL0QsQ0N0Q0EsSUFBQUksR0FBQSxDQUNDLFFBQVcsQ0FDVixZQUFhLENBQ1osS0FBUSxDQUFDLFlBQWEsWUFBWSxFQUNsQyxPQUFVLENBQUMsS0FBTSxLQUFNLElBQUksQ0FD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QU1YLENDNUZBQyxHQUFZLEVBQ1pDLEdBQWdCIiwKICAibmFtZXMiOiBbImNzcyIsICJsb2ciLCAid2FybiIsICJlcnJvciIsICJpbmZvIiwgImRlYnVnIiwgImRlYnVnSW5mbyIsICJtZXNzYWdlIiwgIm90aGVyIiwgImRlYnVnRXJyb3IiLCAiZGVidWdXYXJuIiwgImRlYnVnRGVidWciLCAiYWxpYXNlc19kZWZhdWx0IiwgImFsaWFzZXMiLCAiYWxpYXNlc19kZWZhdWx0IiwgInNlYXJjaEJ5TmFtZUluY2x1ZGVzIiwgImlucHV0IiwgIml0ZW1zIiwgIm9wdGlvbnMiLCAiaXRlbSIsICJzZWFyY2hCeUl0ZW1JZCIsICJpdGVtSWQiLCAic2VhcmNoQnlNZXNoTmFtZUluY2x1ZGVzIiwgInNlYXJjaEJ5QWxpYXNlc0hlbHBlciIsICJzZWFyY2hGb3JtYXQiLCAicmV0dXJuTGlzdCIsICJ0YWdzIiwgInJlc3VsdCIsICJ0YWciLCAiaWRzIiwgIm5hbWVzIiwgIm5hbWUiLCAibmVnYXRlIiwgInNlYXJjaEJ5QWxpYXNlcyIsICJpdGVtU2VhcmNoVGVybVBhdGNoIiwgInRlcm0iLCAia2V5cyIsICJrZXkiLCAiZGVidWdJbmZvIiwgImVudGlyZXNQYXRjaCIsICJhbGlhcyIsICJrZXl3b3JkIiwgImFsaWFzRW50cmllcyIsICJJdGVtcyIsICJzZWFyY2hCeVRhZ3NfdGFnSW5jbHVkZXMiLCAic2VhcmNoRnVuY3Rpb25zIiwgIkZvb3NlIiwgIkl0ZW1zRmxhdHRlbmVkIiwgInNlYXJjaEZ1bmMiLCAiZGVzY3JpcHRpb24iLCAib3JpZ2luYWxGdXNlIiwgInN0YXRlIiwgInJlZGVmaW5lIiwgInZhbHVlIiwgIkV4dGVuc2lvbiIsICJjcmVhdGVFeHRlbnNpb24iLCAidXBkYXRlZHN0YXRlIiwgImRlYnVnRGVidWciLCAibmV3c3RhdGUiLCAibWFwcGluZ3MiLCAiTW9kTG9hZGVyIiwgInJlcXVlc3RlZE1hcHBpbmdzIiwgInNhZmVHZXR0ZXIiLCAidmFsdWUiLCAibWFwIiwgImtleSIsICJhZGRNYXBwaW5ncyIsICJkYXRhIiwgImF0dGVtcHREZWZpbmVNb2Rsb2FkZXJJbnRlcm5hbCIsICJlcnIiLCAiZGVidWdFcnJvciIsICJhdHRlbXB0RGVmaW5lTW9kbG9hZGVyIiwgImRlZmluZWQiLCAiZmlsdGVyZWRFbnRyaWVzIiwgIm5ld0luc3RhbmNlIiwgImV4dGVuZGVkTW9kTG9hZGVyIiwgImNzcyIsICJTb3VyY2VNb2RzX2V4cG9ydHMiLCAiX19leHBvcnQiLCAiQWRibG9ja01vZCIsICJBbnRpQUZLS2ljayIsICJDaGFsbGVuZ2VzUmVSb2xsIiwgIkNoaWNrZW5XaW5uZXJUcnlQbGF5IiwgIkV4Y2Vzc2l2ZUxvZ3NQYXRjaCIsICJTdHJpcE9iZnVzY2F0ZWRDb2RlIiwgImFkZENoYXRSZXdyaXRlIiwgImV4aXRTcGVjdGF0ZU1vZGVQYXRjaCIsICJvbkNoYXRLZXlEb3duUmV3cml0ZSIsICJzZXRSZXNwYXduVGltZXJNb2QiLCAiV2FpdEZvckNvbmRpdGlvbiIsICJjb25kaXRpb24iLCAicG9sbGluZ1JhdGUiLCAibWF4VGltZW91dCIsICJTdGFydFRpbWUiLCAiaW50ZXJ2YWwiLCAicmVzb2x2ZSIsICJyZWplY3QiLCAiUGF0dGVybk1hdGNoRmFpbGVkIiwgInJlZ2V4VGVtcGxhdGUiLCAiZmxhZyIsICJzdHJpbmdzIiwgInZhbHVlcyIsICJMSVRFUkFMIiwgInN0ciIsICJ0cmFuc2Zvcm1lZCIsICJpZHgiLCAiZGVmYXVsdFJlZ2V4VGVtcGxhdGUiLCAidmFsaWRDaGFyYWN0ZXJzIiwgInJlIiwgInRhcmdldCIsICJmbGFncyIsICJjaGFyIiwgImV4ZWNPclRocm93IiwgInBhdHRlcm4iLCAic291cmNlIiwgInJlYXNvbiIsICJyZXN1bHQiLCAiX2EiLCAiX2IiLCAiQWRibG9ja01vZCIsICJzb3VyY2UiLCAicmUiLCAiX190ZW1wbGF0ZSIsICJtYXRjaCIsICJleGVjT3JUaHJvdyIsICJwcm9kdWN0QmxvY2tBZHMiLCAicHJvZHVjdEJsb2NrQWRzQXNzaWdubWVudCIsICJNb3VzZUxvZ2dpbmciLCAiQ2hhbGxlbmdlc1JlUm9sbCIsICJwYXR0ZXJuIiwgIkNoaWNrZW5XaW5uZXJUcnlQbGF5IiwgIlN0cmlwT2JmdXNjYXRlZENvZGUiLCAiZmlyc3RQYXR0ZXJuIiwgIlNlY29uZFBhdHRlcm4iLCAiRXhjZXNzaXZlTG9nc1BhdGNoIiwgIl9jIiwgIl9kIiwgIl9lIiwgIl9mIiwgIl9nIiwgIl9oIiwgIl9pIiwgIl9qIiwgImFkZENoYXRSZXdyaXRlIiwgImZ1bmNOYW1lUmUiLCAiYWRkQ2hhdE5hbWUiLCAiZnVuY1NyY1JlIiwgImZ1bmNzcmNNYXRjaCIsICJmdW5jc3JjIiwgIm1zZyIsICJmbGFncyIsICJwbGF5ZXJJZCIsICJjYWxsYmFja19vcl9jbG9zdXJlIiwgImZvcm1hdHRlciIsICJwbGF5ZXIiLCAicGxheWVyTGlzdCIsICJjaGF0T3V0RWwiLCAiaXNCYWRXb3JkIiwgInBhcnNlU29jaWFsIiwgInRlYW1Db2xvcnMiLCAibWVJZCIsICJwaW5uZWQiLCAidGVhbSIsICJDaGF0Q29udGFpbmVyIiwgImFza0Nsb3N1cmUiLCAic2FmZWRpdiIsICJ1bmlxdWVJZCIsICJteVBsYXllciIsICJhZGRNYXBwaW5ncyIsICJuZXdGdW5jIiwgIl9rIiwgIm9uQ2hhdEtleURvd25SZXdyaXRlIiwgInJlcXVlc3RlZE1hcHBpbmdzIiwgImFkZENoYXQiLCAic3JjbWF0Y2giLCAiZnVuY1NyYyIsICJjaGF0SW5FbCIsICJmaXhTdHJpbmdXaWR0aCIsICJjaGF0RmxhZ3NBbmRHYW1lT3duZXJSRSIsICJjaGF0RmxhZ3MkcGlubmVkIiwgImlzR2FtZU93bmVyIiwgImNoYXRGbGFncyRub25lIiwgInRlYW1SZSIsICJpc1RlYW1zTW9kZSIsICJjaGF0RmxhZ3MkdGVhbXMiLCAic3RvcENoYXQiLCAiY2hhdEV2ZW50cyIsICJjbGllbnRQZXJtcyIsICJvYnNlcnZlQW5kbWVJZFJlIiwgIm9ic2VydmluZ0dhbWUiLCAic2VuZE1lc3NhZ2VXUyIsICJyZXBsYWNlbWVudEZ1bmN0aW9uU291cmNlIiwgIl9sIiwgInNldFJlc3Bhd25UaW1lck1vZCIsICJmaXJzdE1hdGNoIiwgInNldFJlc3Bhd25UaW1lIiwgInJlc3Bhd25UaW1lIiwgInNlY29uZE1hdGNoIiwgImludGVydmFsIiwgInJlc3Bhd25JbnRlcnZhbCIsICJQcmVwUmVzcGF3bkFkIiwgImRvTWFwT3ZlcnZpZXdDYW1lcmEiLCAidGhpcmQiLCAiaW5HYW1lIiwgIldhaXRGb3JDb25kaXRpb24iLCAiZGlzIiwgInBsYXlCdG5UZXh0IiwgIl9tIiwgIl9uIiwgIl9vIiwgImV4aXRTcGVjdGF0ZU1vZGVQYXRjaCIsICJtYXBwaW5ncyIsICJtZSIsICJwbGF5aW5nU3RhdGUiLCAiZnVuY05hbWVQYXR0ZXJuIiwgImZ1bmNOYW1lTWF0Y2giLCAiZnVuY3Rpb25OYW1lIiwgImZ1bmNQYXR0ZXJuIiwgIkFudGlBRktLaWNrIiwgInBhdHQiLCAia2VlcEFsaXZlUG9pbnQiLCAia2VlcEFsaXZlQ2FsbGJhY2siLCAiRW1iZWRGdW5jdGlvbkxvZ2ljIiwgImVtYmVkUGF0dGVybiIsICJvdGhlclNvdXJjZU1vZHMiLCAiU291cmNlTW9kc19leHBvcnRzIiwgIkJhc2lzIiwgInNvdXJjZSIsICJFbWJlZFBhdHRlcm4iLCAiVW5zYWZlIiwgIlNvdXJjZU1vZHMiLCAiYWRkTW9kIiwgInNvdXJjZU1vZCIsICJBY2NlcHRhYmxlTW9kcyIsICJtb2QiLCAiZ2V0RnVsbFNvdXJjZU1hcHBpbmdzIiwgInZhbGlkYXRlU291cmNlQ29kZSIsICJzb3VyY2UiLCAiZXJyIiwgInNvdXJjZU1vZCIsICJyZXF1aXJlZE1hcHBpbmdzIiwgInNvdXJjZW1hcHBpbmdzIiwgIk1vZExvYWRlciIsICJlbnRyaWVzU3JjTWFwIiwgImtleSIsICJlbnRyaWVzIiwgInZhbHVlIiwgImF0dGVtcHRTb3VyY2VNb2QiLCAiY3VycmVudFNvdXJjZSIsICJzcGVjaWZpZWRNYXBwaW5ncyIsICJMb2FkU3RhdGUiLCAibmV3U291cmNlIiwgInJlc3VsdCIsICJDb3JlTG9hZGVyIiwgIm9yaWdpbmFsU291cmNlIiwgInNvdXJjZU1vZHMiLCAiU291cmNlTW9kcyIsICJpdGVyYXRpb24iLCAibWF4SXRlcmF0aW9uIiwgIm1vZGlmaWVkU291cmNlIiwgInNvdXJjZU1vZHNNb2RpZmljYXRpb25TdGFydCIsICJTb3VyY2VNb2RzVG9Mb2FkIiwgInNraXBwZWRNb2RzIiwgIm0iLCAic291cmNlTW9kU3RhcnQiLCAic291cmNlTW9kRHVyYXRpb24iLCAiZXJyb3JtZXNzYWdlIiwgImRlYnVnRXJyb3IiLCAiY3NzIiwgImRlYnVnV2FybiIsICJkZWJ1Z0luZm8iLCAibXNnIiwgInRvdGFsRHVyYXRpb24iLCAiaXNFZ2dHYW1lU291cmNlIiwgInNvdXJjZSIsICJBcHBseVNvdXJjZUludGVyY2VwdGlvbiIsICJvcmlnaW5hbCIsICJub2RlIiwgIk1vZExvYWRlciIsICJDb3JlTG9hZGVyIiwgImF0dGVtcHREZWZpbmVNb2Rsb2FkZXIiLCAiaW5pdGlhbE1vZFNldHRpbmdzIiwgImJhc2VMYWJlbCIsICJkZXNjcmlwdGlvbiIsICJFeHRlbnNpb24iLCAiY3JlYXRlRXh0ZW5zaW9uIiwgImNvbmZpZ09wdGlvbnMiLCAibmFtZSIsICJTb3VyY2VNb2RzIiwgInN0YXRlIiwgImluZGl2aWR1YWxNb2RPcHRpb25zIiwgIm1vZE5hbWUiLCAiZW5hYmxlZCIsICJtb2QiLCAidXBkYXRlZFN0YXRlIiwgImRlYnVnV2FybiIsICJuZXdTdGF0ZSIsICJlbmFibGVkU3RhdGVNYXRjaGVzIiwgImluaXRpYWxNb2RTdGF0ZXMiLCAibW9kU3RhdGVzTWF0Y2giLCAia2V5IiwgInZhbHVlIiwgIlByb3RlY3RlZCIsICJQcm90ZWN0QWxsb3dFeHRlbnNpb24iLCAiRnJlZXplT2JqZWN0IiwgIm9iaiIsICJQcm90ZWN0SW50ZXJuYWxzIiwgImhhcmRlbmVkIiwgInByb3BlcnR5IiwgImRlc2NyaXB0b3IiLCAiUHJvdGVjdCIsICJlcnIiLCAiaW5pdGlhbExvYWRDb25kaXRpb24iLCAiZGVzY3JpcHRpb24iLCAiRXh0ZW5zaW9uIiwgImNyZWF0ZUV4dGVuc2lvbiIsICJ1cGRhdGVkU3RhdGUiLCAic3R5bGVEaXZJZGVudGlmaWVyIiwgIlRoZW1lRGl2IiwgImdldERpdiIsICJXYWl0Rm9yQ29uZGl0aW9uIiwgImRpdiIsICJUaGVtZU1hbmFnZXIiLCAic3R5bGVFbGVtZW50IiwgImlkZW50aWZpZXIiLCAiY3NzIiwgImRlZmF1bHRfZGVmYXVsdCIsICJzdGFydFRpbWUiLCAiQ2xpZW50IiwgImdldE5ld0NsaWVudEluc3RhbmNlIiwgIlRoZW1lTWFuYWdlciIsICJuZXdFeHRlbnNpb24iLCAiZXhpc3RpbmdFeHRlbnNpb24iLCAiZGVidWdXYXJuIiwgImF0dGVtcHRDbGllbnREZWZpbml0aW9uIiwgImVyciIsICJkZWJ1Z0Vycm9yIiwgImFkZERlZmF1bHRDc3MiLCAiZGVmYXVsdF9kZWZhdWx0IiwgInN0YXJ0Q2xpZW50IiwgImRlZmluZWQiLCAiZmlsdGVyZWRFbnRyaWVzIiwgImtleSIsICJ2YWx1ZSIsICJuZXdJbnN0YW5jZSIsICJjc3MiLCAiVGltZVN0YW1wU3RyaW5nIiwgImRlYnVnSW5mbyIsICJtb2RtZW51X2RlZmF1bHQiLCAibW9kbWVudV9zY3JlZW5fdGVtcGxhdGVfZGVmYXVsdCIsICJtb2RNZW51U2NyZWVuSW5kZXgiLCAiTW9kTWVudU5hbWUiLCAic3dpdGNoVG9Nb2RNZW51VWkiLCAidXBkYXRlVnVlQXBwIiwgIldhaXRVbnRpbFNldHVwIiwgImlzUmVhZHkiLCAiQ2xpZW50IiwgInZhbHVlIiwgIldhaXRGb3JDb25kaXRpb24iLCAicmVhc29uIiwgImRlYnVnRXJyb3IiLCAiZGVidWdJbmZvIiwgIm1vZG1lbnVfZGVmYXVsdCIsICJNb2RNZW51U2NyZWVuIiwgIm1vZG1lbnVfc2NyZWVuX3RlbXBsYXRlX2RlZmF1bHQiLCAiZXh0ZW5zaW9ucyIsICJleHQiLCAiTW9kUmVxdWVzdGVkUmVmcmVzaCIsICJtb2QiLCAiaW5wdXQiLCAic2xpZGVyIiwgImlkeCIsICJvcHRpb24iLCAibWFpblNjcmVlbnMiLCAibW9kbWVudSIsICJNb2RNZW51VnVlIiwgImgiLCAib3JpZ2luYWwiLCAiaXRlbSIsICJhcmdzIiwgInNjcmVlbiIsICJtb2RtZW51U2NyZWVuIiwgIk1vZE1lbnVFeHRlbnNpb24iLCAiY3JlYXRlRXh0ZW5zaW9uIiwgInVwZGF0ZVN0YXRlIiwgImRlYnVnRGVidWciLCAiaW50ZXJuYWxfU0NCIiwgInRhcmdldFZhciIsICJ0YXJnZXRNZXRob2QiLCAiTGFiZWwiLCAiU291cmNlTW9kIiwgInNvdXJjZSIsICJtYXRjaCIsICJQYXR0ZXJuTWF0Y2hGYWlsZWQiLCAiYW5ub3lhbmNlIiwgImluQ2hhdE1hdGNoIiwgInRhcmdldFNyYyIsICJldmVudCIsICJleGl0Q2hhdENhbGwiLCAibmV3Q2FsbCIsICJuZXdzb3VyY2UiLCAiYWx0ZXJuYXRpdmUiLCAia2V5IiwgImFwcGx5RXZlbnRJbnRlcmNlcHQiLCAia2V5ZG93biIsICJ1cGRhdGVWdWVDb21wIiwgInVwZGF0ZU1ldGhvZCIsICJ2IiwgIm9yaWdpbmFsU2V0dGluZ3MiLCAiRXh0ZW5zaW9uIiwgImNyZWF0ZUV4dGVuc2lvbiIsICJhZGRNb2QiLCAidXBkYXRlZFN0YXRlIiwgIm5vdGlmaWNhdGlvbl9kZWZhdWx0IiwgIm5vdGlmaWNhdGlvbl9kZWZhdWx0IiwgImVuYWJsZWRTdGF0ZSIsICJkaXNtaXNzTm90aWZpY2F0aW9uIiwgImNhbGxiYWNrIiwgIm5vdGlmeURpdiIsICJhbmltIiwgImFuaW1JbiIsICJub3RpZnkiLCAibXNnIiwgInRpbWVvdXQiLCAiYWRkSHRtbCIsICJXYWl0Rm9yQ29uZGl0aW9uIiwgIkNsaWVudCIsICJub3RpZmljYXRpb25fZGVmYXVsdCIsICJkaXYiLCAiRXh0ZW5zaW9uIiwgImNyZWF0ZUV4dGVuc2lvbiIsICJ1cGRhdGVkU3RhdGUiLCAiaW50ZXJuYWxjb21wX2l0ZW0iLCAiaXNSZWFkeSIsICJzZXR1cFN0YXRBbHRlcm5hdGl2ZSIsICJzdGF0IiwgImZpcnN0IiwgInNlY29uZCIsICJ2IiwgIml0ZW1QcmljZUFsdGVybmF0aXZlIiwgInN0YXRUZW1wbGF0ZU1peGluIiwgIldhaXRGb3JDb25kaXRpb24iLCAiY29tcF9pdGVtJEl0ZW1QcmljZU92ZXJ3cml0ZSIsICJ1cGRhdGUiLCAidGFyZ2V0Q29tcG9uZW50IiwgIml0ZW1QcmljZUFsdGVybmF0aXZlIiwgImludGVybmFsY29tcF9pdGVtIiwgImluaXRpYWxMb2FkQ29uZGl0aW9uIiwgIkV4dGVuc2lvbiIsICJjcmVhdGVFeHRlbnNpb24iLCAic3RhdFRlbXBsYXRlTWl4aW4iLCAidXBkYXRlZFN0YXRlIiwgInN0b3JhZ2VQcm94eSIsICJrZXkiLCAiYmx1ZXByaW50IiwgImRhdGEiLCAic2F2ZWQiLCAiXyIsICJwcm9wIiwgInZhbHVlIiwgImxlZ2FjeV9ndHdlYWtzX2RlZmF1bHQiLCAic2V0dXBUZW1wIiwgIldhaXRGb3JDb25kaXRpb24iLCAiQ2xpZW50IiwgImxlZ2FjeV9ndHdlYWtzX2RlZmF1bHQiLCAiRXh0ZW5zaW9uTGlzdCIsICJFeHRlbnNpb24iLCAiTW9kTWVudUV4dGVuc2lvbiIsICJnZXRTZXR0aW5ncyIsICJleHRlbnNpb24iLCAic3RvcmFnZVByb3h5IiwgImF0dGVtcHRMb2FkRXh0ZW5zaW9uIiwgImVyciIsICJjcmVhdGVFeHRlbnNpb24iLCAiZGF0YSIsICJzZXR0aW5ncyIsICJzZXR1cEV4dGVuc2lvbnMiLCAic2V0dXBTdGFydCIsICJzdGFydCIsICJyZXN1bHQiLCAiRXh0IiwgIkNsaWVudCIsICJkZWJ1Z0luZm8iLCAiZGVidWdFcnJvciIsICJkdXJhdGlvbiIsICJsb2FkZWRTdWNjZXNzZnVsbHkiLCAibWVzc2FnZSIsICJjc3MiLCAic2V0dXBUZW1wIiwgInN0YXJ0Q2xpZW50IiwgInNldHVwRXh0ZW5zaW9ucyJdCn0K
